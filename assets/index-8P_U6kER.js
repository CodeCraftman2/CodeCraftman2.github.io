(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const s of document.querySelectorAll('link[rel="modulepreload"]'))r(s);new MutationObserver(s=>{for(const i of s)if(i.type==="childList")for(const o of i.addedNodes)o.tagName==="LINK"&&o.rel==="modulepreload"&&r(o)}).observe(document,{childList:!0,subtree:!0});function n(s){const i={};return s.integrity&&(i.integrity=s.integrity),s.referrerPolicy&&(i.referrerPolicy=s.referrerPolicy),s.crossOrigin==="use-credentials"?i.credentials="include":s.crossOrigin==="anonymous"?i.credentials="omit":i.credentials="same-origin",i}function r(s){if(s.ep)return;s.ep=!0;const i=n(s);fetch(s.href,i)}})();var He=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};function Mh(t){return t&&t.__esModule&&Object.prototype.hasOwnProperty.call(t,"default")?t.default:t}function zh(t){if(t.__esModule)return t;var e=t.default;if(typeof e=="function"){var n=function r(){return this instanceof r?Reflect.construct(e,arguments,this.constructor):e.apply(this,arguments)};n.prototype=e.prototype}else n={};return Object.defineProperty(n,"__esModule",{value:!0}),Object.keys(t).forEach(function(r){var s=Object.getOwnPropertyDescriptor(t,r);Object.defineProperty(n,r,s.get?s:{enumerable:!0,get:function(){return t[r]}})}),n}var Xu={exports:{}},ci={},Zu={exports:{}},U={};/**
 * @license React
 * react.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Qr=Symbol.for("react.element"),Fh=Symbol.for("react.portal"),Bh=Symbol.for("react.fragment"),Hh=Symbol.for("react.strict_mode"),Wh=Symbol.for("react.profiler"),Vh=Symbol.for("react.provider"),qh=Symbol.for("react.context"),Kh=Symbol.for("react.forward_ref"),Gh=Symbol.for("react.suspense"),Qh=Symbol.for("react.memo"),Jh=Symbol.for("react.lazy"),wl=Symbol.iterator;function Yh(t){return t===null||typeof t!="object"?null:(t=wl&&t[wl]||t["@@iterator"],typeof t=="function"?t:null)}var ec={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},tc=Object.assign,nc={};function Jn(t,e,n){this.props=t,this.context=e,this.refs=nc,this.updater=n||ec}Jn.prototype.isReactComponent={};Jn.prototype.setState=function(t,e){if(typeof t!="object"&&typeof t!="function"&&t!=null)throw Error("setState(...): takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,t,e,"setState")};Jn.prototype.forceUpdate=function(t){this.updater.enqueueForceUpdate(this,t,"forceUpdate")};function rc(){}rc.prototype=Jn.prototype;function ya(t,e,n){this.props=t,this.context=e,this.refs=nc,this.updater=n||ec}var wa=ya.prototype=new rc;wa.constructor=ya;tc(wa,Jn.prototype);wa.isPureReactComponent=!0;var xl=Array.isArray,sc=Object.prototype.hasOwnProperty,xa={current:null},ic={key:!0,ref:!0,__self:!0,__source:!0};function oc(t,e,n){var r,s={},i=null,o=null;if(e!=null)for(r in e.ref!==void 0&&(o=e.ref),e.key!==void 0&&(i=""+e.key),e)sc.call(e,r)&&!ic.hasOwnProperty(r)&&(s[r]=e[r]);var a=arguments.length-2;if(a===1)s.children=n;else if(1<a){for(var l=Array(a),c=0;c<a;c++)l[c]=arguments[c+2];s.children=l}if(t&&t.defaultProps)for(r in a=t.defaultProps,a)s[r]===void 0&&(s[r]=a[r]);return{$$typeof:Qr,type:t,key:i,ref:o,props:s,_owner:xa.current}}function Xh(t,e){return{$$typeof:Qr,type:t.type,key:e,ref:t.ref,props:t.props,_owner:t._owner}}function _a(t){return typeof t=="object"&&t!==null&&t.$$typeof===Qr}function Zh(t){var e={"=":"=0",":":"=2"};return"$"+t.replace(/[=:]/g,function(n){return e[n]})}var _l=/\/+/g;function Ri(t,e){return typeof t=="object"&&t!==null&&t.key!=null?Zh(""+t.key):e.toString(36)}function bs(t,e,n,r,s){var i=typeof t;(i==="undefined"||i==="boolean")&&(t=null);var o=!1;if(t===null)o=!0;else switch(i){case"string":case"number":o=!0;break;case"object":switch(t.$$typeof){case Qr:case Fh:o=!0}}if(o)return o=t,s=s(o),t=r===""?"."+Ri(o,0):r,xl(s)?(n="",t!=null&&(n=t.replace(_l,"$&/")+"/"),bs(s,e,n,"",function(c){return c})):s!=null&&(_a(s)&&(s=Xh(s,n+(!s.key||o&&o.key===s.key?"":(""+s.key).replace(_l,"$&/")+"/")+t)),e.push(s)),1;if(o=0,r=r===""?".":r+":",xl(t))for(var a=0;a<t.length;a++){i=t[a];var l=r+Ri(i,a);o+=bs(i,e,n,l,s)}else if(l=Yh(t),typeof l=="function")for(t=l.call(t),a=0;!(i=t.next()).done;)i=i.value,l=r+Ri(i,a++),o+=bs(i,e,n,l,s);else if(i==="object")throw e=String(t),Error("Objects are not valid as a React child (found: "+(e==="[object Object]"?"object with keys {"+Object.keys(t).join(", ")+"}":e)+"). If you meant to render a collection of children, use an array instead.");return o}function rs(t,e,n){if(t==null)return t;var r=[],s=0;return bs(t,r,"","",function(i){return e.call(n,i,s++)}),r}function ef(t){if(t._status===-1){var e=t._result;e=e(),e.then(function(n){(t._status===0||t._status===-1)&&(t._status=1,t._result=n)},function(n){(t._status===0||t._status===-1)&&(t._status=2,t._result=n)}),t._status===-1&&(t._status=0,t._result=e)}if(t._status===1)return t._result.default;throw t._result}var be={current:null},js={transition:null},tf={ReactCurrentDispatcher:be,ReactCurrentBatchConfig:js,ReactCurrentOwner:xa};function ac(){throw Error("act(...) is not supported in production builds of React.")}U.Children={map:rs,forEach:function(t,e,n){rs(t,function(){e.apply(this,arguments)},n)},count:function(t){var e=0;return rs(t,function(){e++}),e},toArray:function(t){return rs(t,function(e){return e})||[]},only:function(t){if(!_a(t))throw Error("React.Children.only expected to receive a single React element child.");return t}};U.Component=Jn;U.Fragment=Bh;U.Profiler=Wh;U.PureComponent=ya;U.StrictMode=Hh;U.Suspense=Gh;U.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=tf;U.act=ac;U.cloneElement=function(t,e,n){if(t==null)throw Error("React.cloneElement(...): The argument must be a React element, but you passed "+t+".");var r=tc({},t.props),s=t.key,i=t.ref,o=t._owner;if(e!=null){if(e.ref!==void 0&&(i=e.ref,o=xa.current),e.key!==void 0&&(s=""+e.key),t.type&&t.type.defaultProps)var a=t.type.defaultProps;for(l in e)sc.call(e,l)&&!ic.hasOwnProperty(l)&&(r[l]=e[l]===void 0&&a!==void 0?a[l]:e[l])}var l=arguments.length-2;if(l===1)r.children=n;else if(1<l){a=Array(l);for(var c=0;c<l;c++)a[c]=arguments[c+2];r.children=a}return{$$typeof:Qr,type:t.type,key:s,ref:i,props:r,_owner:o}};U.createContext=function(t){return t={$$typeof:qh,_currentValue:t,_currentValue2:t,_threadCount:0,Provider:null,Consumer:null,_defaultValue:null,_globalName:null},t.Provider={$$typeof:Vh,_context:t},t.Consumer=t};U.createElement=oc;U.createFactory=function(t){var e=oc.bind(null,t);return e.type=t,e};U.createRef=function(){return{current:null}};U.forwardRef=function(t){return{$$typeof:Kh,render:t}};U.isValidElement=_a;U.lazy=function(t){return{$$typeof:Jh,_payload:{_status:-1,_result:t},_init:ef}};U.memo=function(t,e){return{$$typeof:Qh,type:t,compare:e===void 0?null:e}};U.startTransition=function(t){var e=js.transition;js.transition={};try{t()}finally{js.transition=e}};U.unstable_act=ac;U.useCallback=function(t,e){return be.current.useCallback(t,e)};U.useContext=function(t){return be.current.useContext(t)};U.useDebugValue=function(){};U.useDeferredValue=function(t){return be.current.useDeferredValue(t)};U.useEffect=function(t,e){return be.current.useEffect(t,e)};U.useId=function(){return be.current.useId()};U.useImperativeHandle=function(t,e,n){return be.current.useImperativeHandle(t,e,n)};U.useInsertionEffect=function(t,e){return be.current.useInsertionEffect(t,e)};U.useLayoutEffect=function(t,e){return be.current.useLayoutEffect(t,e)};U.useMemo=function(t,e){return be.current.useMemo(t,e)};U.useReducer=function(t,e,n){return be.current.useReducer(t,e,n)};U.useRef=function(t){return be.current.useRef(t)};U.useState=function(t){return be.current.useState(t)};U.useSyncExternalStore=function(t,e,n){return be.current.useSyncExternalStore(t,e,n)};U.useTransition=function(){return be.current.useTransition()};U.version="18.3.1";Zu.exports=U;var R=Zu.exports;const nf=Mh(R);/**
 * @license React
 * react-jsx-runtime.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var rf=R,sf=Symbol.for("react.element"),of=Symbol.for("react.fragment"),af=Object.prototype.hasOwnProperty,lf=rf.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,uf={key:!0,ref:!0,__self:!0,__source:!0};function lc(t,e,n){var r,s={},i=null,o=null;n!==void 0&&(i=""+n),e.key!==void 0&&(i=""+e.key),e.ref!==void 0&&(o=e.ref);for(r in e)af.call(e,r)&&!uf.hasOwnProperty(r)&&(s[r]=e[r]);if(t&&t.defaultProps)for(r in e=t.defaultProps,e)s[r]===void 0&&(s[r]=e[r]);return{$$typeof:sf,type:t,key:i,ref:o,props:s,_owner:lf.current}}ci.Fragment=of;ci.jsx=lc;ci.jsxs=lc;Xu.exports=ci;var u=Xu.exports,fo={},uc={exports:{}},De={},cc={exports:{}},dc={};/**
 * @license React
 * scheduler.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */(function(t){function e(T,L){var N=T.length;T.push(L);e:for(;0<N;){var A=N-1>>>1,z=T[A];if(0<s(z,L))T[A]=L,T[N]=z,N=A;else break e}}function n(T){return T.length===0?null:T[0]}function r(T){if(T.length===0)return null;var L=T[0],N=T.pop();if(N!==L){T[0]=N;e:for(var A=0,z=T.length,xe=z>>>1;A<xe;){var Z=2*(A+1)-1,tt=T[Z],_e=Z+1,at=T[_e];if(0>s(tt,N))_e<z&&0>s(at,tt)?(T[A]=at,T[_e]=N,A=_e):(T[A]=tt,T[Z]=N,A=Z);else if(_e<z&&0>s(at,N))T[A]=at,T[_e]=N,A=_e;else break e}}return L}function s(T,L){var N=T.sortIndex-L.sortIndex;return N!==0?N:T.id-L.id}if(typeof performance=="object"&&typeof performance.now=="function"){var i=performance;t.unstable_now=function(){return i.now()}}else{var o=Date,a=o.now();t.unstable_now=function(){return o.now()-a}}var l=[],c=[],d=1,f=null,m=3,y=!1,x=!1,v=!1,k=typeof setTimeout=="function"?setTimeout:null,g=typeof clearTimeout=="function"?clearTimeout:null,p=typeof setImmediate<"u"?setImmediate:null;typeof navigator<"u"&&navigator.scheduling!==void 0&&navigator.scheduling.isInputPending!==void 0&&navigator.scheduling.isInputPending.bind(navigator.scheduling);function h(T){for(var L=n(c);L!==null;){if(L.callback===null)r(c);else if(L.startTime<=T)r(c),L.sortIndex=L.expirationTime,e(l,L);else break;L=n(c)}}function w(T){if(v=!1,h(T),!x)if(n(l)!==null)x=!0,Gt(_);else{var L=n(c);L!==null&&kt(w,L.startTime-T)}}function _(T,L){x=!1,v&&(v=!1,g(C),C=-1),y=!0;var N=m;try{for(h(L),f=n(l);f!==null&&(!(f.expirationTime>L)||T&&!O());){var A=f.callback;if(typeof A=="function"){f.callback=null,m=f.priorityLevel;var z=A(f.expirationTime<=L);L=t.unstable_now(),typeof z=="function"?f.callback=z:f===n(l)&&r(l),h(L)}else r(l);f=n(l)}if(f!==null)var xe=!0;else{var Z=n(c);Z!==null&&kt(w,Z.startTime-L),xe=!1}return xe}finally{f=null,m=N,y=!1}}var S=!1,b=null,C=-1,$=5,j=-1;function O(){return!(t.unstable_now()-j<$)}function F(){if(b!==null){var T=t.unstable_now();j=T;var L=!0;try{L=b(!0,T)}finally{L?te():(S=!1,b=null)}}else S=!1}var te;if(typeof p=="function")te=function(){p(F)};else if(typeof MessageChannel<"u"){var me=new MessageChannel,tr=me.port2;me.port1.onmessage=F,te=function(){tr.postMessage(null)}}else te=function(){k(F,0)};function Gt(T){b=T,S||(S=!0,te())}function kt(T,L){C=k(function(){T(t.unstable_now())},L)}t.unstable_IdlePriority=5,t.unstable_ImmediatePriority=1,t.unstable_LowPriority=4,t.unstable_NormalPriority=3,t.unstable_Profiling=null,t.unstable_UserBlockingPriority=2,t.unstable_cancelCallback=function(T){T.callback=null},t.unstable_continueExecution=function(){x||y||(x=!0,Gt(_))},t.unstable_forceFrameRate=function(T){0>T||125<T?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):$=0<T?Math.floor(1e3/T):5},t.unstable_getCurrentPriorityLevel=function(){return m},t.unstable_getFirstCallbackNode=function(){return n(l)},t.unstable_next=function(T){switch(m){case 1:case 2:case 3:var L=3;break;default:L=m}var N=m;m=L;try{return T()}finally{m=N}},t.unstable_pauseExecution=function(){},t.unstable_requestPaint=function(){},t.unstable_runWithPriority=function(T,L){switch(T){case 1:case 2:case 3:case 4:case 5:break;default:T=3}var N=m;m=T;try{return L()}finally{m=N}},t.unstable_scheduleCallback=function(T,L,N){var A=t.unstable_now();switch(typeof N=="object"&&N!==null?(N=N.delay,N=typeof N=="number"&&0<N?A+N:A):N=A,T){case 1:var z=-1;break;case 2:z=250;break;case 5:z=1073741823;break;case 4:z=1e4;break;default:z=5e3}return z=N+z,T={id:d++,callback:L,priorityLevel:T,startTime:N,expirationTime:z,sortIndex:-1},N>A?(T.sortIndex=N,e(c,T),n(l)===null&&T===n(c)&&(v?(g(C),C=-1):v=!0,kt(w,N-A))):(T.sortIndex=z,e(l,T),x||y||(x=!0,Gt(_))),T},t.unstable_shouldYield=O,t.unstable_wrapCallback=function(T){var L=m;return function(){var N=m;m=L;try{return T.apply(this,arguments)}finally{m=N}}}})(dc);cc.exports=dc;var cf=cc.exports;/**
 * @license React
 * react-dom.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var df=R,Ie=cf;function E(t){for(var e="https://reactjs.org/docs/error-decoder.html?invariant="+t,n=1;n<arguments.length;n++)e+="&args[]="+encodeURIComponent(arguments[n]);return"Minified React error #"+t+"; visit "+e+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var hc=new Set,Or={};function hn(t,e){Bn(t,e),Bn(t+"Capture",e)}function Bn(t,e){for(Or[t]=e,t=0;t<e.length;t++)hc.add(e[t])}var vt=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),po=Object.prototype.hasOwnProperty,hf=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,kl={},Sl={};function ff(t){return po.call(Sl,t)?!0:po.call(kl,t)?!1:hf.test(t)?Sl[t]=!0:(kl[t]=!0,!1)}function pf(t,e,n,r){if(n!==null&&n.type===0)return!1;switch(typeof e){case"function":case"symbol":return!0;case"boolean":return r?!1:n!==null?!n.acceptsBooleans:(t=t.toLowerCase().slice(0,5),t!=="data-"&&t!=="aria-");default:return!1}}function mf(t,e,n,r){if(e===null||typeof e>"u"||pf(t,e,n,r))return!0;if(r)return!1;if(n!==null)switch(n.type){case 3:return!e;case 4:return e===!1;case 5:return isNaN(e);case 6:return isNaN(e)||1>e}return!1}function je(t,e,n,r,s,i,o){this.acceptsBooleans=e===2||e===3||e===4,this.attributeName=r,this.attributeNamespace=s,this.mustUseProperty=n,this.propertyName=t,this.type=e,this.sanitizeURL=i,this.removeEmptyString=o}var pe={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach(function(t){pe[t]=new je(t,0,!1,t,null,!1,!1)});[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach(function(t){var e=t[0];pe[e]=new je(e,1,!1,t[1],null,!1,!1)});["contentEditable","draggable","spellCheck","value"].forEach(function(t){pe[t]=new je(t,2,!1,t.toLowerCase(),null,!1,!1)});["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach(function(t){pe[t]=new je(t,2,!1,t,null,!1,!1)});"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach(function(t){pe[t]=new je(t,3,!1,t.toLowerCase(),null,!1,!1)});["checked","multiple","muted","selected"].forEach(function(t){pe[t]=new je(t,3,!0,t,null,!1,!1)});["capture","download"].forEach(function(t){pe[t]=new je(t,4,!1,t,null,!1,!1)});["cols","rows","size","span"].forEach(function(t){pe[t]=new je(t,6,!1,t,null,!1,!1)});["rowSpan","start"].forEach(function(t){pe[t]=new je(t,5,!1,t.toLowerCase(),null,!1,!1)});var ka=/[\-:]([a-z])/g;function Sa(t){return t[1].toUpperCase()}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach(function(t){var e=t.replace(ka,Sa);pe[e]=new je(e,1,!1,t,null,!1,!1)});"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach(function(t){var e=t.replace(ka,Sa);pe[e]=new je(e,1,!1,t,"http://www.w3.org/1999/xlink",!1,!1)});["xml:base","xml:lang","xml:space"].forEach(function(t){var e=t.replace(ka,Sa);pe[e]=new je(e,1,!1,t,"http://www.w3.org/XML/1998/namespace",!1,!1)});["tabIndex","crossOrigin"].forEach(function(t){pe[t]=new je(t,1,!1,t.toLowerCase(),null,!1,!1)});pe.xlinkHref=new je("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1);["src","href","action","formAction"].forEach(function(t){pe[t]=new je(t,1,!1,t.toLowerCase(),null,!0,!0)});function ba(t,e,n,r){var s=pe.hasOwnProperty(e)?pe[e]:null;(s!==null?s.type!==0:r||!(2<e.length)||e[0]!=="o"&&e[0]!=="O"||e[1]!=="n"&&e[1]!=="N")&&(mf(e,n,s,r)&&(n=null),r||s===null?ff(e)&&(n===null?t.removeAttribute(e):t.setAttribute(e,""+n)):s.mustUseProperty?t[s.propertyName]=n===null?s.type===3?!1:"":n:(e=s.attributeName,r=s.attributeNamespace,n===null?t.removeAttribute(e):(s=s.type,n=s===3||s===4&&n===!0?"":""+n,r?t.setAttributeNS(r,e,n):t.setAttribute(e,n))))}var _t=df.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,ss=Symbol.for("react.element"),Sn=Symbol.for("react.portal"),bn=Symbol.for("react.fragment"),ja=Symbol.for("react.strict_mode"),mo=Symbol.for("react.profiler"),fc=Symbol.for("react.provider"),pc=Symbol.for("react.context"),Na=Symbol.for("react.forward_ref"),go=Symbol.for("react.suspense"),vo=Symbol.for("react.suspense_list"),Ea=Symbol.for("react.memo"),Nt=Symbol.for("react.lazy"),mc=Symbol.for("react.offscreen"),bl=Symbol.iterator;function nr(t){return t===null||typeof t!="object"?null:(t=bl&&t[bl]||t["@@iterator"],typeof t=="function"?t:null)}var Y=Object.assign,$i;function dr(t){if($i===void 0)try{throw Error()}catch(n){var e=n.stack.trim().match(/\n( *(at )?)/);$i=e&&e[1]||""}return`
`+$i+t}var Li=!1;function Ii(t,e){if(!t||Li)return"";Li=!0;var n=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(e)if(e=function(){throw Error()},Object.defineProperty(e.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(e,[])}catch(c){var r=c}Reflect.construct(t,[],e)}else{try{e.call()}catch(c){r=c}t.call(e.prototype)}else{try{throw Error()}catch(c){r=c}t()}}catch(c){if(c&&r&&typeof c.stack=="string"){for(var s=c.stack.split(`
`),i=r.stack.split(`
`),o=s.length-1,a=i.length-1;1<=o&&0<=a&&s[o]!==i[a];)a--;for(;1<=o&&0<=a;o--,a--)if(s[o]!==i[a]){if(o!==1||a!==1)do if(o--,a--,0>a||s[o]!==i[a]){var l=`
`+s[o].replace(" at new "," at ");return t.displayName&&l.includes("<anonymous>")&&(l=l.replace("<anonymous>",t.displayName)),l}while(1<=o&&0<=a);break}}}finally{Li=!1,Error.prepareStackTrace=n}return(t=t?t.displayName||t.name:"")?dr(t):""}function gf(t){switch(t.tag){case 5:return dr(t.type);case 16:return dr("Lazy");case 13:return dr("Suspense");case 19:return dr("SuspenseList");case 0:case 2:case 15:return t=Ii(t.type,!1),t;case 11:return t=Ii(t.type.render,!1),t;case 1:return t=Ii(t.type,!0),t;default:return""}}function yo(t){if(t==null)return null;if(typeof t=="function")return t.displayName||t.name||null;if(typeof t=="string")return t;switch(t){case bn:return"Fragment";case Sn:return"Portal";case mo:return"Profiler";case ja:return"StrictMode";case go:return"Suspense";case vo:return"SuspenseList"}if(typeof t=="object")switch(t.$$typeof){case pc:return(t.displayName||"Context")+".Consumer";case fc:return(t._context.displayName||"Context")+".Provider";case Na:var e=t.render;return t=t.displayName,t||(t=e.displayName||e.name||"",t=t!==""?"ForwardRef("+t+")":"ForwardRef"),t;case Ea:return e=t.displayName||null,e!==null?e:yo(t.type)||"Memo";case Nt:e=t._payload,t=t._init;try{return yo(t(e))}catch{}}return null}function vf(t){var e=t.type;switch(t.tag){case 24:return"Cache";case 9:return(e.displayName||"Context")+".Consumer";case 10:return(e._context.displayName||"Context")+".Provider";case 18:return"DehydratedFragment";case 11:return t=e.render,t=t.displayName||t.name||"",e.displayName||(t!==""?"ForwardRef("+t+")":"ForwardRef");case 7:return"Fragment";case 5:return e;case 4:return"Portal";case 3:return"Root";case 6:return"Text";case 16:return yo(e);case 8:return e===ja?"StrictMode":"Mode";case 22:return"Offscreen";case 12:return"Profiler";case 21:return"Scope";case 13:return"Suspense";case 19:return"SuspenseList";case 25:return"TracingMarker";case 1:case 0:case 17:case 2:case 14:case 15:if(typeof e=="function")return e.displayName||e.name||null;if(typeof e=="string")return e}return null}function Bt(t){switch(typeof t){case"boolean":case"number":case"string":case"undefined":return t;case"object":return t;default:return""}}function gc(t){var e=t.type;return(t=t.nodeName)&&t.toLowerCase()==="input"&&(e==="checkbox"||e==="radio")}function yf(t){var e=gc(t)?"checked":"value",n=Object.getOwnPropertyDescriptor(t.constructor.prototype,e),r=""+t[e];if(!t.hasOwnProperty(e)&&typeof n<"u"&&typeof n.get=="function"&&typeof n.set=="function"){var s=n.get,i=n.set;return Object.defineProperty(t,e,{configurable:!0,get:function(){return s.call(this)},set:function(o){r=""+o,i.call(this,o)}}),Object.defineProperty(t,e,{enumerable:n.enumerable}),{getValue:function(){return r},setValue:function(o){r=""+o},stopTracking:function(){t._valueTracker=null,delete t[e]}}}}function is(t){t._valueTracker||(t._valueTracker=yf(t))}function vc(t){if(!t)return!1;var e=t._valueTracker;if(!e)return!0;var n=e.getValue(),r="";return t&&(r=gc(t)?t.checked?"true":"false":t.value),t=r,t!==n?(e.setValue(t),!0):!1}function Ds(t){if(t=t||(typeof document<"u"?document:void 0),typeof t>"u")return null;try{return t.activeElement||t.body}catch{return t.body}}function wo(t,e){var n=e.checked;return Y({},e,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:n??t._wrapperState.initialChecked})}function jl(t,e){var n=e.defaultValue==null?"":e.defaultValue,r=e.checked!=null?e.checked:e.defaultChecked;n=Bt(e.value!=null?e.value:n),t._wrapperState={initialChecked:r,initialValue:n,controlled:e.type==="checkbox"||e.type==="radio"?e.checked!=null:e.value!=null}}function yc(t,e){e=e.checked,e!=null&&ba(t,"checked",e,!1)}function xo(t,e){yc(t,e);var n=Bt(e.value),r=e.type;if(n!=null)r==="number"?(n===0&&t.value===""||t.value!=n)&&(t.value=""+n):t.value!==""+n&&(t.value=""+n);else if(r==="submit"||r==="reset"){t.removeAttribute("value");return}e.hasOwnProperty("value")?_o(t,e.type,n):e.hasOwnProperty("defaultValue")&&_o(t,e.type,Bt(e.defaultValue)),e.checked==null&&e.defaultChecked!=null&&(t.defaultChecked=!!e.defaultChecked)}function Nl(t,e,n){if(e.hasOwnProperty("value")||e.hasOwnProperty("defaultValue")){var r=e.type;if(!(r!=="submit"&&r!=="reset"||e.value!==void 0&&e.value!==null))return;e=""+t._wrapperState.initialValue,n||e===t.value||(t.value=e),t.defaultValue=e}n=t.name,n!==""&&(t.name=""),t.defaultChecked=!!t._wrapperState.initialChecked,n!==""&&(t.name=n)}function _o(t,e,n){(e!=="number"||Ds(t.ownerDocument)!==t)&&(n==null?t.defaultValue=""+t._wrapperState.initialValue:t.defaultValue!==""+n&&(t.defaultValue=""+n))}var hr=Array.isArray;function Ln(t,e,n,r){if(t=t.options,e){e={};for(var s=0;s<n.length;s++)e["$"+n[s]]=!0;for(n=0;n<t.length;n++)s=e.hasOwnProperty("$"+t[n].value),t[n].selected!==s&&(t[n].selected=s),s&&r&&(t[n].defaultSelected=!0)}else{for(n=""+Bt(n),e=null,s=0;s<t.length;s++){if(t[s].value===n){t[s].selected=!0,r&&(t[s].defaultSelected=!0);return}e!==null||t[s].disabled||(e=t[s])}e!==null&&(e.selected=!0)}}function ko(t,e){if(e.dangerouslySetInnerHTML!=null)throw Error(E(91));return Y({},e,{value:void 0,defaultValue:void 0,children:""+t._wrapperState.initialValue})}function El(t,e){var n=e.value;if(n==null){if(n=e.children,e=e.defaultValue,n!=null){if(e!=null)throw Error(E(92));if(hr(n)){if(1<n.length)throw Error(E(93));n=n[0]}e=n}e==null&&(e=""),n=e}t._wrapperState={initialValue:Bt(n)}}function wc(t,e){var n=Bt(e.value),r=Bt(e.defaultValue);n!=null&&(n=""+n,n!==t.value&&(t.value=n),e.defaultValue==null&&t.defaultValue!==n&&(t.defaultValue=n)),r!=null&&(t.defaultValue=""+r)}function Cl(t){var e=t.textContent;e===t._wrapperState.initialValue&&e!==""&&e!==null&&(t.value=e)}function xc(t){switch(t){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function So(t,e){return t==null||t==="http://www.w3.org/1999/xhtml"?xc(e):t==="http://www.w3.org/2000/svg"&&e==="foreignObject"?"http://www.w3.org/1999/xhtml":t}var os,_c=function(t){return typeof MSApp<"u"&&MSApp.execUnsafeLocalFunction?function(e,n,r,s){MSApp.execUnsafeLocalFunction(function(){return t(e,n,r,s)})}:t}(function(t,e){if(t.namespaceURI!=="http://www.w3.org/2000/svg"||"innerHTML"in t)t.innerHTML=e;else{for(os=os||document.createElement("div"),os.innerHTML="<svg>"+e.valueOf().toString()+"</svg>",e=os.firstChild;t.firstChild;)t.removeChild(t.firstChild);for(;e.firstChild;)t.appendChild(e.firstChild)}});function Ar(t,e){if(e){var n=t.firstChild;if(n&&n===t.lastChild&&n.nodeType===3){n.nodeValue=e;return}}t.textContent=e}var vr={animationIterationCount:!0,aspectRatio:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},wf=["Webkit","ms","Moz","O"];Object.keys(vr).forEach(function(t){wf.forEach(function(e){e=e+t.charAt(0).toUpperCase()+t.substring(1),vr[e]=vr[t]})});function kc(t,e,n){return e==null||typeof e=="boolean"||e===""?"":n||typeof e!="number"||e===0||vr.hasOwnProperty(t)&&vr[t]?(""+e).trim():e+"px"}function Sc(t,e){t=t.style;for(var n in e)if(e.hasOwnProperty(n)){var r=n.indexOf("--")===0,s=kc(n,e[n],r);n==="float"&&(n="cssFloat"),r?t.setProperty(n,s):t[n]=s}}var xf=Y({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function bo(t,e){if(e){if(xf[t]&&(e.children!=null||e.dangerouslySetInnerHTML!=null))throw Error(E(137,t));if(e.dangerouslySetInnerHTML!=null){if(e.children!=null)throw Error(E(60));if(typeof e.dangerouslySetInnerHTML!="object"||!("__html"in e.dangerouslySetInnerHTML))throw Error(E(61))}if(e.style!=null&&typeof e.style!="object")throw Error(E(62))}}function jo(t,e){if(t.indexOf("-")===-1)return typeof e.is=="string";switch(t){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var No=null;function Ca(t){return t=t.target||t.srcElement||window,t.correspondingUseElement&&(t=t.correspondingUseElement),t.nodeType===3?t.parentNode:t}var Eo=null,In=null,Dn=null;function Tl(t){if(t=Xr(t)){if(typeof Eo!="function")throw Error(E(280));var e=t.stateNode;e&&(e=mi(e),Eo(t.stateNode,t.type,e))}}function bc(t){In?Dn?Dn.push(t):Dn=[t]:In=t}function jc(){if(In){var t=In,e=Dn;if(Dn=In=null,Tl(t),e)for(t=0;t<e.length;t++)Tl(e[t])}}function Nc(t,e){return t(e)}function Ec(){}var Di=!1;function Cc(t,e,n){if(Di)return t(e,n);Di=!0;try{return Nc(t,e,n)}finally{Di=!1,(In!==null||Dn!==null)&&(Ec(),jc())}}function Rr(t,e){var n=t.stateNode;if(n===null)return null;var r=mi(n);if(r===null)return null;n=r[e];e:switch(e){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(r=!r.disabled)||(t=t.type,r=!(t==="button"||t==="input"||t==="select"||t==="textarea")),t=!r;break e;default:t=!1}if(t)return null;if(n&&typeof n!="function")throw Error(E(231,e,typeof n));return n}var Co=!1;if(vt)try{var rr={};Object.defineProperty(rr,"passive",{get:function(){Co=!0}}),window.addEventListener("test",rr,rr),window.removeEventListener("test",rr,rr)}catch{Co=!1}function _f(t,e,n,r,s,i,o,a,l){var c=Array.prototype.slice.call(arguments,3);try{e.apply(n,c)}catch(d){this.onError(d)}}var yr=!1,Us=null,Ms=!1,To=null,kf={onError:function(t){yr=!0,Us=t}};function Sf(t,e,n,r,s,i,o,a,l){yr=!1,Us=null,_f.apply(kf,arguments)}function bf(t,e,n,r,s,i,o,a,l){if(Sf.apply(this,arguments),yr){if(yr){var c=Us;yr=!1,Us=null}else throw Error(E(198));Ms||(Ms=!0,To=c)}}function fn(t){var e=t,n=t;if(t.alternate)for(;e.return;)e=e.return;else{t=e;do e=t,e.flags&4098&&(n=e.return),t=e.return;while(t)}return e.tag===3?n:null}function Tc(t){if(t.tag===13){var e=t.memoizedState;if(e===null&&(t=t.alternate,t!==null&&(e=t.memoizedState)),e!==null)return e.dehydrated}return null}function Pl(t){if(fn(t)!==t)throw Error(E(188))}function jf(t){var e=t.alternate;if(!e){if(e=fn(t),e===null)throw Error(E(188));return e!==t?null:t}for(var n=t,r=e;;){var s=n.return;if(s===null)break;var i=s.alternate;if(i===null){if(r=s.return,r!==null){n=r;continue}break}if(s.child===i.child){for(i=s.child;i;){if(i===n)return Pl(s),t;if(i===r)return Pl(s),e;i=i.sibling}throw Error(E(188))}if(n.return!==r.return)n=s,r=i;else{for(var o=!1,a=s.child;a;){if(a===n){o=!0,n=s,r=i;break}if(a===r){o=!0,r=s,n=i;break}a=a.sibling}if(!o){for(a=i.child;a;){if(a===n){o=!0,n=i,r=s;break}if(a===r){o=!0,r=i,n=s;break}a=a.sibling}if(!o)throw Error(E(189))}}if(n.alternate!==r)throw Error(E(190))}if(n.tag!==3)throw Error(E(188));return n.stateNode.current===n?t:e}function Pc(t){return t=jf(t),t!==null?Oc(t):null}function Oc(t){if(t.tag===5||t.tag===6)return t;for(t=t.child;t!==null;){var e=Oc(t);if(e!==null)return e;t=t.sibling}return null}var Ac=Ie.unstable_scheduleCallback,Ol=Ie.unstable_cancelCallback,Nf=Ie.unstable_shouldYield,Ef=Ie.unstable_requestPaint,ee=Ie.unstable_now,Cf=Ie.unstable_getCurrentPriorityLevel,Ta=Ie.unstable_ImmediatePriority,Rc=Ie.unstable_UserBlockingPriority,zs=Ie.unstable_NormalPriority,Tf=Ie.unstable_LowPriority,$c=Ie.unstable_IdlePriority,di=null,it=null;function Pf(t){if(it&&typeof it.onCommitFiberRoot=="function")try{it.onCommitFiberRoot(di,t,void 0,(t.current.flags&128)===128)}catch{}}var Xe=Math.clz32?Math.clz32:Rf,Of=Math.log,Af=Math.LN2;function Rf(t){return t>>>=0,t===0?32:31-(Of(t)/Af|0)|0}var as=64,ls=4194304;function fr(t){switch(t&-t){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return t&4194240;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return t&130023424;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 1073741824;default:return t}}function Fs(t,e){var n=t.pendingLanes;if(n===0)return 0;var r=0,s=t.suspendedLanes,i=t.pingedLanes,o=n&268435455;if(o!==0){var a=o&~s;a!==0?r=fr(a):(i&=o,i!==0&&(r=fr(i)))}else o=n&~s,o!==0?r=fr(o):i!==0&&(r=fr(i));if(r===0)return 0;if(e!==0&&e!==r&&!(e&s)&&(s=r&-r,i=e&-e,s>=i||s===16&&(i&4194240)!==0))return e;if(r&4&&(r|=n&16),e=t.entangledLanes,e!==0)for(t=t.entanglements,e&=r;0<e;)n=31-Xe(e),s=1<<n,r|=t[n],e&=~s;return r}function $f(t,e){switch(t){case 1:case 2:case 4:return e+250;case 8:case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return e+5e3;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return-1;case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function Lf(t,e){for(var n=t.suspendedLanes,r=t.pingedLanes,s=t.expirationTimes,i=t.pendingLanes;0<i;){var o=31-Xe(i),a=1<<o,l=s[o];l===-1?(!(a&n)||a&r)&&(s[o]=$f(a,e)):l<=e&&(t.expiredLanes|=a),i&=~a}}function Po(t){return t=t.pendingLanes&-1073741825,t!==0?t:t&1073741824?1073741824:0}function Lc(){var t=as;return as<<=1,!(as&4194240)&&(as=64),t}function Ui(t){for(var e=[],n=0;31>n;n++)e.push(t);return e}function Jr(t,e,n){t.pendingLanes|=e,e!==536870912&&(t.suspendedLanes=0,t.pingedLanes=0),t=t.eventTimes,e=31-Xe(e),t[e]=n}function If(t,e){var n=t.pendingLanes&~e;t.pendingLanes=e,t.suspendedLanes=0,t.pingedLanes=0,t.expiredLanes&=e,t.mutableReadLanes&=e,t.entangledLanes&=e,e=t.entanglements;var r=t.eventTimes;for(t=t.expirationTimes;0<n;){var s=31-Xe(n),i=1<<s;e[s]=0,r[s]=-1,t[s]=-1,n&=~i}}function Pa(t,e){var n=t.entangledLanes|=e;for(t=t.entanglements;n;){var r=31-Xe(n),s=1<<r;s&e|t[r]&e&&(t[r]|=e),n&=~s}}var B=0;function Ic(t){return t&=-t,1<t?4<t?t&268435455?16:536870912:4:1}var Dc,Oa,Uc,Mc,zc,Oo=!1,us=[],$t=null,Lt=null,It=null,$r=new Map,Lr=new Map,Tt=[],Df="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset submit".split(" ");function Al(t,e){switch(t){case"focusin":case"focusout":$t=null;break;case"dragenter":case"dragleave":Lt=null;break;case"mouseover":case"mouseout":It=null;break;case"pointerover":case"pointerout":$r.delete(e.pointerId);break;case"gotpointercapture":case"lostpointercapture":Lr.delete(e.pointerId)}}function sr(t,e,n,r,s,i){return t===null||t.nativeEvent!==i?(t={blockedOn:e,domEventName:n,eventSystemFlags:r,nativeEvent:i,targetContainers:[s]},e!==null&&(e=Xr(e),e!==null&&Oa(e)),t):(t.eventSystemFlags|=r,e=t.targetContainers,s!==null&&e.indexOf(s)===-1&&e.push(s),t)}function Uf(t,e,n,r,s){switch(e){case"focusin":return $t=sr($t,t,e,n,r,s),!0;case"dragenter":return Lt=sr(Lt,t,e,n,r,s),!0;case"mouseover":return It=sr(It,t,e,n,r,s),!0;case"pointerover":var i=s.pointerId;return $r.set(i,sr($r.get(i)||null,t,e,n,r,s)),!0;case"gotpointercapture":return i=s.pointerId,Lr.set(i,sr(Lr.get(i)||null,t,e,n,r,s)),!0}return!1}function Fc(t){var e=tn(t.target);if(e!==null){var n=fn(e);if(n!==null){if(e=n.tag,e===13){if(e=Tc(n),e!==null){t.blockedOn=e,zc(t.priority,function(){Uc(n)});return}}else if(e===3&&n.stateNode.current.memoizedState.isDehydrated){t.blockedOn=n.tag===3?n.stateNode.containerInfo:null;return}}}t.blockedOn=null}function Ns(t){if(t.blockedOn!==null)return!1;for(var e=t.targetContainers;0<e.length;){var n=Ao(t.domEventName,t.eventSystemFlags,e[0],t.nativeEvent);if(n===null){n=t.nativeEvent;var r=new n.constructor(n.type,n);No=r,n.target.dispatchEvent(r),No=null}else return e=Xr(n),e!==null&&Oa(e),t.blockedOn=n,!1;e.shift()}return!0}function Rl(t,e,n){Ns(t)&&n.delete(e)}function Mf(){Oo=!1,$t!==null&&Ns($t)&&($t=null),Lt!==null&&Ns(Lt)&&(Lt=null),It!==null&&Ns(It)&&(It=null),$r.forEach(Rl),Lr.forEach(Rl)}function ir(t,e){t.blockedOn===e&&(t.blockedOn=null,Oo||(Oo=!0,Ie.unstable_scheduleCallback(Ie.unstable_NormalPriority,Mf)))}function Ir(t){function e(s){return ir(s,t)}if(0<us.length){ir(us[0],t);for(var n=1;n<us.length;n++){var r=us[n];r.blockedOn===t&&(r.blockedOn=null)}}for($t!==null&&ir($t,t),Lt!==null&&ir(Lt,t),It!==null&&ir(It,t),$r.forEach(e),Lr.forEach(e),n=0;n<Tt.length;n++)r=Tt[n],r.blockedOn===t&&(r.blockedOn=null);for(;0<Tt.length&&(n=Tt[0],n.blockedOn===null);)Fc(n),n.blockedOn===null&&Tt.shift()}var Un=_t.ReactCurrentBatchConfig,Bs=!0;function zf(t,e,n,r){var s=B,i=Un.transition;Un.transition=null;try{B=1,Aa(t,e,n,r)}finally{B=s,Un.transition=i}}function Ff(t,e,n,r){var s=B,i=Un.transition;Un.transition=null;try{B=4,Aa(t,e,n,r)}finally{B=s,Un.transition=i}}function Aa(t,e,n,r){if(Bs){var s=Ao(t,e,n,r);if(s===null)Gi(t,e,r,Hs,n),Al(t,r);else if(Uf(s,t,e,n,r))r.stopPropagation();else if(Al(t,r),e&4&&-1<Df.indexOf(t)){for(;s!==null;){var i=Xr(s);if(i!==null&&Dc(i),i=Ao(t,e,n,r),i===null&&Gi(t,e,r,Hs,n),i===s)break;s=i}s!==null&&r.stopPropagation()}else Gi(t,e,r,null,n)}}var Hs=null;function Ao(t,e,n,r){if(Hs=null,t=Ca(r),t=tn(t),t!==null)if(e=fn(t),e===null)t=null;else if(n=e.tag,n===13){if(t=Tc(e),t!==null)return t;t=null}else if(n===3){if(e.stateNode.current.memoizedState.isDehydrated)return e.tag===3?e.stateNode.containerInfo:null;t=null}else e!==t&&(t=null);return Hs=t,null}function Bc(t){switch(t){case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 1;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"toggle":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 4;case"message":switch(Cf()){case Ta:return 1;case Rc:return 4;case zs:case Tf:return 16;case $c:return 536870912;default:return 16}default:return 16}}var At=null,Ra=null,Es=null;function Hc(){if(Es)return Es;var t,e=Ra,n=e.length,r,s="value"in At?At.value:At.textContent,i=s.length;for(t=0;t<n&&e[t]===s[t];t++);var o=n-t;for(r=1;r<=o&&e[n-r]===s[i-r];r++);return Es=s.slice(t,1<r?1-r:void 0)}function Cs(t){var e=t.keyCode;return"charCode"in t?(t=t.charCode,t===0&&e===13&&(t=13)):t=e,t===10&&(t=13),32<=t||t===13?t:0}function cs(){return!0}function $l(){return!1}function Ue(t){function e(n,r,s,i,o){this._reactName=n,this._targetInst=s,this.type=r,this.nativeEvent=i,this.target=o,this.currentTarget=null;for(var a in t)t.hasOwnProperty(a)&&(n=t[a],this[a]=n?n(i):i[a]);return this.isDefaultPrevented=(i.defaultPrevented!=null?i.defaultPrevented:i.returnValue===!1)?cs:$l,this.isPropagationStopped=$l,this}return Y(e.prototype,{preventDefault:function(){this.defaultPrevented=!0;var n=this.nativeEvent;n&&(n.preventDefault?n.preventDefault():typeof n.returnValue!="unknown"&&(n.returnValue=!1),this.isDefaultPrevented=cs)},stopPropagation:function(){var n=this.nativeEvent;n&&(n.stopPropagation?n.stopPropagation():typeof n.cancelBubble!="unknown"&&(n.cancelBubble=!0),this.isPropagationStopped=cs)},persist:function(){},isPersistent:cs}),e}var Yn={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(t){return t.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},$a=Ue(Yn),Yr=Y({},Yn,{view:0,detail:0}),Bf=Ue(Yr),Mi,zi,or,hi=Y({},Yr,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:La,button:0,buttons:0,relatedTarget:function(t){return t.relatedTarget===void 0?t.fromElement===t.srcElement?t.toElement:t.fromElement:t.relatedTarget},movementX:function(t){return"movementX"in t?t.movementX:(t!==or&&(or&&t.type==="mousemove"?(Mi=t.screenX-or.screenX,zi=t.screenY-or.screenY):zi=Mi=0,or=t),Mi)},movementY:function(t){return"movementY"in t?t.movementY:zi}}),Ll=Ue(hi),Hf=Y({},hi,{dataTransfer:0}),Wf=Ue(Hf),Vf=Y({},Yr,{relatedTarget:0}),Fi=Ue(Vf),qf=Y({},Yn,{animationName:0,elapsedTime:0,pseudoElement:0}),Kf=Ue(qf),Gf=Y({},Yn,{clipboardData:function(t){return"clipboardData"in t?t.clipboardData:window.clipboardData}}),Qf=Ue(Gf),Jf=Y({},Yn,{data:0}),Il=Ue(Jf),Yf={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},Xf={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},Zf={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function ep(t){var e=this.nativeEvent;return e.getModifierState?e.getModifierState(t):(t=Zf[t])?!!e[t]:!1}function La(){return ep}var tp=Y({},Yr,{key:function(t){if(t.key){var e=Yf[t.key]||t.key;if(e!=="Unidentified")return e}return t.type==="keypress"?(t=Cs(t),t===13?"Enter":String.fromCharCode(t)):t.type==="keydown"||t.type==="keyup"?Xf[t.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:La,charCode:function(t){return t.type==="keypress"?Cs(t):0},keyCode:function(t){return t.type==="keydown"||t.type==="keyup"?t.keyCode:0},which:function(t){return t.type==="keypress"?Cs(t):t.type==="keydown"||t.type==="keyup"?t.keyCode:0}}),np=Ue(tp),rp=Y({},hi,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),Dl=Ue(rp),sp=Y({},Yr,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:La}),ip=Ue(sp),op=Y({},Yn,{propertyName:0,elapsedTime:0,pseudoElement:0}),ap=Ue(op),lp=Y({},hi,{deltaX:function(t){return"deltaX"in t?t.deltaX:"wheelDeltaX"in t?-t.wheelDeltaX:0},deltaY:function(t){return"deltaY"in t?t.deltaY:"wheelDeltaY"in t?-t.wheelDeltaY:"wheelDelta"in t?-t.wheelDelta:0},deltaZ:0,deltaMode:0}),up=Ue(lp),cp=[9,13,27,32],Ia=vt&&"CompositionEvent"in window,wr=null;vt&&"documentMode"in document&&(wr=document.documentMode);var dp=vt&&"TextEvent"in window&&!wr,Wc=vt&&(!Ia||wr&&8<wr&&11>=wr),Ul=" ",Ml=!1;function Vc(t,e){switch(t){case"keyup":return cp.indexOf(e.keyCode)!==-1;case"keydown":return e.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function qc(t){return t=t.detail,typeof t=="object"&&"data"in t?t.data:null}var jn=!1;function hp(t,e){switch(t){case"compositionend":return qc(e);case"keypress":return e.which!==32?null:(Ml=!0,Ul);case"textInput":return t=e.data,t===Ul&&Ml?null:t;default:return null}}function fp(t,e){if(jn)return t==="compositionend"||!Ia&&Vc(t,e)?(t=Hc(),Es=Ra=At=null,jn=!1,t):null;switch(t){case"paste":return null;case"keypress":if(!(e.ctrlKey||e.altKey||e.metaKey)||e.ctrlKey&&e.altKey){if(e.char&&1<e.char.length)return e.char;if(e.which)return String.fromCharCode(e.which)}return null;case"compositionend":return Wc&&e.locale!=="ko"?null:e.data;default:return null}}var pp={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function zl(t){var e=t&&t.nodeName&&t.nodeName.toLowerCase();return e==="input"?!!pp[t.type]:e==="textarea"}function Kc(t,e,n,r){bc(r),e=Ws(e,"onChange"),0<e.length&&(n=new $a("onChange","change",null,n,r),t.push({event:n,listeners:e}))}var xr=null,Dr=null;function mp(t){sd(t,0)}function fi(t){var e=Cn(t);if(vc(e))return t}function gp(t,e){if(t==="change")return e}var Gc=!1;if(vt){var Bi;if(vt){var Hi="oninput"in document;if(!Hi){var Fl=document.createElement("div");Fl.setAttribute("oninput","return;"),Hi=typeof Fl.oninput=="function"}Bi=Hi}else Bi=!1;Gc=Bi&&(!document.documentMode||9<document.documentMode)}function Bl(){xr&&(xr.detachEvent("onpropertychange",Qc),Dr=xr=null)}function Qc(t){if(t.propertyName==="value"&&fi(Dr)){var e=[];Kc(e,Dr,t,Ca(t)),Cc(mp,e)}}function vp(t,e,n){t==="focusin"?(Bl(),xr=e,Dr=n,xr.attachEvent("onpropertychange",Qc)):t==="focusout"&&Bl()}function yp(t){if(t==="selectionchange"||t==="keyup"||t==="keydown")return fi(Dr)}function wp(t,e){if(t==="click")return fi(e)}function xp(t,e){if(t==="input"||t==="change")return fi(e)}function _p(t,e){return t===e&&(t!==0||1/t===1/e)||t!==t&&e!==e}var et=typeof Object.is=="function"?Object.is:_p;function Ur(t,e){if(et(t,e))return!0;if(typeof t!="object"||t===null||typeof e!="object"||e===null)return!1;var n=Object.keys(t),r=Object.keys(e);if(n.length!==r.length)return!1;for(r=0;r<n.length;r++){var s=n[r];if(!po.call(e,s)||!et(t[s],e[s]))return!1}return!0}function Hl(t){for(;t&&t.firstChild;)t=t.firstChild;return t}function Wl(t,e){var n=Hl(t);t=0;for(var r;n;){if(n.nodeType===3){if(r=t+n.textContent.length,t<=e&&r>=e)return{node:n,offset:e-t};t=r}e:{for(;n;){if(n.nextSibling){n=n.nextSibling;break e}n=n.parentNode}n=void 0}n=Hl(n)}}function Jc(t,e){return t&&e?t===e?!0:t&&t.nodeType===3?!1:e&&e.nodeType===3?Jc(t,e.parentNode):"contains"in t?t.contains(e):t.compareDocumentPosition?!!(t.compareDocumentPosition(e)&16):!1:!1}function Yc(){for(var t=window,e=Ds();e instanceof t.HTMLIFrameElement;){try{var n=typeof e.contentWindow.location.href=="string"}catch{n=!1}if(n)t=e.contentWindow;else break;e=Ds(t.document)}return e}function Da(t){var e=t&&t.nodeName&&t.nodeName.toLowerCase();return e&&(e==="input"&&(t.type==="text"||t.type==="search"||t.type==="tel"||t.type==="url"||t.type==="password")||e==="textarea"||t.contentEditable==="true")}function kp(t){var e=Yc(),n=t.focusedElem,r=t.selectionRange;if(e!==n&&n&&n.ownerDocument&&Jc(n.ownerDocument.documentElement,n)){if(r!==null&&Da(n)){if(e=r.start,t=r.end,t===void 0&&(t=e),"selectionStart"in n)n.selectionStart=e,n.selectionEnd=Math.min(t,n.value.length);else if(t=(e=n.ownerDocument||document)&&e.defaultView||window,t.getSelection){t=t.getSelection();var s=n.textContent.length,i=Math.min(r.start,s);r=r.end===void 0?i:Math.min(r.end,s),!t.extend&&i>r&&(s=r,r=i,i=s),s=Wl(n,i);var o=Wl(n,r);s&&o&&(t.rangeCount!==1||t.anchorNode!==s.node||t.anchorOffset!==s.offset||t.focusNode!==o.node||t.focusOffset!==o.offset)&&(e=e.createRange(),e.setStart(s.node,s.offset),t.removeAllRanges(),i>r?(t.addRange(e),t.extend(o.node,o.offset)):(e.setEnd(o.node,o.offset),t.addRange(e)))}}for(e=[],t=n;t=t.parentNode;)t.nodeType===1&&e.push({element:t,left:t.scrollLeft,top:t.scrollTop});for(typeof n.focus=="function"&&n.focus(),n=0;n<e.length;n++)t=e[n],t.element.scrollLeft=t.left,t.element.scrollTop=t.top}}var Sp=vt&&"documentMode"in document&&11>=document.documentMode,Nn=null,Ro=null,_r=null,$o=!1;function Vl(t,e,n){var r=n.window===n?n.document:n.nodeType===9?n:n.ownerDocument;$o||Nn==null||Nn!==Ds(r)||(r=Nn,"selectionStart"in r&&Da(r)?r={start:r.selectionStart,end:r.selectionEnd}:(r=(r.ownerDocument&&r.ownerDocument.defaultView||window).getSelection(),r={anchorNode:r.anchorNode,anchorOffset:r.anchorOffset,focusNode:r.focusNode,focusOffset:r.focusOffset}),_r&&Ur(_r,r)||(_r=r,r=Ws(Ro,"onSelect"),0<r.length&&(e=new $a("onSelect","select",null,e,n),t.push({event:e,listeners:r}),e.target=Nn)))}function ds(t,e){var n={};return n[t.toLowerCase()]=e.toLowerCase(),n["Webkit"+t]="webkit"+e,n["Moz"+t]="moz"+e,n}var En={animationend:ds("Animation","AnimationEnd"),animationiteration:ds("Animation","AnimationIteration"),animationstart:ds("Animation","AnimationStart"),transitionend:ds("Transition","TransitionEnd")},Wi={},Xc={};vt&&(Xc=document.createElement("div").style,"AnimationEvent"in window||(delete En.animationend.animation,delete En.animationiteration.animation,delete En.animationstart.animation),"TransitionEvent"in window||delete En.transitionend.transition);function pi(t){if(Wi[t])return Wi[t];if(!En[t])return t;var e=En[t],n;for(n in e)if(e.hasOwnProperty(n)&&n in Xc)return Wi[t]=e[n];return t}var Zc=pi("animationend"),ed=pi("animationiteration"),td=pi("animationstart"),nd=pi("transitionend"),rd=new Map,ql="abort auxClick cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");function Wt(t,e){rd.set(t,e),hn(e,[t])}for(var Vi=0;Vi<ql.length;Vi++){var qi=ql[Vi],bp=qi.toLowerCase(),jp=qi[0].toUpperCase()+qi.slice(1);Wt(bp,"on"+jp)}Wt(Zc,"onAnimationEnd");Wt(ed,"onAnimationIteration");Wt(td,"onAnimationStart");Wt("dblclick","onDoubleClick");Wt("focusin","onFocus");Wt("focusout","onBlur");Wt(nd,"onTransitionEnd");Bn("onMouseEnter",["mouseout","mouseover"]);Bn("onMouseLeave",["mouseout","mouseover"]);Bn("onPointerEnter",["pointerout","pointerover"]);Bn("onPointerLeave",["pointerout","pointerover"]);hn("onChange","change click focusin focusout input keydown keyup selectionchange".split(" "));hn("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" "));hn("onBeforeInput",["compositionend","keypress","textInput","paste"]);hn("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" "));hn("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" "));hn("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var pr="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),Np=new Set("cancel close invalid load scroll toggle".split(" ").concat(pr));function Kl(t,e,n){var r=t.type||"unknown-event";t.currentTarget=n,bf(r,e,void 0,t),t.currentTarget=null}function sd(t,e){e=(e&4)!==0;for(var n=0;n<t.length;n++){var r=t[n],s=r.event;r=r.listeners;e:{var i=void 0;if(e)for(var o=r.length-1;0<=o;o--){var a=r[o],l=a.instance,c=a.currentTarget;if(a=a.listener,l!==i&&s.isPropagationStopped())break e;Kl(s,a,c),i=l}else for(o=0;o<r.length;o++){if(a=r[o],l=a.instance,c=a.currentTarget,a=a.listener,l!==i&&s.isPropagationStopped())break e;Kl(s,a,c),i=l}}}if(Ms)throw t=To,Ms=!1,To=null,t}function q(t,e){var n=e[Mo];n===void 0&&(n=e[Mo]=new Set);var r=t+"__bubble";n.has(r)||(id(e,t,2,!1),n.add(r))}function Ki(t,e,n){var r=0;e&&(r|=4),id(n,t,r,e)}var hs="_reactListening"+Math.random().toString(36).slice(2);function Mr(t){if(!t[hs]){t[hs]=!0,hc.forEach(function(n){n!=="selectionchange"&&(Np.has(n)||Ki(n,!1,t),Ki(n,!0,t))});var e=t.nodeType===9?t:t.ownerDocument;e===null||e[hs]||(e[hs]=!0,Ki("selectionchange",!1,e))}}function id(t,e,n,r){switch(Bc(e)){case 1:var s=zf;break;case 4:s=Ff;break;default:s=Aa}n=s.bind(null,e,n,t),s=void 0,!Co||e!=="touchstart"&&e!=="touchmove"&&e!=="wheel"||(s=!0),r?s!==void 0?t.addEventListener(e,n,{capture:!0,passive:s}):t.addEventListener(e,n,!0):s!==void 0?t.addEventListener(e,n,{passive:s}):t.addEventListener(e,n,!1)}function Gi(t,e,n,r,s){var i=r;if(!(e&1)&&!(e&2)&&r!==null)e:for(;;){if(r===null)return;var o=r.tag;if(o===3||o===4){var a=r.stateNode.containerInfo;if(a===s||a.nodeType===8&&a.parentNode===s)break;if(o===4)for(o=r.return;o!==null;){var l=o.tag;if((l===3||l===4)&&(l=o.stateNode.containerInfo,l===s||l.nodeType===8&&l.parentNode===s))return;o=o.return}for(;a!==null;){if(o=tn(a),o===null)return;if(l=o.tag,l===5||l===6){r=i=o;continue e}a=a.parentNode}}r=r.return}Cc(function(){var c=i,d=Ca(n),f=[];e:{var m=rd.get(t);if(m!==void 0){var y=$a,x=t;switch(t){case"keypress":if(Cs(n)===0)break e;case"keydown":case"keyup":y=np;break;case"focusin":x="focus",y=Fi;break;case"focusout":x="blur",y=Fi;break;case"beforeblur":case"afterblur":y=Fi;break;case"click":if(n.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":y=Ll;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":y=Wf;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":y=ip;break;case Zc:case ed:case td:y=Kf;break;case nd:y=ap;break;case"scroll":y=Bf;break;case"wheel":y=up;break;case"copy":case"cut":case"paste":y=Qf;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":y=Dl}var v=(e&4)!==0,k=!v&&t==="scroll",g=v?m!==null?m+"Capture":null:m;v=[];for(var p=c,h;p!==null;){h=p;var w=h.stateNode;if(h.tag===5&&w!==null&&(h=w,g!==null&&(w=Rr(p,g),w!=null&&v.push(zr(p,w,h)))),k)break;p=p.return}0<v.length&&(m=new y(m,x,null,n,d),f.push({event:m,listeners:v}))}}if(!(e&7)){e:{if(m=t==="mouseover"||t==="pointerover",y=t==="mouseout"||t==="pointerout",m&&n!==No&&(x=n.relatedTarget||n.fromElement)&&(tn(x)||x[yt]))break e;if((y||m)&&(m=d.window===d?d:(m=d.ownerDocument)?m.defaultView||m.parentWindow:window,y?(x=n.relatedTarget||n.toElement,y=c,x=x?tn(x):null,x!==null&&(k=fn(x),x!==k||x.tag!==5&&x.tag!==6)&&(x=null)):(y=null,x=c),y!==x)){if(v=Ll,w="onMouseLeave",g="onMouseEnter",p="mouse",(t==="pointerout"||t==="pointerover")&&(v=Dl,w="onPointerLeave",g="onPointerEnter",p="pointer"),k=y==null?m:Cn(y),h=x==null?m:Cn(x),m=new v(w,p+"leave",y,n,d),m.target=k,m.relatedTarget=h,w=null,tn(d)===c&&(v=new v(g,p+"enter",x,n,d),v.target=h,v.relatedTarget=k,w=v),k=w,y&&x)t:{for(v=y,g=x,p=0,h=v;h;h=mn(h))p++;for(h=0,w=g;w;w=mn(w))h++;for(;0<p-h;)v=mn(v),p--;for(;0<h-p;)g=mn(g),h--;for(;p--;){if(v===g||g!==null&&v===g.alternate)break t;v=mn(v),g=mn(g)}v=null}else v=null;y!==null&&Gl(f,m,y,v,!1),x!==null&&k!==null&&Gl(f,k,x,v,!0)}}e:{if(m=c?Cn(c):window,y=m.nodeName&&m.nodeName.toLowerCase(),y==="select"||y==="input"&&m.type==="file")var _=gp;else if(zl(m))if(Gc)_=xp;else{_=yp;var S=vp}else(y=m.nodeName)&&y.toLowerCase()==="input"&&(m.type==="checkbox"||m.type==="radio")&&(_=wp);if(_&&(_=_(t,c))){Kc(f,_,n,d);break e}S&&S(t,m,c),t==="focusout"&&(S=m._wrapperState)&&S.controlled&&m.type==="number"&&_o(m,"number",m.value)}switch(S=c?Cn(c):window,t){case"focusin":(zl(S)||S.contentEditable==="true")&&(Nn=S,Ro=c,_r=null);break;case"focusout":_r=Ro=Nn=null;break;case"mousedown":$o=!0;break;case"contextmenu":case"mouseup":case"dragend":$o=!1,Vl(f,n,d);break;case"selectionchange":if(Sp)break;case"keydown":case"keyup":Vl(f,n,d)}var b;if(Ia)e:{switch(t){case"compositionstart":var C="onCompositionStart";break e;case"compositionend":C="onCompositionEnd";break e;case"compositionupdate":C="onCompositionUpdate";break e}C=void 0}else jn?Vc(t,n)&&(C="onCompositionEnd"):t==="keydown"&&n.keyCode===229&&(C="onCompositionStart");C&&(Wc&&n.locale!=="ko"&&(jn||C!=="onCompositionStart"?C==="onCompositionEnd"&&jn&&(b=Hc()):(At=d,Ra="value"in At?At.value:At.textContent,jn=!0)),S=Ws(c,C),0<S.length&&(C=new Il(C,t,null,n,d),f.push({event:C,listeners:S}),b?C.data=b:(b=qc(n),b!==null&&(C.data=b)))),(b=dp?hp(t,n):fp(t,n))&&(c=Ws(c,"onBeforeInput"),0<c.length&&(d=new Il("onBeforeInput","beforeinput",null,n,d),f.push({event:d,listeners:c}),d.data=b))}sd(f,e)})}function zr(t,e,n){return{instance:t,listener:e,currentTarget:n}}function Ws(t,e){for(var n=e+"Capture",r=[];t!==null;){var s=t,i=s.stateNode;s.tag===5&&i!==null&&(s=i,i=Rr(t,n),i!=null&&r.unshift(zr(t,i,s)),i=Rr(t,e),i!=null&&r.push(zr(t,i,s))),t=t.return}return r}function mn(t){if(t===null)return null;do t=t.return;while(t&&t.tag!==5);return t||null}function Gl(t,e,n,r,s){for(var i=e._reactName,o=[];n!==null&&n!==r;){var a=n,l=a.alternate,c=a.stateNode;if(l!==null&&l===r)break;a.tag===5&&c!==null&&(a=c,s?(l=Rr(n,i),l!=null&&o.unshift(zr(n,l,a))):s||(l=Rr(n,i),l!=null&&o.push(zr(n,l,a)))),n=n.return}o.length!==0&&t.push({event:e,listeners:o})}var Ep=/\r\n?/g,Cp=/\u0000|\uFFFD/g;function Ql(t){return(typeof t=="string"?t:""+t).replace(Ep,`
`).replace(Cp,"")}function fs(t,e,n){if(e=Ql(e),Ql(t)!==e&&n)throw Error(E(425))}function Vs(){}var Lo=null,Io=null;function Do(t,e){return t==="textarea"||t==="noscript"||typeof e.children=="string"||typeof e.children=="number"||typeof e.dangerouslySetInnerHTML=="object"&&e.dangerouslySetInnerHTML!==null&&e.dangerouslySetInnerHTML.__html!=null}var Uo=typeof setTimeout=="function"?setTimeout:void 0,Tp=typeof clearTimeout=="function"?clearTimeout:void 0,Jl=typeof Promise=="function"?Promise:void 0,Pp=typeof queueMicrotask=="function"?queueMicrotask:typeof Jl<"u"?function(t){return Jl.resolve(null).then(t).catch(Op)}:Uo;function Op(t){setTimeout(function(){throw t})}function Qi(t,e){var n=e,r=0;do{var s=n.nextSibling;if(t.removeChild(n),s&&s.nodeType===8)if(n=s.data,n==="/$"){if(r===0){t.removeChild(s),Ir(e);return}r--}else n!=="$"&&n!=="$?"&&n!=="$!"||r++;n=s}while(n);Ir(e)}function Dt(t){for(;t!=null;t=t.nextSibling){var e=t.nodeType;if(e===1||e===3)break;if(e===8){if(e=t.data,e==="$"||e==="$!"||e==="$?")break;if(e==="/$")return null}}return t}function Yl(t){t=t.previousSibling;for(var e=0;t;){if(t.nodeType===8){var n=t.data;if(n==="$"||n==="$!"||n==="$?"){if(e===0)return t;e--}else n==="/$"&&e++}t=t.previousSibling}return null}var Xn=Math.random().toString(36).slice(2),st="__reactFiber$"+Xn,Fr="__reactProps$"+Xn,yt="__reactContainer$"+Xn,Mo="__reactEvents$"+Xn,Ap="__reactListeners$"+Xn,Rp="__reactHandles$"+Xn;function tn(t){var e=t[st];if(e)return e;for(var n=t.parentNode;n;){if(e=n[yt]||n[st]){if(n=e.alternate,e.child!==null||n!==null&&n.child!==null)for(t=Yl(t);t!==null;){if(n=t[st])return n;t=Yl(t)}return e}t=n,n=t.parentNode}return null}function Xr(t){return t=t[st]||t[yt],!t||t.tag!==5&&t.tag!==6&&t.tag!==13&&t.tag!==3?null:t}function Cn(t){if(t.tag===5||t.tag===6)return t.stateNode;throw Error(E(33))}function mi(t){return t[Fr]||null}var zo=[],Tn=-1;function Vt(t){return{current:t}}function K(t){0>Tn||(t.current=zo[Tn],zo[Tn]=null,Tn--)}function V(t,e){Tn++,zo[Tn]=t.current,t.current=e}var Ht={},we=Vt(Ht),Pe=Vt(!1),an=Ht;function Hn(t,e){var n=t.type.contextTypes;if(!n)return Ht;var r=t.stateNode;if(r&&r.__reactInternalMemoizedUnmaskedChildContext===e)return r.__reactInternalMemoizedMaskedChildContext;var s={},i;for(i in n)s[i]=e[i];return r&&(t=t.stateNode,t.__reactInternalMemoizedUnmaskedChildContext=e,t.__reactInternalMemoizedMaskedChildContext=s),s}function Oe(t){return t=t.childContextTypes,t!=null}function qs(){K(Pe),K(we)}function Xl(t,e,n){if(we.current!==Ht)throw Error(E(168));V(we,e),V(Pe,n)}function od(t,e,n){var r=t.stateNode;if(e=e.childContextTypes,typeof r.getChildContext!="function")return n;r=r.getChildContext();for(var s in r)if(!(s in e))throw Error(E(108,vf(t)||"Unknown",s));return Y({},n,r)}function Ks(t){return t=(t=t.stateNode)&&t.__reactInternalMemoizedMergedChildContext||Ht,an=we.current,V(we,t),V(Pe,Pe.current),!0}function Zl(t,e,n){var r=t.stateNode;if(!r)throw Error(E(169));n?(t=od(t,e,an),r.__reactInternalMemoizedMergedChildContext=t,K(Pe),K(we),V(we,t)):K(Pe),V(Pe,n)}var ht=null,gi=!1,Ji=!1;function ad(t){ht===null?ht=[t]:ht.push(t)}function $p(t){gi=!0,ad(t)}function qt(){if(!Ji&&ht!==null){Ji=!0;var t=0,e=B;try{var n=ht;for(B=1;t<n.length;t++){var r=n[t];do r=r(!0);while(r!==null)}ht=null,gi=!1}catch(s){throw ht!==null&&(ht=ht.slice(t+1)),Ac(Ta,qt),s}finally{B=e,Ji=!1}}return null}var Pn=[],On=0,Gs=null,Qs=0,Me=[],ze=0,ln=null,pt=1,mt="";function Yt(t,e){Pn[On++]=Qs,Pn[On++]=Gs,Gs=t,Qs=e}function ld(t,e,n){Me[ze++]=pt,Me[ze++]=mt,Me[ze++]=ln,ln=t;var r=pt;t=mt;var s=32-Xe(r)-1;r&=~(1<<s),n+=1;var i=32-Xe(e)+s;if(30<i){var o=s-s%5;i=(r&(1<<o)-1).toString(32),r>>=o,s-=o,pt=1<<32-Xe(e)+s|n<<s|r,mt=i+t}else pt=1<<i|n<<s|r,mt=t}function Ua(t){t.return!==null&&(Yt(t,1),ld(t,1,0))}function Ma(t){for(;t===Gs;)Gs=Pn[--On],Pn[On]=null,Qs=Pn[--On],Pn[On]=null;for(;t===ln;)ln=Me[--ze],Me[ze]=null,mt=Me[--ze],Me[ze]=null,pt=Me[--ze],Me[ze]=null}var Le=null,$e=null,G=!1,Ye=null;function ud(t,e){var n=Fe(5,null,null,0);n.elementType="DELETED",n.stateNode=e,n.return=t,e=t.deletions,e===null?(t.deletions=[n],t.flags|=16):e.push(n)}function eu(t,e){switch(t.tag){case 5:var n=t.type;return e=e.nodeType!==1||n.toLowerCase()!==e.nodeName.toLowerCase()?null:e,e!==null?(t.stateNode=e,Le=t,$e=Dt(e.firstChild),!0):!1;case 6:return e=t.pendingProps===""||e.nodeType!==3?null:e,e!==null?(t.stateNode=e,Le=t,$e=null,!0):!1;case 13:return e=e.nodeType!==8?null:e,e!==null?(n=ln!==null?{id:pt,overflow:mt}:null,t.memoizedState={dehydrated:e,treeContext:n,retryLane:1073741824},n=Fe(18,null,null,0),n.stateNode=e,n.return=t,t.child=n,Le=t,$e=null,!0):!1;default:return!1}}function Fo(t){return(t.mode&1)!==0&&(t.flags&128)===0}function Bo(t){if(G){var e=$e;if(e){var n=e;if(!eu(t,e)){if(Fo(t))throw Error(E(418));e=Dt(n.nextSibling);var r=Le;e&&eu(t,e)?ud(r,n):(t.flags=t.flags&-4097|2,G=!1,Le=t)}}else{if(Fo(t))throw Error(E(418));t.flags=t.flags&-4097|2,G=!1,Le=t}}}function tu(t){for(t=t.return;t!==null&&t.tag!==5&&t.tag!==3&&t.tag!==13;)t=t.return;Le=t}function ps(t){if(t!==Le)return!1;if(!G)return tu(t),G=!0,!1;var e;if((e=t.tag!==3)&&!(e=t.tag!==5)&&(e=t.type,e=e!=="head"&&e!=="body"&&!Do(t.type,t.memoizedProps)),e&&(e=$e)){if(Fo(t))throw cd(),Error(E(418));for(;e;)ud(t,e),e=Dt(e.nextSibling)}if(tu(t),t.tag===13){if(t=t.memoizedState,t=t!==null?t.dehydrated:null,!t)throw Error(E(317));e:{for(t=t.nextSibling,e=0;t;){if(t.nodeType===8){var n=t.data;if(n==="/$"){if(e===0){$e=Dt(t.nextSibling);break e}e--}else n!=="$"&&n!=="$!"&&n!=="$?"||e++}t=t.nextSibling}$e=null}}else $e=Le?Dt(t.stateNode.nextSibling):null;return!0}function cd(){for(var t=$e;t;)t=Dt(t.nextSibling)}function Wn(){$e=Le=null,G=!1}function za(t){Ye===null?Ye=[t]:Ye.push(t)}var Lp=_t.ReactCurrentBatchConfig;function ar(t,e,n){if(t=n.ref,t!==null&&typeof t!="function"&&typeof t!="object"){if(n._owner){if(n=n._owner,n){if(n.tag!==1)throw Error(E(309));var r=n.stateNode}if(!r)throw Error(E(147,t));var s=r,i=""+t;return e!==null&&e.ref!==null&&typeof e.ref=="function"&&e.ref._stringRef===i?e.ref:(e=function(o){var a=s.refs;o===null?delete a[i]:a[i]=o},e._stringRef=i,e)}if(typeof t!="string")throw Error(E(284));if(!n._owner)throw Error(E(290,t))}return t}function ms(t,e){throw t=Object.prototype.toString.call(e),Error(E(31,t==="[object Object]"?"object with keys {"+Object.keys(e).join(", ")+"}":t))}function nu(t){var e=t._init;return e(t._payload)}function dd(t){function e(g,p){if(t){var h=g.deletions;h===null?(g.deletions=[p],g.flags|=16):h.push(p)}}function n(g,p){if(!t)return null;for(;p!==null;)e(g,p),p=p.sibling;return null}function r(g,p){for(g=new Map;p!==null;)p.key!==null?g.set(p.key,p):g.set(p.index,p),p=p.sibling;return g}function s(g,p){return g=Ft(g,p),g.index=0,g.sibling=null,g}function i(g,p,h){return g.index=h,t?(h=g.alternate,h!==null?(h=h.index,h<p?(g.flags|=2,p):h):(g.flags|=2,p)):(g.flags|=1048576,p)}function o(g){return t&&g.alternate===null&&(g.flags|=2),g}function a(g,p,h,w){return p===null||p.tag!==6?(p=ro(h,g.mode,w),p.return=g,p):(p=s(p,h),p.return=g,p)}function l(g,p,h,w){var _=h.type;return _===bn?d(g,p,h.props.children,w,h.key):p!==null&&(p.elementType===_||typeof _=="object"&&_!==null&&_.$$typeof===Nt&&nu(_)===p.type)?(w=s(p,h.props),w.ref=ar(g,p,h),w.return=g,w):(w=Ls(h.type,h.key,h.props,null,g.mode,w),w.ref=ar(g,p,h),w.return=g,w)}function c(g,p,h,w){return p===null||p.tag!==4||p.stateNode.containerInfo!==h.containerInfo||p.stateNode.implementation!==h.implementation?(p=so(h,g.mode,w),p.return=g,p):(p=s(p,h.children||[]),p.return=g,p)}function d(g,p,h,w,_){return p===null||p.tag!==7?(p=on(h,g.mode,w,_),p.return=g,p):(p=s(p,h),p.return=g,p)}function f(g,p,h){if(typeof p=="string"&&p!==""||typeof p=="number")return p=ro(""+p,g.mode,h),p.return=g,p;if(typeof p=="object"&&p!==null){switch(p.$$typeof){case ss:return h=Ls(p.type,p.key,p.props,null,g.mode,h),h.ref=ar(g,null,p),h.return=g,h;case Sn:return p=so(p,g.mode,h),p.return=g,p;case Nt:var w=p._init;return f(g,w(p._payload),h)}if(hr(p)||nr(p))return p=on(p,g.mode,h,null),p.return=g,p;ms(g,p)}return null}function m(g,p,h,w){var _=p!==null?p.key:null;if(typeof h=="string"&&h!==""||typeof h=="number")return _!==null?null:a(g,p,""+h,w);if(typeof h=="object"&&h!==null){switch(h.$$typeof){case ss:return h.key===_?l(g,p,h,w):null;case Sn:return h.key===_?c(g,p,h,w):null;case Nt:return _=h._init,m(g,p,_(h._payload),w)}if(hr(h)||nr(h))return _!==null?null:d(g,p,h,w,null);ms(g,h)}return null}function y(g,p,h,w,_){if(typeof w=="string"&&w!==""||typeof w=="number")return g=g.get(h)||null,a(p,g,""+w,_);if(typeof w=="object"&&w!==null){switch(w.$$typeof){case ss:return g=g.get(w.key===null?h:w.key)||null,l(p,g,w,_);case Sn:return g=g.get(w.key===null?h:w.key)||null,c(p,g,w,_);case Nt:var S=w._init;return y(g,p,h,S(w._payload),_)}if(hr(w)||nr(w))return g=g.get(h)||null,d(p,g,w,_,null);ms(p,w)}return null}function x(g,p,h,w){for(var _=null,S=null,b=p,C=p=0,$=null;b!==null&&C<h.length;C++){b.index>C?($=b,b=null):$=b.sibling;var j=m(g,b,h[C],w);if(j===null){b===null&&(b=$);break}t&&b&&j.alternate===null&&e(g,b),p=i(j,p,C),S===null?_=j:S.sibling=j,S=j,b=$}if(C===h.length)return n(g,b),G&&Yt(g,C),_;if(b===null){for(;C<h.length;C++)b=f(g,h[C],w),b!==null&&(p=i(b,p,C),S===null?_=b:S.sibling=b,S=b);return G&&Yt(g,C),_}for(b=r(g,b);C<h.length;C++)$=y(b,g,C,h[C],w),$!==null&&(t&&$.alternate!==null&&b.delete($.key===null?C:$.key),p=i($,p,C),S===null?_=$:S.sibling=$,S=$);return t&&b.forEach(function(O){return e(g,O)}),G&&Yt(g,C),_}function v(g,p,h,w){var _=nr(h);if(typeof _!="function")throw Error(E(150));if(h=_.call(h),h==null)throw Error(E(151));for(var S=_=null,b=p,C=p=0,$=null,j=h.next();b!==null&&!j.done;C++,j=h.next()){b.index>C?($=b,b=null):$=b.sibling;var O=m(g,b,j.value,w);if(O===null){b===null&&(b=$);break}t&&b&&O.alternate===null&&e(g,b),p=i(O,p,C),S===null?_=O:S.sibling=O,S=O,b=$}if(j.done)return n(g,b),G&&Yt(g,C),_;if(b===null){for(;!j.done;C++,j=h.next())j=f(g,j.value,w),j!==null&&(p=i(j,p,C),S===null?_=j:S.sibling=j,S=j);return G&&Yt(g,C),_}for(b=r(g,b);!j.done;C++,j=h.next())j=y(b,g,C,j.value,w),j!==null&&(t&&j.alternate!==null&&b.delete(j.key===null?C:j.key),p=i(j,p,C),S===null?_=j:S.sibling=j,S=j);return t&&b.forEach(function(F){return e(g,F)}),G&&Yt(g,C),_}function k(g,p,h,w){if(typeof h=="object"&&h!==null&&h.type===bn&&h.key===null&&(h=h.props.children),typeof h=="object"&&h!==null){switch(h.$$typeof){case ss:e:{for(var _=h.key,S=p;S!==null;){if(S.key===_){if(_=h.type,_===bn){if(S.tag===7){n(g,S.sibling),p=s(S,h.props.children),p.return=g,g=p;break e}}else if(S.elementType===_||typeof _=="object"&&_!==null&&_.$$typeof===Nt&&nu(_)===S.type){n(g,S.sibling),p=s(S,h.props),p.ref=ar(g,S,h),p.return=g,g=p;break e}n(g,S);break}else e(g,S);S=S.sibling}h.type===bn?(p=on(h.props.children,g.mode,w,h.key),p.return=g,g=p):(w=Ls(h.type,h.key,h.props,null,g.mode,w),w.ref=ar(g,p,h),w.return=g,g=w)}return o(g);case Sn:e:{for(S=h.key;p!==null;){if(p.key===S)if(p.tag===4&&p.stateNode.containerInfo===h.containerInfo&&p.stateNode.implementation===h.implementation){n(g,p.sibling),p=s(p,h.children||[]),p.return=g,g=p;break e}else{n(g,p);break}else e(g,p);p=p.sibling}p=so(h,g.mode,w),p.return=g,g=p}return o(g);case Nt:return S=h._init,k(g,p,S(h._payload),w)}if(hr(h))return x(g,p,h,w);if(nr(h))return v(g,p,h,w);ms(g,h)}return typeof h=="string"&&h!==""||typeof h=="number"?(h=""+h,p!==null&&p.tag===6?(n(g,p.sibling),p=s(p,h),p.return=g,g=p):(n(g,p),p=ro(h,g.mode,w),p.return=g,g=p),o(g)):n(g,p)}return k}var Vn=dd(!0),hd=dd(!1),Js=Vt(null),Ys=null,An=null,Fa=null;function Ba(){Fa=An=Ys=null}function Ha(t){var e=Js.current;K(Js),t._currentValue=e}function Ho(t,e,n){for(;t!==null;){var r=t.alternate;if((t.childLanes&e)!==e?(t.childLanes|=e,r!==null&&(r.childLanes|=e)):r!==null&&(r.childLanes&e)!==e&&(r.childLanes|=e),t===n)break;t=t.return}}function Mn(t,e){Ys=t,Fa=An=null,t=t.dependencies,t!==null&&t.firstContext!==null&&(t.lanes&e&&(Te=!0),t.firstContext=null)}function We(t){var e=t._currentValue;if(Fa!==t)if(t={context:t,memoizedValue:e,next:null},An===null){if(Ys===null)throw Error(E(308));An=t,Ys.dependencies={lanes:0,firstContext:t}}else An=An.next=t;return e}var nn=null;function Wa(t){nn===null?nn=[t]:nn.push(t)}function fd(t,e,n,r){var s=e.interleaved;return s===null?(n.next=n,Wa(e)):(n.next=s.next,s.next=n),e.interleaved=n,wt(t,r)}function wt(t,e){t.lanes|=e;var n=t.alternate;for(n!==null&&(n.lanes|=e),n=t,t=t.return;t!==null;)t.childLanes|=e,n=t.alternate,n!==null&&(n.childLanes|=e),n=t,t=t.return;return n.tag===3?n.stateNode:null}var Et=!1;function Va(t){t.updateQueue={baseState:t.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,interleaved:null,lanes:0},effects:null}}function pd(t,e){t=t.updateQueue,e.updateQueue===t&&(e.updateQueue={baseState:t.baseState,firstBaseUpdate:t.firstBaseUpdate,lastBaseUpdate:t.lastBaseUpdate,shared:t.shared,effects:t.effects})}function gt(t,e){return{eventTime:t,lane:e,tag:0,payload:null,callback:null,next:null}}function Ut(t,e,n){var r=t.updateQueue;if(r===null)return null;if(r=r.shared,M&2){var s=r.pending;return s===null?e.next=e:(e.next=s.next,s.next=e),r.pending=e,wt(t,n)}return s=r.interleaved,s===null?(e.next=e,Wa(r)):(e.next=s.next,s.next=e),r.interleaved=e,wt(t,n)}function Ts(t,e,n){if(e=e.updateQueue,e!==null&&(e=e.shared,(n&4194240)!==0)){var r=e.lanes;r&=t.pendingLanes,n|=r,e.lanes=n,Pa(t,n)}}function ru(t,e){var n=t.updateQueue,r=t.alternate;if(r!==null&&(r=r.updateQueue,n===r)){var s=null,i=null;if(n=n.firstBaseUpdate,n!==null){do{var o={eventTime:n.eventTime,lane:n.lane,tag:n.tag,payload:n.payload,callback:n.callback,next:null};i===null?s=i=o:i=i.next=o,n=n.next}while(n!==null);i===null?s=i=e:i=i.next=e}else s=i=e;n={baseState:r.baseState,firstBaseUpdate:s,lastBaseUpdate:i,shared:r.shared,effects:r.effects},t.updateQueue=n;return}t=n.lastBaseUpdate,t===null?n.firstBaseUpdate=e:t.next=e,n.lastBaseUpdate=e}function Xs(t,e,n,r){var s=t.updateQueue;Et=!1;var i=s.firstBaseUpdate,o=s.lastBaseUpdate,a=s.shared.pending;if(a!==null){s.shared.pending=null;var l=a,c=l.next;l.next=null,o===null?i=c:o.next=c,o=l;var d=t.alternate;d!==null&&(d=d.updateQueue,a=d.lastBaseUpdate,a!==o&&(a===null?d.firstBaseUpdate=c:a.next=c,d.lastBaseUpdate=l))}if(i!==null){var f=s.baseState;o=0,d=c=l=null,a=i;do{var m=a.lane,y=a.eventTime;if((r&m)===m){d!==null&&(d=d.next={eventTime:y,lane:0,tag:a.tag,payload:a.payload,callback:a.callback,next:null});e:{var x=t,v=a;switch(m=e,y=n,v.tag){case 1:if(x=v.payload,typeof x=="function"){f=x.call(y,f,m);break e}f=x;break e;case 3:x.flags=x.flags&-65537|128;case 0:if(x=v.payload,m=typeof x=="function"?x.call(y,f,m):x,m==null)break e;f=Y({},f,m);break e;case 2:Et=!0}}a.callback!==null&&a.lane!==0&&(t.flags|=64,m=s.effects,m===null?s.effects=[a]:m.push(a))}else y={eventTime:y,lane:m,tag:a.tag,payload:a.payload,callback:a.callback,next:null},d===null?(c=d=y,l=f):d=d.next=y,o|=m;if(a=a.next,a===null){if(a=s.shared.pending,a===null)break;m=a,a=m.next,m.next=null,s.lastBaseUpdate=m,s.shared.pending=null}}while(!0);if(d===null&&(l=f),s.baseState=l,s.firstBaseUpdate=c,s.lastBaseUpdate=d,e=s.shared.interleaved,e!==null){s=e;do o|=s.lane,s=s.next;while(s!==e)}else i===null&&(s.shared.lanes=0);cn|=o,t.lanes=o,t.memoizedState=f}}function su(t,e,n){if(t=e.effects,e.effects=null,t!==null)for(e=0;e<t.length;e++){var r=t[e],s=r.callback;if(s!==null){if(r.callback=null,r=n,typeof s!="function")throw Error(E(191,s));s.call(r)}}}var Zr={},ot=Vt(Zr),Br=Vt(Zr),Hr=Vt(Zr);function rn(t){if(t===Zr)throw Error(E(174));return t}function qa(t,e){switch(V(Hr,e),V(Br,t),V(ot,Zr),t=e.nodeType,t){case 9:case 11:e=(e=e.documentElement)?e.namespaceURI:So(null,"");break;default:t=t===8?e.parentNode:e,e=t.namespaceURI||null,t=t.tagName,e=So(e,t)}K(ot),V(ot,e)}function qn(){K(ot),K(Br),K(Hr)}function md(t){rn(Hr.current);var e=rn(ot.current),n=So(e,t.type);e!==n&&(V(Br,t),V(ot,n))}function Ka(t){Br.current===t&&(K(ot),K(Br))}var Q=Vt(0);function Zs(t){for(var e=t;e!==null;){if(e.tag===13){var n=e.memoizedState;if(n!==null&&(n=n.dehydrated,n===null||n.data==="$?"||n.data==="$!"))return e}else if(e.tag===19&&e.memoizedProps.revealOrder!==void 0){if(e.flags&128)return e}else if(e.child!==null){e.child.return=e,e=e.child;continue}if(e===t)break;for(;e.sibling===null;){if(e.return===null||e.return===t)return null;e=e.return}e.sibling.return=e.return,e=e.sibling}return null}var Yi=[];function Ga(){for(var t=0;t<Yi.length;t++)Yi[t]._workInProgressVersionPrimary=null;Yi.length=0}var Ps=_t.ReactCurrentDispatcher,Xi=_t.ReactCurrentBatchConfig,un=0,J=null,ie=null,le=null,ei=!1,kr=!1,Wr=0,Ip=0;function ge(){throw Error(E(321))}function Qa(t,e){if(e===null)return!1;for(var n=0;n<e.length&&n<t.length;n++)if(!et(t[n],e[n]))return!1;return!0}function Ja(t,e,n,r,s,i){if(un=i,J=e,e.memoizedState=null,e.updateQueue=null,e.lanes=0,Ps.current=t===null||t.memoizedState===null?zp:Fp,t=n(r,s),kr){i=0;do{if(kr=!1,Wr=0,25<=i)throw Error(E(301));i+=1,le=ie=null,e.updateQueue=null,Ps.current=Bp,t=n(r,s)}while(kr)}if(Ps.current=ti,e=ie!==null&&ie.next!==null,un=0,le=ie=J=null,ei=!1,e)throw Error(E(300));return t}function Ya(){var t=Wr!==0;return Wr=0,t}function rt(){var t={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return le===null?J.memoizedState=le=t:le=le.next=t,le}function Ve(){if(ie===null){var t=J.alternate;t=t!==null?t.memoizedState:null}else t=ie.next;var e=le===null?J.memoizedState:le.next;if(e!==null)le=e,ie=t;else{if(t===null)throw Error(E(310));ie=t,t={memoizedState:ie.memoizedState,baseState:ie.baseState,baseQueue:ie.baseQueue,queue:ie.queue,next:null},le===null?J.memoizedState=le=t:le=le.next=t}return le}function Vr(t,e){return typeof e=="function"?e(t):e}function Zi(t){var e=Ve(),n=e.queue;if(n===null)throw Error(E(311));n.lastRenderedReducer=t;var r=ie,s=r.baseQueue,i=n.pending;if(i!==null){if(s!==null){var o=s.next;s.next=i.next,i.next=o}r.baseQueue=s=i,n.pending=null}if(s!==null){i=s.next,r=r.baseState;var a=o=null,l=null,c=i;do{var d=c.lane;if((un&d)===d)l!==null&&(l=l.next={lane:0,action:c.action,hasEagerState:c.hasEagerState,eagerState:c.eagerState,next:null}),r=c.hasEagerState?c.eagerState:t(r,c.action);else{var f={lane:d,action:c.action,hasEagerState:c.hasEagerState,eagerState:c.eagerState,next:null};l===null?(a=l=f,o=r):l=l.next=f,J.lanes|=d,cn|=d}c=c.next}while(c!==null&&c!==i);l===null?o=r:l.next=a,et(r,e.memoizedState)||(Te=!0),e.memoizedState=r,e.baseState=o,e.baseQueue=l,n.lastRenderedState=r}if(t=n.interleaved,t!==null){s=t;do i=s.lane,J.lanes|=i,cn|=i,s=s.next;while(s!==t)}else s===null&&(n.lanes=0);return[e.memoizedState,n.dispatch]}function eo(t){var e=Ve(),n=e.queue;if(n===null)throw Error(E(311));n.lastRenderedReducer=t;var r=n.dispatch,s=n.pending,i=e.memoizedState;if(s!==null){n.pending=null;var o=s=s.next;do i=t(i,o.action),o=o.next;while(o!==s);et(i,e.memoizedState)||(Te=!0),e.memoizedState=i,e.baseQueue===null&&(e.baseState=i),n.lastRenderedState=i}return[i,r]}function gd(){}function vd(t,e){var n=J,r=Ve(),s=e(),i=!et(r.memoizedState,s);if(i&&(r.memoizedState=s,Te=!0),r=r.queue,Xa(xd.bind(null,n,r,t),[t]),r.getSnapshot!==e||i||le!==null&&le.memoizedState.tag&1){if(n.flags|=2048,qr(9,wd.bind(null,n,r,s,e),void 0,null),ue===null)throw Error(E(349));un&30||yd(n,e,s)}return s}function yd(t,e,n){t.flags|=16384,t={getSnapshot:e,value:n},e=J.updateQueue,e===null?(e={lastEffect:null,stores:null},J.updateQueue=e,e.stores=[t]):(n=e.stores,n===null?e.stores=[t]:n.push(t))}function wd(t,e,n,r){e.value=n,e.getSnapshot=r,_d(e)&&kd(t)}function xd(t,e,n){return n(function(){_d(e)&&kd(t)})}function _d(t){var e=t.getSnapshot;t=t.value;try{var n=e();return!et(t,n)}catch{return!0}}function kd(t){var e=wt(t,1);e!==null&&Ze(e,t,1,-1)}function iu(t){var e=rt();return typeof t=="function"&&(t=t()),e.memoizedState=e.baseState=t,t={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:Vr,lastRenderedState:t},e.queue=t,t=t.dispatch=Mp.bind(null,J,t),[e.memoizedState,t]}function qr(t,e,n,r){return t={tag:t,create:e,destroy:n,deps:r,next:null},e=J.updateQueue,e===null?(e={lastEffect:null,stores:null},J.updateQueue=e,e.lastEffect=t.next=t):(n=e.lastEffect,n===null?e.lastEffect=t.next=t:(r=n.next,n.next=t,t.next=r,e.lastEffect=t)),t}function Sd(){return Ve().memoizedState}function Os(t,e,n,r){var s=rt();J.flags|=t,s.memoizedState=qr(1|e,n,void 0,r===void 0?null:r)}function vi(t,e,n,r){var s=Ve();r=r===void 0?null:r;var i=void 0;if(ie!==null){var o=ie.memoizedState;if(i=o.destroy,r!==null&&Qa(r,o.deps)){s.memoizedState=qr(e,n,i,r);return}}J.flags|=t,s.memoizedState=qr(1|e,n,i,r)}function ou(t,e){return Os(8390656,8,t,e)}function Xa(t,e){return vi(2048,8,t,e)}function bd(t,e){return vi(4,2,t,e)}function jd(t,e){return vi(4,4,t,e)}function Nd(t,e){if(typeof e=="function")return t=t(),e(t),function(){e(null)};if(e!=null)return t=t(),e.current=t,function(){e.current=null}}function Ed(t,e,n){return n=n!=null?n.concat([t]):null,vi(4,4,Nd.bind(null,e,t),n)}function Za(){}function Cd(t,e){var n=Ve();e=e===void 0?null:e;var r=n.memoizedState;return r!==null&&e!==null&&Qa(e,r[1])?r[0]:(n.memoizedState=[t,e],t)}function Td(t,e){var n=Ve();e=e===void 0?null:e;var r=n.memoizedState;return r!==null&&e!==null&&Qa(e,r[1])?r[0]:(t=t(),n.memoizedState=[t,e],t)}function Pd(t,e,n){return un&21?(et(n,e)||(n=Lc(),J.lanes|=n,cn|=n,t.baseState=!0),e):(t.baseState&&(t.baseState=!1,Te=!0),t.memoizedState=n)}function Dp(t,e){var n=B;B=n!==0&&4>n?n:4,t(!0);var r=Xi.transition;Xi.transition={};try{t(!1),e()}finally{B=n,Xi.transition=r}}function Od(){return Ve().memoizedState}function Up(t,e,n){var r=zt(t);if(n={lane:r,action:n,hasEagerState:!1,eagerState:null,next:null},Ad(t))Rd(e,n);else if(n=fd(t,e,n,r),n!==null){var s=Se();Ze(n,t,r,s),$d(n,e,r)}}function Mp(t,e,n){var r=zt(t),s={lane:r,action:n,hasEagerState:!1,eagerState:null,next:null};if(Ad(t))Rd(e,s);else{var i=t.alternate;if(t.lanes===0&&(i===null||i.lanes===0)&&(i=e.lastRenderedReducer,i!==null))try{var o=e.lastRenderedState,a=i(o,n);if(s.hasEagerState=!0,s.eagerState=a,et(a,o)){var l=e.interleaved;l===null?(s.next=s,Wa(e)):(s.next=l.next,l.next=s),e.interleaved=s;return}}catch{}finally{}n=fd(t,e,s,r),n!==null&&(s=Se(),Ze(n,t,r,s),$d(n,e,r))}}function Ad(t){var e=t.alternate;return t===J||e!==null&&e===J}function Rd(t,e){kr=ei=!0;var n=t.pending;n===null?e.next=e:(e.next=n.next,n.next=e),t.pending=e}function $d(t,e,n){if(n&4194240){var r=e.lanes;r&=t.pendingLanes,n|=r,e.lanes=n,Pa(t,n)}}var ti={readContext:We,useCallback:ge,useContext:ge,useEffect:ge,useImperativeHandle:ge,useInsertionEffect:ge,useLayoutEffect:ge,useMemo:ge,useReducer:ge,useRef:ge,useState:ge,useDebugValue:ge,useDeferredValue:ge,useTransition:ge,useMutableSource:ge,useSyncExternalStore:ge,useId:ge,unstable_isNewReconciler:!1},zp={readContext:We,useCallback:function(t,e){return rt().memoizedState=[t,e===void 0?null:e],t},useContext:We,useEffect:ou,useImperativeHandle:function(t,e,n){return n=n!=null?n.concat([t]):null,Os(4194308,4,Nd.bind(null,e,t),n)},useLayoutEffect:function(t,e){return Os(4194308,4,t,e)},useInsertionEffect:function(t,e){return Os(4,2,t,e)},useMemo:function(t,e){var n=rt();return e=e===void 0?null:e,t=t(),n.memoizedState=[t,e],t},useReducer:function(t,e,n){var r=rt();return e=n!==void 0?n(e):e,r.memoizedState=r.baseState=e,t={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:t,lastRenderedState:e},r.queue=t,t=t.dispatch=Up.bind(null,J,t),[r.memoizedState,t]},useRef:function(t){var e=rt();return t={current:t},e.memoizedState=t},useState:iu,useDebugValue:Za,useDeferredValue:function(t){return rt().memoizedState=t},useTransition:function(){var t=iu(!1),e=t[0];return t=Dp.bind(null,t[1]),rt().memoizedState=t,[e,t]},useMutableSource:function(){},useSyncExternalStore:function(t,e,n){var r=J,s=rt();if(G){if(n===void 0)throw Error(E(407));n=n()}else{if(n=e(),ue===null)throw Error(E(349));un&30||yd(r,e,n)}s.memoizedState=n;var i={value:n,getSnapshot:e};return s.queue=i,ou(xd.bind(null,r,i,t),[t]),r.flags|=2048,qr(9,wd.bind(null,r,i,n,e),void 0,null),n},useId:function(){var t=rt(),e=ue.identifierPrefix;if(G){var n=mt,r=pt;n=(r&~(1<<32-Xe(r)-1)).toString(32)+n,e=":"+e+"R"+n,n=Wr++,0<n&&(e+="H"+n.toString(32)),e+=":"}else n=Ip++,e=":"+e+"r"+n.toString(32)+":";return t.memoizedState=e},unstable_isNewReconciler:!1},Fp={readContext:We,useCallback:Cd,useContext:We,useEffect:Xa,useImperativeHandle:Ed,useInsertionEffect:bd,useLayoutEffect:jd,useMemo:Td,useReducer:Zi,useRef:Sd,useState:function(){return Zi(Vr)},useDebugValue:Za,useDeferredValue:function(t){var e=Ve();return Pd(e,ie.memoizedState,t)},useTransition:function(){var t=Zi(Vr)[0],e=Ve().memoizedState;return[t,e]},useMutableSource:gd,useSyncExternalStore:vd,useId:Od,unstable_isNewReconciler:!1},Bp={readContext:We,useCallback:Cd,useContext:We,useEffect:Xa,useImperativeHandle:Ed,useInsertionEffect:bd,useLayoutEffect:jd,useMemo:Td,useReducer:eo,useRef:Sd,useState:function(){return eo(Vr)},useDebugValue:Za,useDeferredValue:function(t){var e=Ve();return ie===null?e.memoizedState=t:Pd(e,ie.memoizedState,t)},useTransition:function(){var t=eo(Vr)[0],e=Ve().memoizedState;return[t,e]},useMutableSource:gd,useSyncExternalStore:vd,useId:Od,unstable_isNewReconciler:!1};function Ge(t,e){if(t&&t.defaultProps){e=Y({},e),t=t.defaultProps;for(var n in t)e[n]===void 0&&(e[n]=t[n]);return e}return e}function Wo(t,e,n,r){e=t.memoizedState,n=n(r,e),n=n==null?e:Y({},e,n),t.memoizedState=n,t.lanes===0&&(t.updateQueue.baseState=n)}var yi={isMounted:function(t){return(t=t._reactInternals)?fn(t)===t:!1},enqueueSetState:function(t,e,n){t=t._reactInternals;var r=Se(),s=zt(t),i=gt(r,s);i.payload=e,n!=null&&(i.callback=n),e=Ut(t,i,s),e!==null&&(Ze(e,t,s,r),Ts(e,t,s))},enqueueReplaceState:function(t,e,n){t=t._reactInternals;var r=Se(),s=zt(t),i=gt(r,s);i.tag=1,i.payload=e,n!=null&&(i.callback=n),e=Ut(t,i,s),e!==null&&(Ze(e,t,s,r),Ts(e,t,s))},enqueueForceUpdate:function(t,e){t=t._reactInternals;var n=Se(),r=zt(t),s=gt(n,r);s.tag=2,e!=null&&(s.callback=e),e=Ut(t,s,r),e!==null&&(Ze(e,t,r,n),Ts(e,t,r))}};function au(t,e,n,r,s,i,o){return t=t.stateNode,typeof t.shouldComponentUpdate=="function"?t.shouldComponentUpdate(r,i,o):e.prototype&&e.prototype.isPureReactComponent?!Ur(n,r)||!Ur(s,i):!0}function Ld(t,e,n){var r=!1,s=Ht,i=e.contextType;return typeof i=="object"&&i!==null?i=We(i):(s=Oe(e)?an:we.current,r=e.contextTypes,i=(r=r!=null)?Hn(t,s):Ht),e=new e(n,i),t.memoizedState=e.state!==null&&e.state!==void 0?e.state:null,e.updater=yi,t.stateNode=e,e._reactInternals=t,r&&(t=t.stateNode,t.__reactInternalMemoizedUnmaskedChildContext=s,t.__reactInternalMemoizedMaskedChildContext=i),e}function lu(t,e,n,r){t=e.state,typeof e.componentWillReceiveProps=="function"&&e.componentWillReceiveProps(n,r),typeof e.UNSAFE_componentWillReceiveProps=="function"&&e.UNSAFE_componentWillReceiveProps(n,r),e.state!==t&&yi.enqueueReplaceState(e,e.state,null)}function Vo(t,e,n,r){var s=t.stateNode;s.props=n,s.state=t.memoizedState,s.refs={},Va(t);var i=e.contextType;typeof i=="object"&&i!==null?s.context=We(i):(i=Oe(e)?an:we.current,s.context=Hn(t,i)),s.state=t.memoizedState,i=e.getDerivedStateFromProps,typeof i=="function"&&(Wo(t,e,i,n),s.state=t.memoizedState),typeof e.getDerivedStateFromProps=="function"||typeof s.getSnapshotBeforeUpdate=="function"||typeof s.UNSAFE_componentWillMount!="function"&&typeof s.componentWillMount!="function"||(e=s.state,typeof s.componentWillMount=="function"&&s.componentWillMount(),typeof s.UNSAFE_componentWillMount=="function"&&s.UNSAFE_componentWillMount(),e!==s.state&&yi.enqueueReplaceState(s,s.state,null),Xs(t,n,s,r),s.state=t.memoizedState),typeof s.componentDidMount=="function"&&(t.flags|=4194308)}function Kn(t,e){try{var n="",r=e;do n+=gf(r),r=r.return;while(r);var s=n}catch(i){s=`
Error generating stack: `+i.message+`
`+i.stack}return{value:t,source:e,stack:s,digest:null}}function to(t,e,n){return{value:t,source:null,stack:n??null,digest:e??null}}function qo(t,e){try{console.error(e.value)}catch(n){setTimeout(function(){throw n})}}var Hp=typeof WeakMap=="function"?WeakMap:Map;function Id(t,e,n){n=gt(-1,n),n.tag=3,n.payload={element:null};var r=e.value;return n.callback=function(){ri||(ri=!0,na=r),qo(t,e)},n}function Dd(t,e,n){n=gt(-1,n),n.tag=3;var r=t.type.getDerivedStateFromError;if(typeof r=="function"){var s=e.value;n.payload=function(){return r(s)},n.callback=function(){qo(t,e)}}var i=t.stateNode;return i!==null&&typeof i.componentDidCatch=="function"&&(n.callback=function(){qo(t,e),typeof r!="function"&&(Mt===null?Mt=new Set([this]):Mt.add(this));var o=e.stack;this.componentDidCatch(e.value,{componentStack:o!==null?o:""})}),n}function uu(t,e,n){var r=t.pingCache;if(r===null){r=t.pingCache=new Hp;var s=new Set;r.set(e,s)}else s=r.get(e),s===void 0&&(s=new Set,r.set(e,s));s.has(n)||(s.add(n),t=rm.bind(null,t,e,n),e.then(t,t))}function cu(t){do{var e;if((e=t.tag===13)&&(e=t.memoizedState,e=e!==null?e.dehydrated!==null:!0),e)return t;t=t.return}while(t!==null);return null}function du(t,e,n,r,s){return t.mode&1?(t.flags|=65536,t.lanes=s,t):(t===e?t.flags|=65536:(t.flags|=128,n.flags|=131072,n.flags&=-52805,n.tag===1&&(n.alternate===null?n.tag=17:(e=gt(-1,1),e.tag=2,Ut(n,e,1))),n.lanes|=1),t)}var Wp=_t.ReactCurrentOwner,Te=!1;function ke(t,e,n,r){e.child=t===null?hd(e,null,n,r):Vn(e,t.child,n,r)}function hu(t,e,n,r,s){n=n.render;var i=e.ref;return Mn(e,s),r=Ja(t,e,n,r,i,s),n=Ya(),t!==null&&!Te?(e.updateQueue=t.updateQueue,e.flags&=-2053,t.lanes&=~s,xt(t,e,s)):(G&&n&&Ua(e),e.flags|=1,ke(t,e,r,s),e.child)}function fu(t,e,n,r,s){if(t===null){var i=n.type;return typeof i=="function"&&!al(i)&&i.defaultProps===void 0&&n.compare===null&&n.defaultProps===void 0?(e.tag=15,e.type=i,Ud(t,e,i,r,s)):(t=Ls(n.type,null,r,e,e.mode,s),t.ref=e.ref,t.return=e,e.child=t)}if(i=t.child,!(t.lanes&s)){var o=i.memoizedProps;if(n=n.compare,n=n!==null?n:Ur,n(o,r)&&t.ref===e.ref)return xt(t,e,s)}return e.flags|=1,t=Ft(i,r),t.ref=e.ref,t.return=e,e.child=t}function Ud(t,e,n,r,s){if(t!==null){var i=t.memoizedProps;if(Ur(i,r)&&t.ref===e.ref)if(Te=!1,e.pendingProps=r=i,(t.lanes&s)!==0)t.flags&131072&&(Te=!0);else return e.lanes=t.lanes,xt(t,e,s)}return Ko(t,e,n,r,s)}function Md(t,e,n){var r=e.pendingProps,s=r.children,i=t!==null?t.memoizedState:null;if(r.mode==="hidden")if(!(e.mode&1))e.memoizedState={baseLanes:0,cachePool:null,transitions:null},V($n,Re),Re|=n;else{if(!(n&1073741824))return t=i!==null?i.baseLanes|n:n,e.lanes=e.childLanes=1073741824,e.memoizedState={baseLanes:t,cachePool:null,transitions:null},e.updateQueue=null,V($n,Re),Re|=t,null;e.memoizedState={baseLanes:0,cachePool:null,transitions:null},r=i!==null?i.baseLanes:n,V($n,Re),Re|=r}else i!==null?(r=i.baseLanes|n,e.memoizedState=null):r=n,V($n,Re),Re|=r;return ke(t,e,s,n),e.child}function zd(t,e){var n=e.ref;(t===null&&n!==null||t!==null&&t.ref!==n)&&(e.flags|=512,e.flags|=2097152)}function Ko(t,e,n,r,s){var i=Oe(n)?an:we.current;return i=Hn(e,i),Mn(e,s),n=Ja(t,e,n,r,i,s),r=Ya(),t!==null&&!Te?(e.updateQueue=t.updateQueue,e.flags&=-2053,t.lanes&=~s,xt(t,e,s)):(G&&r&&Ua(e),e.flags|=1,ke(t,e,n,s),e.child)}function pu(t,e,n,r,s){if(Oe(n)){var i=!0;Ks(e)}else i=!1;if(Mn(e,s),e.stateNode===null)As(t,e),Ld(e,n,r),Vo(e,n,r,s),r=!0;else if(t===null){var o=e.stateNode,a=e.memoizedProps;o.props=a;var l=o.context,c=n.contextType;typeof c=="object"&&c!==null?c=We(c):(c=Oe(n)?an:we.current,c=Hn(e,c));var d=n.getDerivedStateFromProps,f=typeof d=="function"||typeof o.getSnapshotBeforeUpdate=="function";f||typeof o.UNSAFE_componentWillReceiveProps!="function"&&typeof o.componentWillReceiveProps!="function"||(a!==r||l!==c)&&lu(e,o,r,c),Et=!1;var m=e.memoizedState;o.state=m,Xs(e,r,o,s),l=e.memoizedState,a!==r||m!==l||Pe.current||Et?(typeof d=="function"&&(Wo(e,n,d,r),l=e.memoizedState),(a=Et||au(e,n,a,r,m,l,c))?(f||typeof o.UNSAFE_componentWillMount!="function"&&typeof o.componentWillMount!="function"||(typeof o.componentWillMount=="function"&&o.componentWillMount(),typeof o.UNSAFE_componentWillMount=="function"&&o.UNSAFE_componentWillMount()),typeof o.componentDidMount=="function"&&(e.flags|=4194308)):(typeof o.componentDidMount=="function"&&(e.flags|=4194308),e.memoizedProps=r,e.memoizedState=l),o.props=r,o.state=l,o.context=c,r=a):(typeof o.componentDidMount=="function"&&(e.flags|=4194308),r=!1)}else{o=e.stateNode,pd(t,e),a=e.memoizedProps,c=e.type===e.elementType?a:Ge(e.type,a),o.props=c,f=e.pendingProps,m=o.context,l=n.contextType,typeof l=="object"&&l!==null?l=We(l):(l=Oe(n)?an:we.current,l=Hn(e,l));var y=n.getDerivedStateFromProps;(d=typeof y=="function"||typeof o.getSnapshotBeforeUpdate=="function")||typeof o.UNSAFE_componentWillReceiveProps!="function"&&typeof o.componentWillReceiveProps!="function"||(a!==f||m!==l)&&lu(e,o,r,l),Et=!1,m=e.memoizedState,o.state=m,Xs(e,r,o,s);var x=e.memoizedState;a!==f||m!==x||Pe.current||Et?(typeof y=="function"&&(Wo(e,n,y,r),x=e.memoizedState),(c=Et||au(e,n,c,r,m,x,l)||!1)?(d||typeof o.UNSAFE_componentWillUpdate!="function"&&typeof o.componentWillUpdate!="function"||(typeof o.componentWillUpdate=="function"&&o.componentWillUpdate(r,x,l),typeof o.UNSAFE_componentWillUpdate=="function"&&o.UNSAFE_componentWillUpdate(r,x,l)),typeof o.componentDidUpdate=="function"&&(e.flags|=4),typeof o.getSnapshotBeforeUpdate=="function"&&(e.flags|=1024)):(typeof o.componentDidUpdate!="function"||a===t.memoizedProps&&m===t.memoizedState||(e.flags|=4),typeof o.getSnapshotBeforeUpdate!="function"||a===t.memoizedProps&&m===t.memoizedState||(e.flags|=1024),e.memoizedProps=r,e.memoizedState=x),o.props=r,o.state=x,o.context=l,r=c):(typeof o.componentDidUpdate!="function"||a===t.memoizedProps&&m===t.memoizedState||(e.flags|=4),typeof o.getSnapshotBeforeUpdate!="function"||a===t.memoizedProps&&m===t.memoizedState||(e.flags|=1024),r=!1)}return Go(t,e,n,r,i,s)}function Go(t,e,n,r,s,i){zd(t,e);var o=(e.flags&128)!==0;if(!r&&!o)return s&&Zl(e,n,!1),xt(t,e,i);r=e.stateNode,Wp.current=e;var a=o&&typeof n.getDerivedStateFromError!="function"?null:r.render();return e.flags|=1,t!==null&&o?(e.child=Vn(e,t.child,null,i),e.child=Vn(e,null,a,i)):ke(t,e,a,i),e.memoizedState=r.state,s&&Zl(e,n,!0),e.child}function Fd(t){var e=t.stateNode;e.pendingContext?Xl(t,e.pendingContext,e.pendingContext!==e.context):e.context&&Xl(t,e.context,!1),qa(t,e.containerInfo)}function mu(t,e,n,r,s){return Wn(),za(s),e.flags|=256,ke(t,e,n,r),e.child}var Qo={dehydrated:null,treeContext:null,retryLane:0};function Jo(t){return{baseLanes:t,cachePool:null,transitions:null}}function Bd(t,e,n){var r=e.pendingProps,s=Q.current,i=!1,o=(e.flags&128)!==0,a;if((a=o)||(a=t!==null&&t.memoizedState===null?!1:(s&2)!==0),a?(i=!0,e.flags&=-129):(t===null||t.memoizedState!==null)&&(s|=1),V(Q,s&1),t===null)return Bo(e),t=e.memoizedState,t!==null&&(t=t.dehydrated,t!==null)?(e.mode&1?t.data==="$!"?e.lanes=8:e.lanes=1073741824:e.lanes=1,null):(o=r.children,t=r.fallback,i?(r=e.mode,i=e.child,o={mode:"hidden",children:o},!(r&1)&&i!==null?(i.childLanes=0,i.pendingProps=o):i=_i(o,r,0,null),t=on(t,r,n,null),i.return=e,t.return=e,i.sibling=t,e.child=i,e.child.memoizedState=Jo(n),e.memoizedState=Qo,t):el(e,o));if(s=t.memoizedState,s!==null&&(a=s.dehydrated,a!==null))return Vp(t,e,o,r,a,s,n);if(i){i=r.fallback,o=e.mode,s=t.child,a=s.sibling;var l={mode:"hidden",children:r.children};return!(o&1)&&e.child!==s?(r=e.child,r.childLanes=0,r.pendingProps=l,e.deletions=null):(r=Ft(s,l),r.subtreeFlags=s.subtreeFlags&14680064),a!==null?i=Ft(a,i):(i=on(i,o,n,null),i.flags|=2),i.return=e,r.return=e,r.sibling=i,e.child=r,r=i,i=e.child,o=t.child.memoizedState,o=o===null?Jo(n):{baseLanes:o.baseLanes|n,cachePool:null,transitions:o.transitions},i.memoizedState=o,i.childLanes=t.childLanes&~n,e.memoizedState=Qo,r}return i=t.child,t=i.sibling,r=Ft(i,{mode:"visible",children:r.children}),!(e.mode&1)&&(r.lanes=n),r.return=e,r.sibling=null,t!==null&&(n=e.deletions,n===null?(e.deletions=[t],e.flags|=16):n.push(t)),e.child=r,e.memoizedState=null,r}function el(t,e){return e=_i({mode:"visible",children:e},t.mode,0,null),e.return=t,t.child=e}function gs(t,e,n,r){return r!==null&&za(r),Vn(e,t.child,null,n),t=el(e,e.pendingProps.children),t.flags|=2,e.memoizedState=null,t}function Vp(t,e,n,r,s,i,o){if(n)return e.flags&256?(e.flags&=-257,r=to(Error(E(422))),gs(t,e,o,r)):e.memoizedState!==null?(e.child=t.child,e.flags|=128,null):(i=r.fallback,s=e.mode,r=_i({mode:"visible",children:r.children},s,0,null),i=on(i,s,o,null),i.flags|=2,r.return=e,i.return=e,r.sibling=i,e.child=r,e.mode&1&&Vn(e,t.child,null,o),e.child.memoizedState=Jo(o),e.memoizedState=Qo,i);if(!(e.mode&1))return gs(t,e,o,null);if(s.data==="$!"){if(r=s.nextSibling&&s.nextSibling.dataset,r)var a=r.dgst;return r=a,i=Error(E(419)),r=to(i,r,void 0),gs(t,e,o,r)}if(a=(o&t.childLanes)!==0,Te||a){if(r=ue,r!==null){switch(o&-o){case 4:s=2;break;case 16:s=8;break;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:s=32;break;case 536870912:s=268435456;break;default:s=0}s=s&(r.suspendedLanes|o)?0:s,s!==0&&s!==i.retryLane&&(i.retryLane=s,wt(t,s),Ze(r,t,s,-1))}return ol(),r=to(Error(E(421))),gs(t,e,o,r)}return s.data==="$?"?(e.flags|=128,e.child=t.child,e=sm.bind(null,t),s._reactRetry=e,null):(t=i.treeContext,$e=Dt(s.nextSibling),Le=e,G=!0,Ye=null,t!==null&&(Me[ze++]=pt,Me[ze++]=mt,Me[ze++]=ln,pt=t.id,mt=t.overflow,ln=e),e=el(e,r.children),e.flags|=4096,e)}function gu(t,e,n){t.lanes|=e;var r=t.alternate;r!==null&&(r.lanes|=e),Ho(t.return,e,n)}function no(t,e,n,r,s){var i=t.memoizedState;i===null?t.memoizedState={isBackwards:e,rendering:null,renderingStartTime:0,last:r,tail:n,tailMode:s}:(i.isBackwards=e,i.rendering=null,i.renderingStartTime=0,i.last=r,i.tail=n,i.tailMode=s)}function Hd(t,e,n){var r=e.pendingProps,s=r.revealOrder,i=r.tail;if(ke(t,e,r.children,n),r=Q.current,r&2)r=r&1|2,e.flags|=128;else{if(t!==null&&t.flags&128)e:for(t=e.child;t!==null;){if(t.tag===13)t.memoizedState!==null&&gu(t,n,e);else if(t.tag===19)gu(t,n,e);else if(t.child!==null){t.child.return=t,t=t.child;continue}if(t===e)break e;for(;t.sibling===null;){if(t.return===null||t.return===e)break e;t=t.return}t.sibling.return=t.return,t=t.sibling}r&=1}if(V(Q,r),!(e.mode&1))e.memoizedState=null;else switch(s){case"forwards":for(n=e.child,s=null;n!==null;)t=n.alternate,t!==null&&Zs(t)===null&&(s=n),n=n.sibling;n=s,n===null?(s=e.child,e.child=null):(s=n.sibling,n.sibling=null),no(e,!1,s,n,i);break;case"backwards":for(n=null,s=e.child,e.child=null;s!==null;){if(t=s.alternate,t!==null&&Zs(t)===null){e.child=s;break}t=s.sibling,s.sibling=n,n=s,s=t}no(e,!0,n,null,i);break;case"together":no(e,!1,null,null,void 0);break;default:e.memoizedState=null}return e.child}function As(t,e){!(e.mode&1)&&t!==null&&(t.alternate=null,e.alternate=null,e.flags|=2)}function xt(t,e,n){if(t!==null&&(e.dependencies=t.dependencies),cn|=e.lanes,!(n&e.childLanes))return null;if(t!==null&&e.child!==t.child)throw Error(E(153));if(e.child!==null){for(t=e.child,n=Ft(t,t.pendingProps),e.child=n,n.return=e;t.sibling!==null;)t=t.sibling,n=n.sibling=Ft(t,t.pendingProps),n.return=e;n.sibling=null}return e.child}function qp(t,e,n){switch(e.tag){case 3:Fd(e),Wn();break;case 5:md(e);break;case 1:Oe(e.type)&&Ks(e);break;case 4:qa(e,e.stateNode.containerInfo);break;case 10:var r=e.type._context,s=e.memoizedProps.value;V(Js,r._currentValue),r._currentValue=s;break;case 13:if(r=e.memoizedState,r!==null)return r.dehydrated!==null?(V(Q,Q.current&1),e.flags|=128,null):n&e.child.childLanes?Bd(t,e,n):(V(Q,Q.current&1),t=xt(t,e,n),t!==null?t.sibling:null);V(Q,Q.current&1);break;case 19:if(r=(n&e.childLanes)!==0,t.flags&128){if(r)return Hd(t,e,n);e.flags|=128}if(s=e.memoizedState,s!==null&&(s.rendering=null,s.tail=null,s.lastEffect=null),V(Q,Q.current),r)break;return null;case 22:case 23:return e.lanes=0,Md(t,e,n)}return xt(t,e,n)}var Wd,Yo,Vd,qd;Wd=function(t,e){for(var n=e.child;n!==null;){if(n.tag===5||n.tag===6)t.appendChild(n.stateNode);else if(n.tag!==4&&n.child!==null){n.child.return=n,n=n.child;continue}if(n===e)break;for(;n.sibling===null;){if(n.return===null||n.return===e)return;n=n.return}n.sibling.return=n.return,n=n.sibling}};Yo=function(){};Vd=function(t,e,n,r){var s=t.memoizedProps;if(s!==r){t=e.stateNode,rn(ot.current);var i=null;switch(n){case"input":s=wo(t,s),r=wo(t,r),i=[];break;case"select":s=Y({},s,{value:void 0}),r=Y({},r,{value:void 0}),i=[];break;case"textarea":s=ko(t,s),r=ko(t,r),i=[];break;default:typeof s.onClick!="function"&&typeof r.onClick=="function"&&(t.onclick=Vs)}bo(n,r);var o;n=null;for(c in s)if(!r.hasOwnProperty(c)&&s.hasOwnProperty(c)&&s[c]!=null)if(c==="style"){var a=s[c];for(o in a)a.hasOwnProperty(o)&&(n||(n={}),n[o]="")}else c!=="dangerouslySetInnerHTML"&&c!=="children"&&c!=="suppressContentEditableWarning"&&c!=="suppressHydrationWarning"&&c!=="autoFocus"&&(Or.hasOwnProperty(c)?i||(i=[]):(i=i||[]).push(c,null));for(c in r){var l=r[c];if(a=s!=null?s[c]:void 0,r.hasOwnProperty(c)&&l!==a&&(l!=null||a!=null))if(c==="style")if(a){for(o in a)!a.hasOwnProperty(o)||l&&l.hasOwnProperty(o)||(n||(n={}),n[o]="");for(o in l)l.hasOwnProperty(o)&&a[o]!==l[o]&&(n||(n={}),n[o]=l[o])}else n||(i||(i=[]),i.push(c,n)),n=l;else c==="dangerouslySetInnerHTML"?(l=l?l.__html:void 0,a=a?a.__html:void 0,l!=null&&a!==l&&(i=i||[]).push(c,l)):c==="children"?typeof l!="string"&&typeof l!="number"||(i=i||[]).push(c,""+l):c!=="suppressContentEditableWarning"&&c!=="suppressHydrationWarning"&&(Or.hasOwnProperty(c)?(l!=null&&c==="onScroll"&&q("scroll",t),i||a===l||(i=[])):(i=i||[]).push(c,l))}n&&(i=i||[]).push("style",n);var c=i;(e.updateQueue=c)&&(e.flags|=4)}};qd=function(t,e,n,r){n!==r&&(e.flags|=4)};function lr(t,e){if(!G)switch(t.tailMode){case"hidden":e=t.tail;for(var n=null;e!==null;)e.alternate!==null&&(n=e),e=e.sibling;n===null?t.tail=null:n.sibling=null;break;case"collapsed":n=t.tail;for(var r=null;n!==null;)n.alternate!==null&&(r=n),n=n.sibling;r===null?e||t.tail===null?t.tail=null:t.tail.sibling=null:r.sibling=null}}function ve(t){var e=t.alternate!==null&&t.alternate.child===t.child,n=0,r=0;if(e)for(var s=t.child;s!==null;)n|=s.lanes|s.childLanes,r|=s.subtreeFlags&14680064,r|=s.flags&14680064,s.return=t,s=s.sibling;else for(s=t.child;s!==null;)n|=s.lanes|s.childLanes,r|=s.subtreeFlags,r|=s.flags,s.return=t,s=s.sibling;return t.subtreeFlags|=r,t.childLanes=n,e}function Kp(t,e,n){var r=e.pendingProps;switch(Ma(e),e.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return ve(e),null;case 1:return Oe(e.type)&&qs(),ve(e),null;case 3:return r=e.stateNode,qn(),K(Pe),K(we),Ga(),r.pendingContext&&(r.context=r.pendingContext,r.pendingContext=null),(t===null||t.child===null)&&(ps(e)?e.flags|=4:t===null||t.memoizedState.isDehydrated&&!(e.flags&256)||(e.flags|=1024,Ye!==null&&(ia(Ye),Ye=null))),Yo(t,e),ve(e),null;case 5:Ka(e);var s=rn(Hr.current);if(n=e.type,t!==null&&e.stateNode!=null)Vd(t,e,n,r,s),t.ref!==e.ref&&(e.flags|=512,e.flags|=2097152);else{if(!r){if(e.stateNode===null)throw Error(E(166));return ve(e),null}if(t=rn(ot.current),ps(e)){r=e.stateNode,n=e.type;var i=e.memoizedProps;switch(r[st]=e,r[Fr]=i,t=(e.mode&1)!==0,n){case"dialog":q("cancel",r),q("close",r);break;case"iframe":case"object":case"embed":q("load",r);break;case"video":case"audio":for(s=0;s<pr.length;s++)q(pr[s],r);break;case"source":q("error",r);break;case"img":case"image":case"link":q("error",r),q("load",r);break;case"details":q("toggle",r);break;case"input":jl(r,i),q("invalid",r);break;case"select":r._wrapperState={wasMultiple:!!i.multiple},q("invalid",r);break;case"textarea":El(r,i),q("invalid",r)}bo(n,i),s=null;for(var o in i)if(i.hasOwnProperty(o)){var a=i[o];o==="children"?typeof a=="string"?r.textContent!==a&&(i.suppressHydrationWarning!==!0&&fs(r.textContent,a,t),s=["children",a]):typeof a=="number"&&r.textContent!==""+a&&(i.suppressHydrationWarning!==!0&&fs(r.textContent,a,t),s=["children",""+a]):Or.hasOwnProperty(o)&&a!=null&&o==="onScroll"&&q("scroll",r)}switch(n){case"input":is(r),Nl(r,i,!0);break;case"textarea":is(r),Cl(r);break;case"select":case"option":break;default:typeof i.onClick=="function"&&(r.onclick=Vs)}r=s,e.updateQueue=r,r!==null&&(e.flags|=4)}else{o=s.nodeType===9?s:s.ownerDocument,t==="http://www.w3.org/1999/xhtml"&&(t=xc(n)),t==="http://www.w3.org/1999/xhtml"?n==="script"?(t=o.createElement("div"),t.innerHTML="<script><\/script>",t=t.removeChild(t.firstChild)):typeof r.is=="string"?t=o.createElement(n,{is:r.is}):(t=o.createElement(n),n==="select"&&(o=t,r.multiple?o.multiple=!0:r.size&&(o.size=r.size))):t=o.createElementNS(t,n),t[st]=e,t[Fr]=r,Wd(t,e,!1,!1),e.stateNode=t;e:{switch(o=jo(n,r),n){case"dialog":q("cancel",t),q("close",t),s=r;break;case"iframe":case"object":case"embed":q("load",t),s=r;break;case"video":case"audio":for(s=0;s<pr.length;s++)q(pr[s],t);s=r;break;case"source":q("error",t),s=r;break;case"img":case"image":case"link":q("error",t),q("load",t),s=r;break;case"details":q("toggle",t),s=r;break;case"input":jl(t,r),s=wo(t,r),q("invalid",t);break;case"option":s=r;break;case"select":t._wrapperState={wasMultiple:!!r.multiple},s=Y({},r,{value:void 0}),q("invalid",t);break;case"textarea":El(t,r),s=ko(t,r),q("invalid",t);break;default:s=r}bo(n,s),a=s;for(i in a)if(a.hasOwnProperty(i)){var l=a[i];i==="style"?Sc(t,l):i==="dangerouslySetInnerHTML"?(l=l?l.__html:void 0,l!=null&&_c(t,l)):i==="children"?typeof l=="string"?(n!=="textarea"||l!=="")&&Ar(t,l):typeof l=="number"&&Ar(t,""+l):i!=="suppressContentEditableWarning"&&i!=="suppressHydrationWarning"&&i!=="autoFocus"&&(Or.hasOwnProperty(i)?l!=null&&i==="onScroll"&&q("scroll",t):l!=null&&ba(t,i,l,o))}switch(n){case"input":is(t),Nl(t,r,!1);break;case"textarea":is(t),Cl(t);break;case"option":r.value!=null&&t.setAttribute("value",""+Bt(r.value));break;case"select":t.multiple=!!r.multiple,i=r.value,i!=null?Ln(t,!!r.multiple,i,!1):r.defaultValue!=null&&Ln(t,!!r.multiple,r.defaultValue,!0);break;default:typeof s.onClick=="function"&&(t.onclick=Vs)}switch(n){case"button":case"input":case"select":case"textarea":r=!!r.autoFocus;break e;case"img":r=!0;break e;default:r=!1}}r&&(e.flags|=4)}e.ref!==null&&(e.flags|=512,e.flags|=2097152)}return ve(e),null;case 6:if(t&&e.stateNode!=null)qd(t,e,t.memoizedProps,r);else{if(typeof r!="string"&&e.stateNode===null)throw Error(E(166));if(n=rn(Hr.current),rn(ot.current),ps(e)){if(r=e.stateNode,n=e.memoizedProps,r[st]=e,(i=r.nodeValue!==n)&&(t=Le,t!==null))switch(t.tag){case 3:fs(r.nodeValue,n,(t.mode&1)!==0);break;case 5:t.memoizedProps.suppressHydrationWarning!==!0&&fs(r.nodeValue,n,(t.mode&1)!==0)}i&&(e.flags|=4)}else r=(n.nodeType===9?n:n.ownerDocument).createTextNode(r),r[st]=e,e.stateNode=r}return ve(e),null;case 13:if(K(Q),r=e.memoizedState,t===null||t.memoizedState!==null&&t.memoizedState.dehydrated!==null){if(G&&$e!==null&&e.mode&1&&!(e.flags&128))cd(),Wn(),e.flags|=98560,i=!1;else if(i=ps(e),r!==null&&r.dehydrated!==null){if(t===null){if(!i)throw Error(E(318));if(i=e.memoizedState,i=i!==null?i.dehydrated:null,!i)throw Error(E(317));i[st]=e}else Wn(),!(e.flags&128)&&(e.memoizedState=null),e.flags|=4;ve(e),i=!1}else Ye!==null&&(ia(Ye),Ye=null),i=!0;if(!i)return e.flags&65536?e:null}return e.flags&128?(e.lanes=n,e):(r=r!==null,r!==(t!==null&&t.memoizedState!==null)&&r&&(e.child.flags|=8192,e.mode&1&&(t===null||Q.current&1?oe===0&&(oe=3):ol())),e.updateQueue!==null&&(e.flags|=4),ve(e),null);case 4:return qn(),Yo(t,e),t===null&&Mr(e.stateNode.containerInfo),ve(e),null;case 10:return Ha(e.type._context),ve(e),null;case 17:return Oe(e.type)&&qs(),ve(e),null;case 19:if(K(Q),i=e.memoizedState,i===null)return ve(e),null;if(r=(e.flags&128)!==0,o=i.rendering,o===null)if(r)lr(i,!1);else{if(oe!==0||t!==null&&t.flags&128)for(t=e.child;t!==null;){if(o=Zs(t),o!==null){for(e.flags|=128,lr(i,!1),r=o.updateQueue,r!==null&&(e.updateQueue=r,e.flags|=4),e.subtreeFlags=0,r=n,n=e.child;n!==null;)i=n,t=r,i.flags&=14680066,o=i.alternate,o===null?(i.childLanes=0,i.lanes=t,i.child=null,i.subtreeFlags=0,i.memoizedProps=null,i.memoizedState=null,i.updateQueue=null,i.dependencies=null,i.stateNode=null):(i.childLanes=o.childLanes,i.lanes=o.lanes,i.child=o.child,i.subtreeFlags=0,i.deletions=null,i.memoizedProps=o.memoizedProps,i.memoizedState=o.memoizedState,i.updateQueue=o.updateQueue,i.type=o.type,t=o.dependencies,i.dependencies=t===null?null:{lanes:t.lanes,firstContext:t.firstContext}),n=n.sibling;return V(Q,Q.current&1|2),e.child}t=t.sibling}i.tail!==null&&ee()>Gn&&(e.flags|=128,r=!0,lr(i,!1),e.lanes=4194304)}else{if(!r)if(t=Zs(o),t!==null){if(e.flags|=128,r=!0,n=t.updateQueue,n!==null&&(e.updateQueue=n,e.flags|=4),lr(i,!0),i.tail===null&&i.tailMode==="hidden"&&!o.alternate&&!G)return ve(e),null}else 2*ee()-i.renderingStartTime>Gn&&n!==1073741824&&(e.flags|=128,r=!0,lr(i,!1),e.lanes=4194304);i.isBackwards?(o.sibling=e.child,e.child=o):(n=i.last,n!==null?n.sibling=o:e.child=o,i.last=o)}return i.tail!==null?(e=i.tail,i.rendering=e,i.tail=e.sibling,i.renderingStartTime=ee(),e.sibling=null,n=Q.current,V(Q,r?n&1|2:n&1),e):(ve(e),null);case 22:case 23:return il(),r=e.memoizedState!==null,t!==null&&t.memoizedState!==null!==r&&(e.flags|=8192),r&&e.mode&1?Re&1073741824&&(ve(e),e.subtreeFlags&6&&(e.flags|=8192)):ve(e),null;case 24:return null;case 25:return null}throw Error(E(156,e.tag))}function Gp(t,e){switch(Ma(e),e.tag){case 1:return Oe(e.type)&&qs(),t=e.flags,t&65536?(e.flags=t&-65537|128,e):null;case 3:return qn(),K(Pe),K(we),Ga(),t=e.flags,t&65536&&!(t&128)?(e.flags=t&-65537|128,e):null;case 5:return Ka(e),null;case 13:if(K(Q),t=e.memoizedState,t!==null&&t.dehydrated!==null){if(e.alternate===null)throw Error(E(340));Wn()}return t=e.flags,t&65536?(e.flags=t&-65537|128,e):null;case 19:return K(Q),null;case 4:return qn(),null;case 10:return Ha(e.type._context),null;case 22:case 23:return il(),null;case 24:return null;default:return null}}var vs=!1,ye=!1,Qp=typeof WeakSet=="function"?WeakSet:Set,P=null;function Rn(t,e){var n=t.ref;if(n!==null)if(typeof n=="function")try{n(null)}catch(r){X(t,e,r)}else n.current=null}function Xo(t,e,n){try{n()}catch(r){X(t,e,r)}}var vu=!1;function Jp(t,e){if(Lo=Bs,t=Yc(),Da(t)){if("selectionStart"in t)var n={start:t.selectionStart,end:t.selectionEnd};else e:{n=(n=t.ownerDocument)&&n.defaultView||window;var r=n.getSelection&&n.getSelection();if(r&&r.rangeCount!==0){n=r.anchorNode;var s=r.anchorOffset,i=r.focusNode;r=r.focusOffset;try{n.nodeType,i.nodeType}catch{n=null;break e}var o=0,a=-1,l=-1,c=0,d=0,f=t,m=null;t:for(;;){for(var y;f!==n||s!==0&&f.nodeType!==3||(a=o+s),f!==i||r!==0&&f.nodeType!==3||(l=o+r),f.nodeType===3&&(o+=f.nodeValue.length),(y=f.firstChild)!==null;)m=f,f=y;for(;;){if(f===t)break t;if(m===n&&++c===s&&(a=o),m===i&&++d===r&&(l=o),(y=f.nextSibling)!==null)break;f=m,m=f.parentNode}f=y}n=a===-1||l===-1?null:{start:a,end:l}}else n=null}n=n||{start:0,end:0}}else n=null;for(Io={focusedElem:t,selectionRange:n},Bs=!1,P=e;P!==null;)if(e=P,t=e.child,(e.subtreeFlags&1028)!==0&&t!==null)t.return=e,P=t;else for(;P!==null;){e=P;try{var x=e.alternate;if(e.flags&1024)switch(e.tag){case 0:case 11:case 15:break;case 1:if(x!==null){var v=x.memoizedProps,k=x.memoizedState,g=e.stateNode,p=g.getSnapshotBeforeUpdate(e.elementType===e.type?v:Ge(e.type,v),k);g.__reactInternalSnapshotBeforeUpdate=p}break;case 3:var h=e.stateNode.containerInfo;h.nodeType===1?h.textContent="":h.nodeType===9&&h.documentElement&&h.removeChild(h.documentElement);break;case 5:case 6:case 4:case 17:break;default:throw Error(E(163))}}catch(w){X(e,e.return,w)}if(t=e.sibling,t!==null){t.return=e.return,P=t;break}P=e.return}return x=vu,vu=!1,x}function Sr(t,e,n){var r=e.updateQueue;if(r=r!==null?r.lastEffect:null,r!==null){var s=r=r.next;do{if((s.tag&t)===t){var i=s.destroy;s.destroy=void 0,i!==void 0&&Xo(e,n,i)}s=s.next}while(s!==r)}}function wi(t,e){if(e=e.updateQueue,e=e!==null?e.lastEffect:null,e!==null){var n=e=e.next;do{if((n.tag&t)===t){var r=n.create;n.destroy=r()}n=n.next}while(n!==e)}}function Zo(t){var e=t.ref;if(e!==null){var n=t.stateNode;switch(t.tag){case 5:t=n;break;default:t=n}typeof e=="function"?e(t):e.current=t}}function Kd(t){var e=t.alternate;e!==null&&(t.alternate=null,Kd(e)),t.child=null,t.deletions=null,t.sibling=null,t.tag===5&&(e=t.stateNode,e!==null&&(delete e[st],delete e[Fr],delete e[Mo],delete e[Ap],delete e[Rp])),t.stateNode=null,t.return=null,t.dependencies=null,t.memoizedProps=null,t.memoizedState=null,t.pendingProps=null,t.stateNode=null,t.updateQueue=null}function Gd(t){return t.tag===5||t.tag===3||t.tag===4}function yu(t){e:for(;;){for(;t.sibling===null;){if(t.return===null||Gd(t.return))return null;t=t.return}for(t.sibling.return=t.return,t=t.sibling;t.tag!==5&&t.tag!==6&&t.tag!==18;){if(t.flags&2||t.child===null||t.tag===4)continue e;t.child.return=t,t=t.child}if(!(t.flags&2))return t.stateNode}}function ea(t,e,n){var r=t.tag;if(r===5||r===6)t=t.stateNode,e?n.nodeType===8?n.parentNode.insertBefore(t,e):n.insertBefore(t,e):(n.nodeType===8?(e=n.parentNode,e.insertBefore(t,n)):(e=n,e.appendChild(t)),n=n._reactRootContainer,n!=null||e.onclick!==null||(e.onclick=Vs));else if(r!==4&&(t=t.child,t!==null))for(ea(t,e,n),t=t.sibling;t!==null;)ea(t,e,n),t=t.sibling}function ta(t,e,n){var r=t.tag;if(r===5||r===6)t=t.stateNode,e?n.insertBefore(t,e):n.appendChild(t);else if(r!==4&&(t=t.child,t!==null))for(ta(t,e,n),t=t.sibling;t!==null;)ta(t,e,n),t=t.sibling}var de=null,Qe=!1;function St(t,e,n){for(n=n.child;n!==null;)Qd(t,e,n),n=n.sibling}function Qd(t,e,n){if(it&&typeof it.onCommitFiberUnmount=="function")try{it.onCommitFiberUnmount(di,n)}catch{}switch(n.tag){case 5:ye||Rn(n,e);case 6:var r=de,s=Qe;de=null,St(t,e,n),de=r,Qe=s,de!==null&&(Qe?(t=de,n=n.stateNode,t.nodeType===8?t.parentNode.removeChild(n):t.removeChild(n)):de.removeChild(n.stateNode));break;case 18:de!==null&&(Qe?(t=de,n=n.stateNode,t.nodeType===8?Qi(t.parentNode,n):t.nodeType===1&&Qi(t,n),Ir(t)):Qi(de,n.stateNode));break;case 4:r=de,s=Qe,de=n.stateNode.containerInfo,Qe=!0,St(t,e,n),de=r,Qe=s;break;case 0:case 11:case 14:case 15:if(!ye&&(r=n.updateQueue,r!==null&&(r=r.lastEffect,r!==null))){s=r=r.next;do{var i=s,o=i.destroy;i=i.tag,o!==void 0&&(i&2||i&4)&&Xo(n,e,o),s=s.next}while(s!==r)}St(t,e,n);break;case 1:if(!ye&&(Rn(n,e),r=n.stateNode,typeof r.componentWillUnmount=="function"))try{r.props=n.memoizedProps,r.state=n.memoizedState,r.componentWillUnmount()}catch(a){X(n,e,a)}St(t,e,n);break;case 21:St(t,e,n);break;case 22:n.mode&1?(ye=(r=ye)||n.memoizedState!==null,St(t,e,n),ye=r):St(t,e,n);break;default:St(t,e,n)}}function wu(t){var e=t.updateQueue;if(e!==null){t.updateQueue=null;var n=t.stateNode;n===null&&(n=t.stateNode=new Qp),e.forEach(function(r){var s=im.bind(null,t,r);n.has(r)||(n.add(r),r.then(s,s))})}}function qe(t,e){var n=e.deletions;if(n!==null)for(var r=0;r<n.length;r++){var s=n[r];try{var i=t,o=e,a=o;e:for(;a!==null;){switch(a.tag){case 5:de=a.stateNode,Qe=!1;break e;case 3:de=a.stateNode.containerInfo,Qe=!0;break e;case 4:de=a.stateNode.containerInfo,Qe=!0;break e}a=a.return}if(de===null)throw Error(E(160));Qd(i,o,s),de=null,Qe=!1;var l=s.alternate;l!==null&&(l.return=null),s.return=null}catch(c){X(s,e,c)}}if(e.subtreeFlags&12854)for(e=e.child;e!==null;)Jd(e,t),e=e.sibling}function Jd(t,e){var n=t.alternate,r=t.flags;switch(t.tag){case 0:case 11:case 14:case 15:if(qe(e,t),nt(t),r&4){try{Sr(3,t,t.return),wi(3,t)}catch(v){X(t,t.return,v)}try{Sr(5,t,t.return)}catch(v){X(t,t.return,v)}}break;case 1:qe(e,t),nt(t),r&512&&n!==null&&Rn(n,n.return);break;case 5:if(qe(e,t),nt(t),r&512&&n!==null&&Rn(n,n.return),t.flags&32){var s=t.stateNode;try{Ar(s,"")}catch(v){X(t,t.return,v)}}if(r&4&&(s=t.stateNode,s!=null)){var i=t.memoizedProps,o=n!==null?n.memoizedProps:i,a=t.type,l=t.updateQueue;if(t.updateQueue=null,l!==null)try{a==="input"&&i.type==="radio"&&i.name!=null&&yc(s,i),jo(a,o);var c=jo(a,i);for(o=0;o<l.length;o+=2){var d=l[o],f=l[o+1];d==="style"?Sc(s,f):d==="dangerouslySetInnerHTML"?_c(s,f):d==="children"?Ar(s,f):ba(s,d,f,c)}switch(a){case"input":xo(s,i);break;case"textarea":wc(s,i);break;case"select":var m=s._wrapperState.wasMultiple;s._wrapperState.wasMultiple=!!i.multiple;var y=i.value;y!=null?Ln(s,!!i.multiple,y,!1):m!==!!i.multiple&&(i.defaultValue!=null?Ln(s,!!i.multiple,i.defaultValue,!0):Ln(s,!!i.multiple,i.multiple?[]:"",!1))}s[Fr]=i}catch(v){X(t,t.return,v)}}break;case 6:if(qe(e,t),nt(t),r&4){if(t.stateNode===null)throw Error(E(162));s=t.stateNode,i=t.memoizedProps;try{s.nodeValue=i}catch(v){X(t,t.return,v)}}break;case 3:if(qe(e,t),nt(t),r&4&&n!==null&&n.memoizedState.isDehydrated)try{Ir(e.containerInfo)}catch(v){X(t,t.return,v)}break;case 4:qe(e,t),nt(t);break;case 13:qe(e,t),nt(t),s=t.child,s.flags&8192&&(i=s.memoizedState!==null,s.stateNode.isHidden=i,!i||s.alternate!==null&&s.alternate.memoizedState!==null||(rl=ee())),r&4&&wu(t);break;case 22:if(d=n!==null&&n.memoizedState!==null,t.mode&1?(ye=(c=ye)||d,qe(e,t),ye=c):qe(e,t),nt(t),r&8192){if(c=t.memoizedState!==null,(t.stateNode.isHidden=c)&&!d&&t.mode&1)for(P=t,d=t.child;d!==null;){for(f=P=d;P!==null;){switch(m=P,y=m.child,m.tag){case 0:case 11:case 14:case 15:Sr(4,m,m.return);break;case 1:Rn(m,m.return);var x=m.stateNode;if(typeof x.componentWillUnmount=="function"){r=m,n=m.return;try{e=r,x.props=e.memoizedProps,x.state=e.memoizedState,x.componentWillUnmount()}catch(v){X(r,n,v)}}break;case 5:Rn(m,m.return);break;case 22:if(m.memoizedState!==null){_u(f);continue}}y!==null?(y.return=m,P=y):_u(f)}d=d.sibling}e:for(d=null,f=t;;){if(f.tag===5){if(d===null){d=f;try{s=f.stateNode,c?(i=s.style,typeof i.setProperty=="function"?i.setProperty("display","none","important"):i.display="none"):(a=f.stateNode,l=f.memoizedProps.style,o=l!=null&&l.hasOwnProperty("display")?l.display:null,a.style.display=kc("display",o))}catch(v){X(t,t.return,v)}}}else if(f.tag===6){if(d===null)try{f.stateNode.nodeValue=c?"":f.memoizedProps}catch(v){X(t,t.return,v)}}else if((f.tag!==22&&f.tag!==23||f.memoizedState===null||f===t)&&f.child!==null){f.child.return=f,f=f.child;continue}if(f===t)break e;for(;f.sibling===null;){if(f.return===null||f.return===t)break e;d===f&&(d=null),f=f.return}d===f&&(d=null),f.sibling.return=f.return,f=f.sibling}}break;case 19:qe(e,t),nt(t),r&4&&wu(t);break;case 21:break;default:qe(e,t),nt(t)}}function nt(t){var e=t.flags;if(e&2){try{e:{for(var n=t.return;n!==null;){if(Gd(n)){var r=n;break e}n=n.return}throw Error(E(160))}switch(r.tag){case 5:var s=r.stateNode;r.flags&32&&(Ar(s,""),r.flags&=-33);var i=yu(t);ta(t,i,s);break;case 3:case 4:var o=r.stateNode.containerInfo,a=yu(t);ea(t,a,o);break;default:throw Error(E(161))}}catch(l){X(t,t.return,l)}t.flags&=-3}e&4096&&(t.flags&=-4097)}function Yp(t,e,n){P=t,Yd(t)}function Yd(t,e,n){for(var r=(t.mode&1)!==0;P!==null;){var s=P,i=s.child;if(s.tag===22&&r){var o=s.memoizedState!==null||vs;if(!o){var a=s.alternate,l=a!==null&&a.memoizedState!==null||ye;a=vs;var c=ye;if(vs=o,(ye=l)&&!c)for(P=s;P!==null;)o=P,l=o.child,o.tag===22&&o.memoizedState!==null?ku(s):l!==null?(l.return=o,P=l):ku(s);for(;i!==null;)P=i,Yd(i),i=i.sibling;P=s,vs=a,ye=c}xu(t)}else s.subtreeFlags&8772&&i!==null?(i.return=s,P=i):xu(t)}}function xu(t){for(;P!==null;){var e=P;if(e.flags&8772){var n=e.alternate;try{if(e.flags&8772)switch(e.tag){case 0:case 11:case 15:ye||wi(5,e);break;case 1:var r=e.stateNode;if(e.flags&4&&!ye)if(n===null)r.componentDidMount();else{var s=e.elementType===e.type?n.memoizedProps:Ge(e.type,n.memoizedProps);r.componentDidUpdate(s,n.memoizedState,r.__reactInternalSnapshotBeforeUpdate)}var i=e.updateQueue;i!==null&&su(e,i,r);break;case 3:var o=e.updateQueue;if(o!==null){if(n=null,e.child!==null)switch(e.child.tag){case 5:n=e.child.stateNode;break;case 1:n=e.child.stateNode}su(e,o,n)}break;case 5:var a=e.stateNode;if(n===null&&e.flags&4){n=a;var l=e.memoizedProps;switch(e.type){case"button":case"input":case"select":case"textarea":l.autoFocus&&n.focus();break;case"img":l.src&&(n.src=l.src)}}break;case 6:break;case 4:break;case 12:break;case 13:if(e.memoizedState===null){var c=e.alternate;if(c!==null){var d=c.memoizedState;if(d!==null){var f=d.dehydrated;f!==null&&Ir(f)}}}break;case 19:case 17:case 21:case 22:case 23:case 25:break;default:throw Error(E(163))}ye||e.flags&512&&Zo(e)}catch(m){X(e,e.return,m)}}if(e===t){P=null;break}if(n=e.sibling,n!==null){n.return=e.return,P=n;break}P=e.return}}function _u(t){for(;P!==null;){var e=P;if(e===t){P=null;break}var n=e.sibling;if(n!==null){n.return=e.return,P=n;break}P=e.return}}function ku(t){for(;P!==null;){var e=P;try{switch(e.tag){case 0:case 11:case 15:var n=e.return;try{wi(4,e)}catch(l){X(e,n,l)}break;case 1:var r=e.stateNode;if(typeof r.componentDidMount=="function"){var s=e.return;try{r.componentDidMount()}catch(l){X(e,s,l)}}var i=e.return;try{Zo(e)}catch(l){X(e,i,l)}break;case 5:var o=e.return;try{Zo(e)}catch(l){X(e,o,l)}}}catch(l){X(e,e.return,l)}if(e===t){P=null;break}var a=e.sibling;if(a!==null){a.return=e.return,P=a;break}P=e.return}}var Xp=Math.ceil,ni=_t.ReactCurrentDispatcher,tl=_t.ReactCurrentOwner,Be=_t.ReactCurrentBatchConfig,M=0,ue=null,re=null,fe=0,Re=0,$n=Vt(0),oe=0,Kr=null,cn=0,xi=0,nl=0,br=null,Ee=null,rl=0,Gn=1/0,ut=null,ri=!1,na=null,Mt=null,ys=!1,Rt=null,si=0,jr=0,ra=null,Rs=-1,$s=0;function Se(){return M&6?ee():Rs!==-1?Rs:Rs=ee()}function zt(t){return t.mode&1?M&2&&fe!==0?fe&-fe:Lp.transition!==null?($s===0&&($s=Lc()),$s):(t=B,t!==0||(t=window.event,t=t===void 0?16:Bc(t.type)),t):1}function Ze(t,e,n,r){if(50<jr)throw jr=0,ra=null,Error(E(185));Jr(t,n,r),(!(M&2)||t!==ue)&&(t===ue&&(!(M&2)&&(xi|=n),oe===4&&Pt(t,fe)),Ae(t,r),n===1&&M===0&&!(e.mode&1)&&(Gn=ee()+500,gi&&qt()))}function Ae(t,e){var n=t.callbackNode;Lf(t,e);var r=Fs(t,t===ue?fe:0);if(r===0)n!==null&&Ol(n),t.callbackNode=null,t.callbackPriority=0;else if(e=r&-r,t.callbackPriority!==e){if(n!=null&&Ol(n),e===1)t.tag===0?$p(Su.bind(null,t)):ad(Su.bind(null,t)),Pp(function(){!(M&6)&&qt()}),n=null;else{switch(Ic(r)){case 1:n=Ta;break;case 4:n=Rc;break;case 16:n=zs;break;case 536870912:n=$c;break;default:n=zs}n=ih(n,Xd.bind(null,t))}t.callbackPriority=e,t.callbackNode=n}}function Xd(t,e){if(Rs=-1,$s=0,M&6)throw Error(E(327));var n=t.callbackNode;if(zn()&&t.callbackNode!==n)return null;var r=Fs(t,t===ue?fe:0);if(r===0)return null;if(r&30||r&t.expiredLanes||e)e=ii(t,r);else{e=r;var s=M;M|=2;var i=eh();(ue!==t||fe!==e)&&(ut=null,Gn=ee()+500,sn(t,e));do try{tm();break}catch(a){Zd(t,a)}while(!0);Ba(),ni.current=i,M=s,re!==null?e=0:(ue=null,fe=0,e=oe)}if(e!==0){if(e===2&&(s=Po(t),s!==0&&(r=s,e=sa(t,s))),e===1)throw n=Kr,sn(t,0),Pt(t,r),Ae(t,ee()),n;if(e===6)Pt(t,r);else{if(s=t.current.alternate,!(r&30)&&!Zp(s)&&(e=ii(t,r),e===2&&(i=Po(t),i!==0&&(r=i,e=sa(t,i))),e===1))throw n=Kr,sn(t,0),Pt(t,r),Ae(t,ee()),n;switch(t.finishedWork=s,t.finishedLanes=r,e){case 0:case 1:throw Error(E(345));case 2:Xt(t,Ee,ut);break;case 3:if(Pt(t,r),(r&130023424)===r&&(e=rl+500-ee(),10<e)){if(Fs(t,0)!==0)break;if(s=t.suspendedLanes,(s&r)!==r){Se(),t.pingedLanes|=t.suspendedLanes&s;break}t.timeoutHandle=Uo(Xt.bind(null,t,Ee,ut),e);break}Xt(t,Ee,ut);break;case 4:if(Pt(t,r),(r&4194240)===r)break;for(e=t.eventTimes,s=-1;0<r;){var o=31-Xe(r);i=1<<o,o=e[o],o>s&&(s=o),r&=~i}if(r=s,r=ee()-r,r=(120>r?120:480>r?480:1080>r?1080:1920>r?1920:3e3>r?3e3:4320>r?4320:1960*Xp(r/1960))-r,10<r){t.timeoutHandle=Uo(Xt.bind(null,t,Ee,ut),r);break}Xt(t,Ee,ut);break;case 5:Xt(t,Ee,ut);break;default:throw Error(E(329))}}}return Ae(t,ee()),t.callbackNode===n?Xd.bind(null,t):null}function sa(t,e){var n=br;return t.current.memoizedState.isDehydrated&&(sn(t,e).flags|=256),t=ii(t,e),t!==2&&(e=Ee,Ee=n,e!==null&&ia(e)),t}function ia(t){Ee===null?Ee=t:Ee.push.apply(Ee,t)}function Zp(t){for(var e=t;;){if(e.flags&16384){var n=e.updateQueue;if(n!==null&&(n=n.stores,n!==null))for(var r=0;r<n.length;r++){var s=n[r],i=s.getSnapshot;s=s.value;try{if(!et(i(),s))return!1}catch{return!1}}}if(n=e.child,e.subtreeFlags&16384&&n!==null)n.return=e,e=n;else{if(e===t)break;for(;e.sibling===null;){if(e.return===null||e.return===t)return!0;e=e.return}e.sibling.return=e.return,e=e.sibling}}return!0}function Pt(t,e){for(e&=~nl,e&=~xi,t.suspendedLanes|=e,t.pingedLanes&=~e,t=t.expirationTimes;0<e;){var n=31-Xe(e),r=1<<n;t[n]=-1,e&=~r}}function Su(t){if(M&6)throw Error(E(327));zn();var e=Fs(t,0);if(!(e&1))return Ae(t,ee()),null;var n=ii(t,e);if(t.tag!==0&&n===2){var r=Po(t);r!==0&&(e=r,n=sa(t,r))}if(n===1)throw n=Kr,sn(t,0),Pt(t,e),Ae(t,ee()),n;if(n===6)throw Error(E(345));return t.finishedWork=t.current.alternate,t.finishedLanes=e,Xt(t,Ee,ut),Ae(t,ee()),null}function sl(t,e){var n=M;M|=1;try{return t(e)}finally{M=n,M===0&&(Gn=ee()+500,gi&&qt())}}function dn(t){Rt!==null&&Rt.tag===0&&!(M&6)&&zn();var e=M;M|=1;var n=Be.transition,r=B;try{if(Be.transition=null,B=1,t)return t()}finally{B=r,Be.transition=n,M=e,!(M&6)&&qt()}}function il(){Re=$n.current,K($n)}function sn(t,e){t.finishedWork=null,t.finishedLanes=0;var n=t.timeoutHandle;if(n!==-1&&(t.timeoutHandle=-1,Tp(n)),re!==null)for(n=re.return;n!==null;){var r=n;switch(Ma(r),r.tag){case 1:r=r.type.childContextTypes,r!=null&&qs();break;case 3:qn(),K(Pe),K(we),Ga();break;case 5:Ka(r);break;case 4:qn();break;case 13:K(Q);break;case 19:K(Q);break;case 10:Ha(r.type._context);break;case 22:case 23:il()}n=n.return}if(ue=t,re=t=Ft(t.current,null),fe=Re=e,oe=0,Kr=null,nl=xi=cn=0,Ee=br=null,nn!==null){for(e=0;e<nn.length;e++)if(n=nn[e],r=n.interleaved,r!==null){n.interleaved=null;var s=r.next,i=n.pending;if(i!==null){var o=i.next;i.next=s,r.next=o}n.pending=r}nn=null}return t}function Zd(t,e){do{var n=re;try{if(Ba(),Ps.current=ti,ei){for(var r=J.memoizedState;r!==null;){var s=r.queue;s!==null&&(s.pending=null),r=r.next}ei=!1}if(un=0,le=ie=J=null,kr=!1,Wr=0,tl.current=null,n===null||n.return===null){oe=1,Kr=e,re=null;break}e:{var i=t,o=n.return,a=n,l=e;if(e=fe,a.flags|=32768,l!==null&&typeof l=="object"&&typeof l.then=="function"){var c=l,d=a,f=d.tag;if(!(d.mode&1)&&(f===0||f===11||f===15)){var m=d.alternate;m?(d.updateQueue=m.updateQueue,d.memoizedState=m.memoizedState,d.lanes=m.lanes):(d.updateQueue=null,d.memoizedState=null)}var y=cu(o);if(y!==null){y.flags&=-257,du(y,o,a,i,e),y.mode&1&&uu(i,c,e),e=y,l=c;var x=e.updateQueue;if(x===null){var v=new Set;v.add(l),e.updateQueue=v}else x.add(l);break e}else{if(!(e&1)){uu(i,c,e),ol();break e}l=Error(E(426))}}else if(G&&a.mode&1){var k=cu(o);if(k!==null){!(k.flags&65536)&&(k.flags|=256),du(k,o,a,i,e),za(Kn(l,a));break e}}i=l=Kn(l,a),oe!==4&&(oe=2),br===null?br=[i]:br.push(i),i=o;do{switch(i.tag){case 3:i.flags|=65536,e&=-e,i.lanes|=e;var g=Id(i,l,e);ru(i,g);break e;case 1:a=l;var p=i.type,h=i.stateNode;if(!(i.flags&128)&&(typeof p.getDerivedStateFromError=="function"||h!==null&&typeof h.componentDidCatch=="function"&&(Mt===null||!Mt.has(h)))){i.flags|=65536,e&=-e,i.lanes|=e;var w=Dd(i,a,e);ru(i,w);break e}}i=i.return}while(i!==null)}nh(n)}catch(_){e=_,re===n&&n!==null&&(re=n=n.return);continue}break}while(!0)}function eh(){var t=ni.current;return ni.current=ti,t===null?ti:t}function ol(){(oe===0||oe===3||oe===2)&&(oe=4),ue===null||!(cn&268435455)&&!(xi&268435455)||Pt(ue,fe)}function ii(t,e){var n=M;M|=2;var r=eh();(ue!==t||fe!==e)&&(ut=null,sn(t,e));do try{em();break}catch(s){Zd(t,s)}while(!0);if(Ba(),M=n,ni.current=r,re!==null)throw Error(E(261));return ue=null,fe=0,oe}function em(){for(;re!==null;)th(re)}function tm(){for(;re!==null&&!Nf();)th(re)}function th(t){var e=sh(t.alternate,t,Re);t.memoizedProps=t.pendingProps,e===null?nh(t):re=e,tl.current=null}function nh(t){var e=t;do{var n=e.alternate;if(t=e.return,e.flags&32768){if(n=Gp(n,e),n!==null){n.flags&=32767,re=n;return}if(t!==null)t.flags|=32768,t.subtreeFlags=0,t.deletions=null;else{oe=6,re=null;return}}else if(n=Kp(n,e,Re),n!==null){re=n;return}if(e=e.sibling,e!==null){re=e;return}re=e=t}while(e!==null);oe===0&&(oe=5)}function Xt(t,e,n){var r=B,s=Be.transition;try{Be.transition=null,B=1,nm(t,e,n,r)}finally{Be.transition=s,B=r}return null}function nm(t,e,n,r){do zn();while(Rt!==null);if(M&6)throw Error(E(327));n=t.finishedWork;var s=t.finishedLanes;if(n===null)return null;if(t.finishedWork=null,t.finishedLanes=0,n===t.current)throw Error(E(177));t.callbackNode=null,t.callbackPriority=0;var i=n.lanes|n.childLanes;if(If(t,i),t===ue&&(re=ue=null,fe=0),!(n.subtreeFlags&2064)&&!(n.flags&2064)||ys||(ys=!0,ih(zs,function(){return zn(),null})),i=(n.flags&15990)!==0,n.subtreeFlags&15990||i){i=Be.transition,Be.transition=null;var o=B;B=1;var a=M;M|=4,tl.current=null,Jp(t,n),Jd(n,t),kp(Io),Bs=!!Lo,Io=Lo=null,t.current=n,Yp(n),Ef(),M=a,B=o,Be.transition=i}else t.current=n;if(ys&&(ys=!1,Rt=t,si=s),i=t.pendingLanes,i===0&&(Mt=null),Pf(n.stateNode),Ae(t,ee()),e!==null)for(r=t.onRecoverableError,n=0;n<e.length;n++)s=e[n],r(s.value,{componentStack:s.stack,digest:s.digest});if(ri)throw ri=!1,t=na,na=null,t;return si&1&&t.tag!==0&&zn(),i=t.pendingLanes,i&1?t===ra?jr++:(jr=0,ra=t):jr=0,qt(),null}function zn(){if(Rt!==null){var t=Ic(si),e=Be.transition,n=B;try{if(Be.transition=null,B=16>t?16:t,Rt===null)var r=!1;else{if(t=Rt,Rt=null,si=0,M&6)throw Error(E(331));var s=M;for(M|=4,P=t.current;P!==null;){var i=P,o=i.child;if(P.flags&16){var a=i.deletions;if(a!==null){for(var l=0;l<a.length;l++){var c=a[l];for(P=c;P!==null;){var d=P;switch(d.tag){case 0:case 11:case 15:Sr(8,d,i)}var f=d.child;if(f!==null)f.return=d,P=f;else for(;P!==null;){d=P;var m=d.sibling,y=d.return;if(Kd(d),d===c){P=null;break}if(m!==null){m.return=y,P=m;break}P=y}}}var x=i.alternate;if(x!==null){var v=x.child;if(v!==null){x.child=null;do{var k=v.sibling;v.sibling=null,v=k}while(v!==null)}}P=i}}if(i.subtreeFlags&2064&&o!==null)o.return=i,P=o;else e:for(;P!==null;){if(i=P,i.flags&2048)switch(i.tag){case 0:case 11:case 15:Sr(9,i,i.return)}var g=i.sibling;if(g!==null){g.return=i.return,P=g;break e}P=i.return}}var p=t.current;for(P=p;P!==null;){o=P;var h=o.child;if(o.subtreeFlags&2064&&h!==null)h.return=o,P=h;else e:for(o=p;P!==null;){if(a=P,a.flags&2048)try{switch(a.tag){case 0:case 11:case 15:wi(9,a)}}catch(_){X(a,a.return,_)}if(a===o){P=null;break e}var w=a.sibling;if(w!==null){w.return=a.return,P=w;break e}P=a.return}}if(M=s,qt(),it&&typeof it.onPostCommitFiberRoot=="function")try{it.onPostCommitFiberRoot(di,t)}catch{}r=!0}return r}finally{B=n,Be.transition=e}}return!1}function bu(t,e,n){e=Kn(n,e),e=Id(t,e,1),t=Ut(t,e,1),e=Se(),t!==null&&(Jr(t,1,e),Ae(t,e))}function X(t,e,n){if(t.tag===3)bu(t,t,n);else for(;e!==null;){if(e.tag===3){bu(e,t,n);break}else if(e.tag===1){var r=e.stateNode;if(typeof e.type.getDerivedStateFromError=="function"||typeof r.componentDidCatch=="function"&&(Mt===null||!Mt.has(r))){t=Kn(n,t),t=Dd(e,t,1),e=Ut(e,t,1),t=Se(),e!==null&&(Jr(e,1,t),Ae(e,t));break}}e=e.return}}function rm(t,e,n){var r=t.pingCache;r!==null&&r.delete(e),e=Se(),t.pingedLanes|=t.suspendedLanes&n,ue===t&&(fe&n)===n&&(oe===4||oe===3&&(fe&130023424)===fe&&500>ee()-rl?sn(t,0):nl|=n),Ae(t,e)}function rh(t,e){e===0&&(t.mode&1?(e=ls,ls<<=1,!(ls&130023424)&&(ls=4194304)):e=1);var n=Se();t=wt(t,e),t!==null&&(Jr(t,e,n),Ae(t,n))}function sm(t){var e=t.memoizedState,n=0;e!==null&&(n=e.retryLane),rh(t,n)}function im(t,e){var n=0;switch(t.tag){case 13:var r=t.stateNode,s=t.memoizedState;s!==null&&(n=s.retryLane);break;case 19:r=t.stateNode;break;default:throw Error(E(314))}r!==null&&r.delete(e),rh(t,n)}var sh;sh=function(t,e,n){if(t!==null)if(t.memoizedProps!==e.pendingProps||Pe.current)Te=!0;else{if(!(t.lanes&n)&&!(e.flags&128))return Te=!1,qp(t,e,n);Te=!!(t.flags&131072)}else Te=!1,G&&e.flags&1048576&&ld(e,Qs,e.index);switch(e.lanes=0,e.tag){case 2:var r=e.type;As(t,e),t=e.pendingProps;var s=Hn(e,we.current);Mn(e,n),s=Ja(null,e,r,t,s,n);var i=Ya();return e.flags|=1,typeof s=="object"&&s!==null&&typeof s.render=="function"&&s.$$typeof===void 0?(e.tag=1,e.memoizedState=null,e.updateQueue=null,Oe(r)?(i=!0,Ks(e)):i=!1,e.memoizedState=s.state!==null&&s.state!==void 0?s.state:null,Va(e),s.updater=yi,e.stateNode=s,s._reactInternals=e,Vo(e,r,t,n),e=Go(null,e,r,!0,i,n)):(e.tag=0,G&&i&&Ua(e),ke(null,e,s,n),e=e.child),e;case 16:r=e.elementType;e:{switch(As(t,e),t=e.pendingProps,s=r._init,r=s(r._payload),e.type=r,s=e.tag=am(r),t=Ge(r,t),s){case 0:e=Ko(null,e,r,t,n);break e;case 1:e=pu(null,e,r,t,n);break e;case 11:e=hu(null,e,r,t,n);break e;case 14:e=fu(null,e,r,Ge(r.type,t),n);break e}throw Error(E(306,r,""))}return e;case 0:return r=e.type,s=e.pendingProps,s=e.elementType===r?s:Ge(r,s),Ko(t,e,r,s,n);case 1:return r=e.type,s=e.pendingProps,s=e.elementType===r?s:Ge(r,s),pu(t,e,r,s,n);case 3:e:{if(Fd(e),t===null)throw Error(E(387));r=e.pendingProps,i=e.memoizedState,s=i.element,pd(t,e),Xs(e,r,null,n);var o=e.memoizedState;if(r=o.element,i.isDehydrated)if(i={element:r,isDehydrated:!1,cache:o.cache,pendingSuspenseBoundaries:o.pendingSuspenseBoundaries,transitions:o.transitions},e.updateQueue.baseState=i,e.memoizedState=i,e.flags&256){s=Kn(Error(E(423)),e),e=mu(t,e,r,n,s);break e}else if(r!==s){s=Kn(Error(E(424)),e),e=mu(t,e,r,n,s);break e}else for($e=Dt(e.stateNode.containerInfo.firstChild),Le=e,G=!0,Ye=null,n=hd(e,null,r,n),e.child=n;n;)n.flags=n.flags&-3|4096,n=n.sibling;else{if(Wn(),r===s){e=xt(t,e,n);break e}ke(t,e,r,n)}e=e.child}return e;case 5:return md(e),t===null&&Bo(e),r=e.type,s=e.pendingProps,i=t!==null?t.memoizedProps:null,o=s.children,Do(r,s)?o=null:i!==null&&Do(r,i)&&(e.flags|=32),zd(t,e),ke(t,e,o,n),e.child;case 6:return t===null&&Bo(e),null;case 13:return Bd(t,e,n);case 4:return qa(e,e.stateNode.containerInfo),r=e.pendingProps,t===null?e.child=Vn(e,null,r,n):ke(t,e,r,n),e.child;case 11:return r=e.type,s=e.pendingProps,s=e.elementType===r?s:Ge(r,s),hu(t,e,r,s,n);case 7:return ke(t,e,e.pendingProps,n),e.child;case 8:return ke(t,e,e.pendingProps.children,n),e.child;case 12:return ke(t,e,e.pendingProps.children,n),e.child;case 10:e:{if(r=e.type._context,s=e.pendingProps,i=e.memoizedProps,o=s.value,V(Js,r._currentValue),r._currentValue=o,i!==null)if(et(i.value,o)){if(i.children===s.children&&!Pe.current){e=xt(t,e,n);break e}}else for(i=e.child,i!==null&&(i.return=e);i!==null;){var a=i.dependencies;if(a!==null){o=i.child;for(var l=a.firstContext;l!==null;){if(l.context===r){if(i.tag===1){l=gt(-1,n&-n),l.tag=2;var c=i.updateQueue;if(c!==null){c=c.shared;var d=c.pending;d===null?l.next=l:(l.next=d.next,d.next=l),c.pending=l}}i.lanes|=n,l=i.alternate,l!==null&&(l.lanes|=n),Ho(i.return,n,e),a.lanes|=n;break}l=l.next}}else if(i.tag===10)o=i.type===e.type?null:i.child;else if(i.tag===18){if(o=i.return,o===null)throw Error(E(341));o.lanes|=n,a=o.alternate,a!==null&&(a.lanes|=n),Ho(o,n,e),o=i.sibling}else o=i.child;if(o!==null)o.return=i;else for(o=i;o!==null;){if(o===e){o=null;break}if(i=o.sibling,i!==null){i.return=o.return,o=i;break}o=o.return}i=o}ke(t,e,s.children,n),e=e.child}return e;case 9:return s=e.type,r=e.pendingProps.children,Mn(e,n),s=We(s),r=r(s),e.flags|=1,ke(t,e,r,n),e.child;case 14:return r=e.type,s=Ge(r,e.pendingProps),s=Ge(r.type,s),fu(t,e,r,s,n);case 15:return Ud(t,e,e.type,e.pendingProps,n);case 17:return r=e.type,s=e.pendingProps,s=e.elementType===r?s:Ge(r,s),As(t,e),e.tag=1,Oe(r)?(t=!0,Ks(e)):t=!1,Mn(e,n),Ld(e,r,s),Vo(e,r,s,n),Go(null,e,r,!0,t,n);case 19:return Hd(t,e,n);case 22:return Md(t,e,n)}throw Error(E(156,e.tag))};function ih(t,e){return Ac(t,e)}function om(t,e,n,r){this.tag=t,this.key=n,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=e,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=r,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function Fe(t,e,n,r){return new om(t,e,n,r)}function al(t){return t=t.prototype,!(!t||!t.isReactComponent)}function am(t){if(typeof t=="function")return al(t)?1:0;if(t!=null){if(t=t.$$typeof,t===Na)return 11;if(t===Ea)return 14}return 2}function Ft(t,e){var n=t.alternate;return n===null?(n=Fe(t.tag,e,t.key,t.mode),n.elementType=t.elementType,n.type=t.type,n.stateNode=t.stateNode,n.alternate=t,t.alternate=n):(n.pendingProps=e,n.type=t.type,n.flags=0,n.subtreeFlags=0,n.deletions=null),n.flags=t.flags&14680064,n.childLanes=t.childLanes,n.lanes=t.lanes,n.child=t.child,n.memoizedProps=t.memoizedProps,n.memoizedState=t.memoizedState,n.updateQueue=t.updateQueue,e=t.dependencies,n.dependencies=e===null?null:{lanes:e.lanes,firstContext:e.firstContext},n.sibling=t.sibling,n.index=t.index,n.ref=t.ref,n}function Ls(t,e,n,r,s,i){var o=2;if(r=t,typeof t=="function")al(t)&&(o=1);else if(typeof t=="string")o=5;else e:switch(t){case bn:return on(n.children,s,i,e);case ja:o=8,s|=8;break;case mo:return t=Fe(12,n,e,s|2),t.elementType=mo,t.lanes=i,t;case go:return t=Fe(13,n,e,s),t.elementType=go,t.lanes=i,t;case vo:return t=Fe(19,n,e,s),t.elementType=vo,t.lanes=i,t;case mc:return _i(n,s,i,e);default:if(typeof t=="object"&&t!==null)switch(t.$$typeof){case fc:o=10;break e;case pc:o=9;break e;case Na:o=11;break e;case Ea:o=14;break e;case Nt:o=16,r=null;break e}throw Error(E(130,t==null?t:typeof t,""))}return e=Fe(o,n,e,s),e.elementType=t,e.type=r,e.lanes=i,e}function on(t,e,n,r){return t=Fe(7,t,r,e),t.lanes=n,t}function _i(t,e,n,r){return t=Fe(22,t,r,e),t.elementType=mc,t.lanes=n,t.stateNode={isHidden:!1},t}function ro(t,e,n){return t=Fe(6,t,null,e),t.lanes=n,t}function so(t,e,n){return e=Fe(4,t.children!==null?t.children:[],t.key,e),e.lanes=n,e.stateNode={containerInfo:t.containerInfo,pendingChildren:null,implementation:t.implementation},e}function lm(t,e,n,r,s){this.tag=e,this.containerInfo=t,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.pendingContext=this.context=null,this.callbackPriority=0,this.eventTimes=Ui(0),this.expirationTimes=Ui(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=Ui(0),this.identifierPrefix=r,this.onRecoverableError=s,this.mutableSourceEagerHydrationData=null}function ll(t,e,n,r,s,i,o,a,l){return t=new lm(t,e,n,a,l),e===1?(e=1,i===!0&&(e|=8)):e=0,i=Fe(3,null,null,e),t.current=i,i.stateNode=t,i.memoizedState={element:r,isDehydrated:n,cache:null,transitions:null,pendingSuspenseBoundaries:null},Va(i),t}function um(t,e,n){var r=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:Sn,key:r==null?null:""+r,children:t,containerInfo:e,implementation:n}}function oh(t){if(!t)return Ht;t=t._reactInternals;e:{if(fn(t)!==t||t.tag!==1)throw Error(E(170));var e=t;do{switch(e.tag){case 3:e=e.stateNode.context;break e;case 1:if(Oe(e.type)){e=e.stateNode.__reactInternalMemoizedMergedChildContext;break e}}e=e.return}while(e!==null);throw Error(E(171))}if(t.tag===1){var n=t.type;if(Oe(n))return od(t,n,e)}return e}function ah(t,e,n,r,s,i,o,a,l){return t=ll(n,r,!0,t,s,i,o,a,l),t.context=oh(null),n=t.current,r=Se(),s=zt(n),i=gt(r,s),i.callback=e??null,Ut(n,i,s),t.current.lanes=s,Jr(t,s,r),Ae(t,r),t}function ki(t,e,n,r){var s=e.current,i=Se(),o=zt(s);return n=oh(n),e.context===null?e.context=n:e.pendingContext=n,e=gt(i,o),e.payload={element:t},r=r===void 0?null:r,r!==null&&(e.callback=r),t=Ut(s,e,o),t!==null&&(Ze(t,s,o,i),Ts(t,s,o)),o}function oi(t){if(t=t.current,!t.child)return null;switch(t.child.tag){case 5:return t.child.stateNode;default:return t.child.stateNode}}function ju(t,e){if(t=t.memoizedState,t!==null&&t.dehydrated!==null){var n=t.retryLane;t.retryLane=n!==0&&n<e?n:e}}function ul(t,e){ju(t,e),(t=t.alternate)&&ju(t,e)}function cm(){return null}var lh=typeof reportError=="function"?reportError:function(t){console.error(t)};function cl(t){this._internalRoot=t}Si.prototype.render=cl.prototype.render=function(t){var e=this._internalRoot;if(e===null)throw Error(E(409));ki(t,e,null,null)};Si.prototype.unmount=cl.prototype.unmount=function(){var t=this._internalRoot;if(t!==null){this._internalRoot=null;var e=t.containerInfo;dn(function(){ki(null,t,null,null)}),e[yt]=null}};function Si(t){this._internalRoot=t}Si.prototype.unstable_scheduleHydration=function(t){if(t){var e=Mc();t={blockedOn:null,target:t,priority:e};for(var n=0;n<Tt.length&&e!==0&&e<Tt[n].priority;n++);Tt.splice(n,0,t),n===0&&Fc(t)}};function dl(t){return!(!t||t.nodeType!==1&&t.nodeType!==9&&t.nodeType!==11)}function bi(t){return!(!t||t.nodeType!==1&&t.nodeType!==9&&t.nodeType!==11&&(t.nodeType!==8||t.nodeValue!==" react-mount-point-unstable "))}function Nu(){}function dm(t,e,n,r,s){if(s){if(typeof r=="function"){var i=r;r=function(){var c=oi(o);i.call(c)}}var o=ah(e,r,t,0,null,!1,!1,"",Nu);return t._reactRootContainer=o,t[yt]=o.current,Mr(t.nodeType===8?t.parentNode:t),dn(),o}for(;s=t.lastChild;)t.removeChild(s);if(typeof r=="function"){var a=r;r=function(){var c=oi(l);a.call(c)}}var l=ll(t,0,!1,null,null,!1,!1,"",Nu);return t._reactRootContainer=l,t[yt]=l.current,Mr(t.nodeType===8?t.parentNode:t),dn(function(){ki(e,l,n,r)}),l}function ji(t,e,n,r,s){var i=n._reactRootContainer;if(i){var o=i;if(typeof s=="function"){var a=s;s=function(){var l=oi(o);a.call(l)}}ki(e,o,t,s)}else o=dm(n,e,t,s,r);return oi(o)}Dc=function(t){switch(t.tag){case 3:var e=t.stateNode;if(e.current.memoizedState.isDehydrated){var n=fr(e.pendingLanes);n!==0&&(Pa(e,n|1),Ae(e,ee()),!(M&6)&&(Gn=ee()+500,qt()))}break;case 13:dn(function(){var r=wt(t,1);if(r!==null){var s=Se();Ze(r,t,1,s)}}),ul(t,1)}};Oa=function(t){if(t.tag===13){var e=wt(t,134217728);if(e!==null){var n=Se();Ze(e,t,134217728,n)}ul(t,134217728)}};Uc=function(t){if(t.tag===13){var e=zt(t),n=wt(t,e);if(n!==null){var r=Se();Ze(n,t,e,r)}ul(t,e)}};Mc=function(){return B};zc=function(t,e){var n=B;try{return B=t,e()}finally{B=n}};Eo=function(t,e,n){switch(e){case"input":if(xo(t,n),e=n.name,n.type==="radio"&&e!=null){for(n=t;n.parentNode;)n=n.parentNode;for(n=n.querySelectorAll("input[name="+JSON.stringify(""+e)+'][type="radio"]'),e=0;e<n.length;e++){var r=n[e];if(r!==t&&r.form===t.form){var s=mi(r);if(!s)throw Error(E(90));vc(r),xo(r,s)}}}break;case"textarea":wc(t,n);break;case"select":e=n.value,e!=null&&Ln(t,!!n.multiple,e,!1)}};Nc=sl;Ec=dn;var hm={usingClientEntryPoint:!1,Events:[Xr,Cn,mi,bc,jc,sl]},ur={findFiberByHostInstance:tn,bundleType:0,version:"18.3.1",rendererPackageName:"react-dom"},fm={bundleType:ur.bundleType,version:ur.version,rendererPackageName:ur.rendererPackageName,rendererConfig:ur.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setErrorHandler:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:_t.ReactCurrentDispatcher,findHostInstanceByFiber:function(t){return t=Pc(t),t===null?null:t.stateNode},findFiberByHostInstance:ur.findFiberByHostInstance||cm,findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null,reconcilerVersion:"18.3.1-next-f1338f8080-20240426"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var ws=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!ws.isDisabled&&ws.supportsFiber)try{di=ws.inject(fm),it=ws}catch{}}De.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=hm;De.createPortal=function(t,e){var n=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!dl(e))throw Error(E(200));return um(t,e,null,n)};De.createRoot=function(t,e){if(!dl(t))throw Error(E(299));var n=!1,r="",s=lh;return e!=null&&(e.unstable_strictMode===!0&&(n=!0),e.identifierPrefix!==void 0&&(r=e.identifierPrefix),e.onRecoverableError!==void 0&&(s=e.onRecoverableError)),e=ll(t,1,!1,null,null,n,!1,r,s),t[yt]=e.current,Mr(t.nodeType===8?t.parentNode:t),new cl(e)};De.findDOMNode=function(t){if(t==null)return null;if(t.nodeType===1)return t;var e=t._reactInternals;if(e===void 0)throw typeof t.render=="function"?Error(E(188)):(t=Object.keys(t).join(","),Error(E(268,t)));return t=Pc(e),t=t===null?null:t.stateNode,t};De.flushSync=function(t){return dn(t)};De.hydrate=function(t,e,n){if(!bi(e))throw Error(E(200));return ji(null,t,e,!0,n)};De.hydrateRoot=function(t,e,n){if(!dl(t))throw Error(E(405));var r=n!=null&&n.hydratedSources||null,s=!1,i="",o=lh;if(n!=null&&(n.unstable_strictMode===!0&&(s=!0),n.identifierPrefix!==void 0&&(i=n.identifierPrefix),n.onRecoverableError!==void 0&&(o=n.onRecoverableError)),e=ah(e,null,t,1,n??null,s,!1,i,o),t[yt]=e.current,Mr(t),r)for(t=0;t<r.length;t++)n=r[t],s=n._getVersion,s=s(n._source),e.mutableSourceEagerHydrationData==null?e.mutableSourceEagerHydrationData=[n,s]:e.mutableSourceEagerHydrationData.push(n,s);return new Si(e)};De.render=function(t,e,n){if(!bi(e))throw Error(E(200));return ji(null,t,e,!1,n)};De.unmountComponentAtNode=function(t){if(!bi(t))throw Error(E(40));return t._reactRootContainer?(dn(function(){ji(null,null,t,!1,function(){t._reactRootContainer=null,t[yt]=null})}),!0):!1};De.unstable_batchedUpdates=sl;De.unstable_renderSubtreeIntoContainer=function(t,e,n,r){if(!bi(n))throw Error(E(200));if(t==null||t._reactInternals===void 0)throw Error(E(38));return ji(t,e,n,!1,r)};De.version="18.3.1-next-f1338f8080-20240426";function uh(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(uh)}catch(t){console.error(t)}}uh(),uc.exports=De;var pm=uc.exports,Eu=pm;fo.createRoot=Eu.createRoot,fo.hydrateRoot=Eu.hydrateRoot;const mm="modulepreload",gm=function(t){return"/"+t},Cu={},es=function(e,n,r){let s=Promise.resolve();if(n&&n.length>0){document.getElementsByTagName("link");const o=document.querySelector("meta[property=csp-nonce]"),a=(o==null?void 0:o.nonce)||(o==null?void 0:o.getAttribute("nonce"));s=Promise.allSettled(n.map(l=>{if(l=gm(l),l in Cu)return;Cu[l]=!0;const c=l.endsWith(".css"),d=c?'[rel="stylesheet"]':"";if(document.querySelector(`link[href="${l}"]${d}`))return;const f=document.createElement("link");if(f.rel=c?"stylesheet":mm,c||(f.as="script"),f.crossOrigin="",f.href=l,a&&f.setAttribute("nonce",a),document.head.appendChild(f),c)return new Promise((m,y)=>{f.addEventListener("load",m),f.addEventListener("error",()=>y(new Error(`Unable to preload CSS for ${l}`)))})}))}function i(o){const a=new Event("vite:preloadError",{cancelable:!0});if(a.payload=o,window.dispatchEvent(a),!a.defaultPrevented)throw o}return s.then(o=>{for(const a of o||[])a.status==="rejected"&&i(a.reason);return e().catch(i)})},vm=t=>{let e;return t?e=t:typeof fetch>"u"?e=(...n)=>es(async()=>{const{default:r}=await Promise.resolve().then(()=>Zn);return{default:r}},void 0).then(({default:r})=>r(...n)):e=fetch,(...n)=>e(...n)};class hl extends Error{constructor(e,n="FunctionsError",r){super(e),this.name=n,this.context=r}}class ym extends hl{constructor(e){super("Failed to send a request to the Edge Function","FunctionsFetchError",e)}}class Tu extends hl{constructor(e){super("Relay Error invoking the Edge Function","FunctionsRelayError",e)}}class Pu extends hl{constructor(e){super("Edge Function returned a non-2xx status code","FunctionsHttpError",e)}}var oa;(function(t){t.Any="any",t.ApNortheast1="ap-northeast-1",t.ApNortheast2="ap-northeast-2",t.ApSouth1="ap-south-1",t.ApSoutheast1="ap-southeast-1",t.ApSoutheast2="ap-southeast-2",t.CaCentral1="ca-central-1",t.EuCentral1="eu-central-1",t.EuWest1="eu-west-1",t.EuWest2="eu-west-2",t.EuWest3="eu-west-3",t.SaEast1="sa-east-1",t.UsEast1="us-east-1",t.UsWest1="us-west-1",t.UsWest2="us-west-2"})(oa||(oa={}));var wm=function(t,e,n,r){function s(i){return i instanceof n?i:new n(function(o){o(i)})}return new(n||(n=Promise))(function(i,o){function a(d){try{c(r.next(d))}catch(f){o(f)}}function l(d){try{c(r.throw(d))}catch(f){o(f)}}function c(d){d.done?i(d.value):s(d.value).then(a,l)}c((r=r.apply(t,e||[])).next())})};class xm{constructor(e,{headers:n={},customFetch:r,region:s=oa.Any}={}){this.url=e,this.headers=n,this.region=s,this.fetch=vm(r)}setAuth(e){this.headers.Authorization=`Bearer ${e}`}invoke(e,n={}){var r;return wm(this,void 0,void 0,function*(){try{const{headers:s,method:i,body:o}=n;let a={},{region:l}=n;l||(l=this.region);const c=new URL(`${this.url}/${e}`);l&&l!=="any"&&(a["x-region"]=l,c.searchParams.set("forceFunctionRegion",l));let d;o&&(s&&!Object.prototype.hasOwnProperty.call(s,"Content-Type")||!s)&&(typeof Blob<"u"&&o instanceof Blob||o instanceof ArrayBuffer?(a["Content-Type"]="application/octet-stream",d=o):typeof o=="string"?(a["Content-Type"]="text/plain",d=o):typeof FormData<"u"&&o instanceof FormData?d=o:(a["Content-Type"]="application/json",d=JSON.stringify(o)));const f=yield this.fetch(c.toString(),{method:i||"POST",headers:Object.assign(Object.assign(Object.assign({},a),this.headers),s),body:d}).catch(v=>{throw new ym(v)}),m=f.headers.get("x-relay-error");if(m&&m==="true")throw new Tu(f);if(!f.ok)throw new Pu(f);let y=((r=f.headers.get("Content-Type"))!==null&&r!==void 0?r:"text/plain").split(";")[0].trim(),x;return y==="application/json"?x=yield f.json():y==="application/octet-stream"?x=yield f.blob():y==="text/event-stream"?x=f:y==="multipart/form-data"?x=yield f.formData():x=yield f.text(),{data:x,error:null,response:f}}catch(s){return{data:null,error:s,response:s instanceof Pu||s instanceof Tu?s.context:void 0}}})}}var Ce={},fl={},Ni={},ts={},Ei={},Ci={},_m=function(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("unable to locate global object")},Qn=_m();const km=Qn.fetch,ch=Qn.fetch.bind(Qn),dh=Qn.Headers,Sm=Qn.Request,bm=Qn.Response,Zn=Object.freeze(Object.defineProperty({__proto__:null,Headers:dh,Request:Sm,Response:bm,default:ch,fetch:km},Symbol.toStringTag,{value:"Module"})),jm=zh(Zn);var Ti={};Object.defineProperty(Ti,"__esModule",{value:!0});let Nm=class extends Error{constructor(e){super(e.message),this.name="PostgrestError",this.details=e.details,this.hint=e.hint,this.code=e.code}};Ti.default=Nm;var hh=He&&He.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(Ci,"__esModule",{value:!0});const Em=hh(jm),Cm=hh(Ti);let Tm=class{constructor(e){this.shouldThrowOnError=!1,this.method=e.method,this.url=e.url,this.headers=e.headers,this.schema=e.schema,this.body=e.body,this.shouldThrowOnError=e.shouldThrowOnError,this.signal=e.signal,this.isMaybeSingle=e.isMaybeSingle,e.fetch?this.fetch=e.fetch:typeof fetch>"u"?this.fetch=Em.default:this.fetch=fetch}throwOnError(){return this.shouldThrowOnError=!0,this}setHeader(e,n){return this.headers=Object.assign({},this.headers),this.headers[e]=n,this}then(e,n){this.schema===void 0||(["GET","HEAD"].includes(this.method)?this.headers["Accept-Profile"]=this.schema:this.headers["Content-Profile"]=this.schema),this.method!=="GET"&&this.method!=="HEAD"&&(this.headers["Content-Type"]="application/json");const r=this.fetch;let s=r(this.url.toString(),{method:this.method,headers:this.headers,body:JSON.stringify(this.body),signal:this.signal}).then(async i=>{var o,a,l;let c=null,d=null,f=null,m=i.status,y=i.statusText;if(i.ok){if(this.method!=="HEAD"){const g=await i.text();g===""||(this.headers.Accept==="text/csv"||this.headers.Accept&&this.headers.Accept.includes("application/vnd.pgrst.plan+text")?d=g:d=JSON.parse(g))}const v=(o=this.headers.Prefer)===null||o===void 0?void 0:o.match(/count=(exact|planned|estimated)/),k=(a=i.headers.get("content-range"))===null||a===void 0?void 0:a.split("/");v&&k&&k.length>1&&(f=parseInt(k[1])),this.isMaybeSingle&&this.method==="GET"&&Array.isArray(d)&&(d.length>1?(c={code:"PGRST116",details:`Results contain ${d.length} rows, application/vnd.pgrst.object+json requires 1 row`,hint:null,message:"JSON object requested, multiple (or no) rows returned"},d=null,f=null,m=406,y="Not Acceptable"):d.length===1?d=d[0]:d=null)}else{const v=await i.text();try{c=JSON.parse(v),Array.isArray(c)&&i.status===404&&(d=[],c=null,m=200,y="OK")}catch{i.status===404&&v===""?(m=204,y="No Content"):c={message:v}}if(c&&this.isMaybeSingle&&(!((l=c==null?void 0:c.details)===null||l===void 0)&&l.includes("0 rows"))&&(c=null,m=200,y="OK"),c&&this.shouldThrowOnError)throw new Cm.default(c)}return{error:c,data:d,count:f,status:m,statusText:y}});return this.shouldThrowOnError||(s=s.catch(i=>{var o,a,l;return{error:{message:`${(o=i==null?void 0:i.name)!==null&&o!==void 0?o:"FetchError"}: ${i==null?void 0:i.message}`,details:`${(a=i==null?void 0:i.stack)!==null&&a!==void 0?a:""}`,hint:"",code:`${(l=i==null?void 0:i.code)!==null&&l!==void 0?l:""}`},data:null,count:null,status:0,statusText:""}})),s.then(e,n)}returns(){return this}overrideTypes(){return this}};Ci.default=Tm;var Pm=He&&He.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(Ei,"__esModule",{value:!0});const Om=Pm(Ci);let Am=class extends Om.default{select(e){let n=!1;const r=(e??"*").split("").map(s=>/\s/.test(s)&&!n?"":(s==='"'&&(n=!n),s)).join("");return this.url.searchParams.set("select",r),this.headers.Prefer&&(this.headers.Prefer+=","),this.headers.Prefer+="return=representation",this}order(e,{ascending:n=!0,nullsFirst:r,foreignTable:s,referencedTable:i=s}={}){const o=i?`${i}.order`:"order",a=this.url.searchParams.get(o);return this.url.searchParams.set(o,`${a?`${a},`:""}${e}.${n?"asc":"desc"}${r===void 0?"":r?".nullsfirst":".nullslast"}`),this}limit(e,{foreignTable:n,referencedTable:r=n}={}){const s=typeof r>"u"?"limit":`${r}.limit`;return this.url.searchParams.set(s,`${e}`),this}range(e,n,{foreignTable:r,referencedTable:s=r}={}){const i=typeof s>"u"?"offset":`${s}.offset`,o=typeof s>"u"?"limit":`${s}.limit`;return this.url.searchParams.set(i,`${e}`),this.url.searchParams.set(o,`${n-e+1}`),this}abortSignal(e){return this.signal=e,this}single(){return this.headers.Accept="application/vnd.pgrst.object+json",this}maybeSingle(){return this.method==="GET"?this.headers.Accept="application/json":this.headers.Accept="application/vnd.pgrst.object+json",this.isMaybeSingle=!0,this}csv(){return this.headers.Accept="text/csv",this}geojson(){return this.headers.Accept="application/geo+json",this}explain({analyze:e=!1,verbose:n=!1,settings:r=!1,buffers:s=!1,wal:i=!1,format:o="text"}={}){var a;const l=[e?"analyze":null,n?"verbose":null,r?"settings":null,s?"buffers":null,i?"wal":null].filter(Boolean).join("|"),c=(a=this.headers.Accept)!==null&&a!==void 0?a:"application/json";return this.headers.Accept=`application/vnd.pgrst.plan+${o}; for="${c}"; options=${l};`,o==="json"?this:this}rollback(){var e;return((e=this.headers.Prefer)!==null&&e!==void 0?e:"").trim().length>0?this.headers.Prefer+=",tx=rollback":this.headers.Prefer="tx=rollback",this}returns(){return this}};Ei.default=Am;var Rm=He&&He.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(ts,"__esModule",{value:!0});const $m=Rm(Ei);let Lm=class extends $m.default{eq(e,n){return this.url.searchParams.append(e,`eq.${n}`),this}neq(e,n){return this.url.searchParams.append(e,`neq.${n}`),this}gt(e,n){return this.url.searchParams.append(e,`gt.${n}`),this}gte(e,n){return this.url.searchParams.append(e,`gte.${n}`),this}lt(e,n){return this.url.searchParams.append(e,`lt.${n}`),this}lte(e,n){return this.url.searchParams.append(e,`lte.${n}`),this}like(e,n){return this.url.searchParams.append(e,`like.${n}`),this}likeAllOf(e,n){return this.url.searchParams.append(e,`like(all).{${n.join(",")}}`),this}likeAnyOf(e,n){return this.url.searchParams.append(e,`like(any).{${n.join(",")}}`),this}ilike(e,n){return this.url.searchParams.append(e,`ilike.${n}`),this}ilikeAllOf(e,n){return this.url.searchParams.append(e,`ilike(all).{${n.join(",")}}`),this}ilikeAnyOf(e,n){return this.url.searchParams.append(e,`ilike(any).{${n.join(",")}}`),this}is(e,n){return this.url.searchParams.append(e,`is.${n}`),this}in(e,n){const r=Array.from(new Set(n)).map(s=>typeof s=="string"&&new RegExp("[,()]").test(s)?`"${s}"`:`${s}`).join(",");return this.url.searchParams.append(e,`in.(${r})`),this}contains(e,n){return typeof n=="string"?this.url.searchParams.append(e,`cs.${n}`):Array.isArray(n)?this.url.searchParams.append(e,`cs.{${n.join(",")}}`):this.url.searchParams.append(e,`cs.${JSON.stringify(n)}`),this}containedBy(e,n){return typeof n=="string"?this.url.searchParams.append(e,`cd.${n}`):Array.isArray(n)?this.url.searchParams.append(e,`cd.{${n.join(",")}}`):this.url.searchParams.append(e,`cd.${JSON.stringify(n)}`),this}rangeGt(e,n){return this.url.searchParams.append(e,`sr.${n}`),this}rangeGte(e,n){return this.url.searchParams.append(e,`nxl.${n}`),this}rangeLt(e,n){return this.url.searchParams.append(e,`sl.${n}`),this}rangeLte(e,n){return this.url.searchParams.append(e,`nxr.${n}`),this}rangeAdjacent(e,n){return this.url.searchParams.append(e,`adj.${n}`),this}overlaps(e,n){return typeof n=="string"?this.url.searchParams.append(e,`ov.${n}`):this.url.searchParams.append(e,`ov.{${n.join(",")}}`),this}textSearch(e,n,{config:r,type:s}={}){let i="";s==="plain"?i="pl":s==="phrase"?i="ph":s==="websearch"&&(i="w");const o=r===void 0?"":`(${r})`;return this.url.searchParams.append(e,`${i}fts${o}.${n}`),this}match(e){return Object.entries(e).forEach(([n,r])=>{this.url.searchParams.append(n,`eq.${r}`)}),this}not(e,n,r){return this.url.searchParams.append(e,`not.${n}.${r}`),this}or(e,{foreignTable:n,referencedTable:r=n}={}){const s=r?`${r}.or`:"or";return this.url.searchParams.append(s,`(${e})`),this}filter(e,n,r){return this.url.searchParams.append(e,`${n}.${r}`),this}};ts.default=Lm;var Im=He&&He.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(Ni,"__esModule",{value:!0});const cr=Im(ts);let Dm=class{constructor(e,{headers:n={},schema:r,fetch:s}){this.url=e,this.headers=n,this.schema=r,this.fetch=s}select(e,{head:n=!1,count:r}={}){const s=n?"HEAD":"GET";let i=!1;const o=(e??"*").split("").map(a=>/\s/.test(a)&&!i?"":(a==='"'&&(i=!i),a)).join("");return this.url.searchParams.set("select",o),r&&(this.headers.Prefer=`count=${r}`),new cr.default({method:s,url:this.url,headers:this.headers,schema:this.schema,fetch:this.fetch,allowEmpty:!1})}insert(e,{count:n,defaultToNull:r=!0}={}){const s="POST",i=[];if(this.headers.Prefer&&i.push(this.headers.Prefer),n&&i.push(`count=${n}`),r||i.push("missing=default"),this.headers.Prefer=i.join(","),Array.isArray(e)){const o=e.reduce((a,l)=>a.concat(Object.keys(l)),[]);if(o.length>0){const a=[...new Set(o)].map(l=>`"${l}"`);this.url.searchParams.set("columns",a.join(","))}}return new cr.default({method:s,url:this.url,headers:this.headers,schema:this.schema,body:e,fetch:this.fetch,allowEmpty:!1})}upsert(e,{onConflict:n,ignoreDuplicates:r=!1,count:s,defaultToNull:i=!0}={}){const o="POST",a=[`resolution=${r?"ignore":"merge"}-duplicates`];if(n!==void 0&&this.url.searchParams.set("on_conflict",n),this.headers.Prefer&&a.push(this.headers.Prefer),s&&a.push(`count=${s}`),i||a.push("missing=default"),this.headers.Prefer=a.join(","),Array.isArray(e)){const l=e.reduce((c,d)=>c.concat(Object.keys(d)),[]);if(l.length>0){const c=[...new Set(l)].map(d=>`"${d}"`);this.url.searchParams.set("columns",c.join(","))}}return new cr.default({method:o,url:this.url,headers:this.headers,schema:this.schema,body:e,fetch:this.fetch,allowEmpty:!1})}update(e,{count:n}={}){const r="PATCH",s=[];return this.headers.Prefer&&s.push(this.headers.Prefer),n&&s.push(`count=${n}`),this.headers.Prefer=s.join(","),new cr.default({method:r,url:this.url,headers:this.headers,schema:this.schema,body:e,fetch:this.fetch,allowEmpty:!1})}delete({count:e}={}){const n="DELETE",r=[];return e&&r.push(`count=${e}`),this.headers.Prefer&&r.unshift(this.headers.Prefer),this.headers.Prefer=r.join(","),new cr.default({method:n,url:this.url,headers:this.headers,schema:this.schema,fetch:this.fetch,allowEmpty:!1})}};Ni.default=Dm;var Pi={},Oi={};Object.defineProperty(Oi,"__esModule",{value:!0});Oi.version=void 0;Oi.version="0.0.0-automated";Object.defineProperty(Pi,"__esModule",{value:!0});Pi.DEFAULT_HEADERS=void 0;const Um=Oi;Pi.DEFAULT_HEADERS={"X-Client-Info":`postgrest-js/${Um.version}`};var fh=He&&He.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(fl,"__esModule",{value:!0});const Mm=fh(Ni),zm=fh(ts),Fm=Pi;let Bm=class ph{constructor(e,{headers:n={},schema:r,fetch:s}={}){this.url=e,this.headers=Object.assign(Object.assign({},Fm.DEFAULT_HEADERS),n),this.schemaName=r,this.fetch=s}from(e){const n=new URL(`${this.url}/${e}`);return new Mm.default(n,{headers:Object.assign({},this.headers),schema:this.schemaName,fetch:this.fetch})}schema(e){return new ph(this.url,{headers:this.headers,schema:e,fetch:this.fetch})}rpc(e,n={},{head:r=!1,get:s=!1,count:i}={}){let o;const a=new URL(`${this.url}/rpc/${e}`);let l;r||s?(o=r?"HEAD":"GET",Object.entries(n).filter(([d,f])=>f!==void 0).map(([d,f])=>[d,Array.isArray(f)?`{${f.join(",")}}`:`${f}`]).forEach(([d,f])=>{a.searchParams.append(d,f)})):(o="POST",l=n);const c=Object.assign({},this.headers);return i&&(c.Prefer=`count=${i}`),new zm.default({method:o,url:a,headers:c,schema:this.schemaName,body:l,fetch:this.fetch,allowEmpty:!1})}};fl.default=Bm;var er=He&&He.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(Ce,"__esModule",{value:!0});Ce.PostgrestError=Ce.PostgrestBuilder=Ce.PostgrestTransformBuilder=Ce.PostgrestFilterBuilder=Ce.PostgrestQueryBuilder=Ce.PostgrestClient=void 0;const mh=er(fl);Ce.PostgrestClient=mh.default;const gh=er(Ni);Ce.PostgrestQueryBuilder=gh.default;const vh=er(ts);Ce.PostgrestFilterBuilder=vh.default;const yh=er(Ei);Ce.PostgrestTransformBuilder=yh.default;const wh=er(Ci);Ce.PostgrestBuilder=wh.default;const xh=er(Ti);Ce.PostgrestError=xh.default;var Hm=Ce.default={PostgrestClient:mh.default,PostgrestQueryBuilder:gh.default,PostgrestFilterBuilder:vh.default,PostgrestTransformBuilder:yh.default,PostgrestBuilder:wh.default,PostgrestError:xh.default};const{PostgrestClient:Wm,PostgrestQueryBuilder:dy,PostgrestFilterBuilder:hy,PostgrestTransformBuilder:fy,PostgrestBuilder:py,PostgrestError:my}=Hm;class Vm{static dynamicRequire(e){try{return typeof process<"u"&&process.versions&&process.versions.node&&typeof require<"u"?require(e):null}catch{return null}}static detectEnvironment(){var e,n;if(typeof WebSocket<"u")return{type:"native",constructor:WebSocket};if(typeof globalThis<"u"&&typeof globalThis.WebSocket<"u")return{type:"native",constructor:globalThis.WebSocket};if(typeof global<"u"&&typeof global.WebSocket<"u")return{type:"native",constructor:global.WebSocket};if(typeof globalThis<"u"&&typeof globalThis.WebSocketPair<"u"&&typeof globalThis.WebSocket>"u")return{type:"cloudflare",error:"Cloudflare Workers detected. WebSocket clients are not supported in Cloudflare Workers.",workaround:"Use Cloudflare Workers WebSocket API for server-side WebSocket handling, or deploy to a different runtime."};if(typeof globalThis<"u"&&globalThis.EdgeRuntime||typeof navigator<"u"&&(!((e=navigator.userAgent)===null||e===void 0)&&e.includes("Vercel-Edge")))return{type:"unsupported",error:"Edge runtime detected (Vercel Edge/Netlify Edge). WebSockets are not supported in edge functions.",workaround:"Use serverless functions or a different deployment target for WebSocket functionality."};if(typeof process<"u"&&process.versions&&process.versions.node){const r=parseInt(process.versions.node.split(".")[0]);if(r>=22)try{if(typeof globalThis.WebSocket<"u")return{type:"native",constructor:globalThis.WebSocket};const s=this.dynamicRequire("undici");if(s&&s.WebSocket)return{type:"native",constructor:s.WebSocket};throw new Error("undici not available")}catch{return{type:"unsupported",error:`Node.js ${r} detected but native WebSocket not found.`,workaround:'Install the "ws" package or check your Node.js installation.'}}try{const s=this.dynamicRequire("ws");if(s)return{type:"ws",constructor:(n=s.WebSocket)!==null&&n!==void 0?n:s};throw new Error("ws package not available")}catch{return{type:"unsupported",error:`Node.js ${r} detected without WebSocket support.`,workaround:'Install the "ws" package: npm install ws'}}}return{type:"unsupported",error:"Unknown JavaScript runtime without WebSocket support.",workaround:"Ensure you're running in a supported environment (browser, Node.js, Deno) or provide a custom WebSocket implementation."}}static getWebSocketConstructor(){const e=this.detectEnvironment();if(e.constructor)return e.constructor;let n=e.error||"WebSocket not supported in this environment.";throw e.workaround&&(n+=`

Suggested solution: ${e.workaround}`),new Error(n)}static createWebSocket(e,n){const r=this.getWebSocketConstructor();return new r(e,n)}static isWebSocketSupported(){try{const e=this.detectEnvironment();return e.type==="native"||e.type==="ws"}catch{return!1}}}const qm="2.15.0",Km=`realtime-js/${qm}`,Gm="1.0.0",aa=1e4,Qm=1e3,Jm=100;var Nr;(function(t){t[t.connecting=0]="connecting",t[t.open=1]="open",t[t.closing=2]="closing",t[t.closed=3]="closed"})(Nr||(Nr={}));var se;(function(t){t.closed="closed",t.errored="errored",t.joined="joined",t.joining="joining",t.leaving="leaving"})(se||(se={}));var Je;(function(t){t.close="phx_close",t.error="phx_error",t.join="phx_join",t.reply="phx_reply",t.leave="phx_leave",t.access_token="access_token"})(Je||(Je={}));var la;(function(t){t.websocket="websocket"})(la||(la={}));var en;(function(t){t.Connecting="connecting",t.Open="open",t.Closing="closing",t.Closed="closed"})(en||(en={}));class Ym{constructor(){this.HEADER_LENGTH=1}decode(e,n){return e.constructor===ArrayBuffer?n(this._binaryDecode(e)):n(typeof e=="string"?JSON.parse(e):{})}_binaryDecode(e){const n=new DataView(e),r=new TextDecoder;return this._decodeBroadcast(e,n,r)}_decodeBroadcast(e,n,r){const s=n.getUint8(1),i=n.getUint8(2);let o=this.HEADER_LENGTH+2;const a=r.decode(e.slice(o,o+s));o=o+s;const l=r.decode(e.slice(o,o+i));o=o+i;const c=JSON.parse(r.decode(e.slice(o,e.byteLength)));return{ref:null,topic:a,event:l,payload:c}}}class _h{constructor(e,n){this.callback=e,this.timerCalc=n,this.timer=void 0,this.tries=0,this.callback=e,this.timerCalc=n}reset(){this.tries=0,clearTimeout(this.timer),this.timer=void 0}scheduleTimeout(){clearTimeout(this.timer),this.timer=setTimeout(()=>{this.tries=this.tries+1,this.callback()},this.timerCalc(this.tries+1))}}var W;(function(t){t.abstime="abstime",t.bool="bool",t.date="date",t.daterange="daterange",t.float4="float4",t.float8="float8",t.int2="int2",t.int4="int4",t.int4range="int4range",t.int8="int8",t.int8range="int8range",t.json="json",t.jsonb="jsonb",t.money="money",t.numeric="numeric",t.oid="oid",t.reltime="reltime",t.text="text",t.time="time",t.timestamp="timestamp",t.timestamptz="timestamptz",t.timetz="timetz",t.tsrange="tsrange",t.tstzrange="tstzrange"})(W||(W={}));const Ou=(t,e,n={})=>{var r;const s=(r=n.skipTypes)!==null&&r!==void 0?r:[];return Object.keys(e).reduce((i,o)=>(i[o]=Xm(o,t,e,s),i),{})},Xm=(t,e,n,r)=>{const s=e.find(a=>a.name===t),i=s==null?void 0:s.type,o=n[t];return i&&!r.includes(i)?kh(i,o):ua(o)},kh=(t,e)=>{if(t.charAt(0)==="_"){const n=t.slice(1,t.length);return ng(e,n)}switch(t){case W.bool:return Zm(e);case W.float4:case W.float8:case W.int2:case W.int4:case W.int8:case W.numeric:case W.oid:return eg(e);case W.json:case W.jsonb:return tg(e);case W.timestamp:return rg(e);case W.abstime:case W.date:case W.daterange:case W.int4range:case W.int8range:case W.money:case W.reltime:case W.text:case W.time:case W.timestamptz:case W.timetz:case W.tsrange:case W.tstzrange:return ua(e);default:return ua(e)}},ua=t=>t,Zm=t=>{switch(t){case"t":return!0;case"f":return!1;default:return t}},eg=t=>{if(typeof t=="string"){const e=parseFloat(t);if(!Number.isNaN(e))return e}return t},tg=t=>{if(typeof t=="string")try{return JSON.parse(t)}catch(e){return console.log(`JSON parse error: ${e}`),t}return t},ng=(t,e)=>{if(typeof t!="string")return t;const n=t.length-1,r=t[n];if(t[0]==="{"&&r==="}"){let i;const o=t.slice(1,n);try{i=JSON.parse("["+o+"]")}catch{i=o?o.split(","):[]}return i.map(a=>kh(e,a))}return t},rg=t=>typeof t=="string"?t.replace(" ","T"):t,Sh=t=>{let e=t;return e=e.replace(/^ws/i,"http"),e=e.replace(/(\/socket\/websocket|\/socket|\/websocket)\/?$/i,""),e.replace(/\/+$/,"")+"/api/broadcast"};class io{constructor(e,n,r={},s=aa){this.channel=e,this.event=n,this.payload=r,this.timeout=s,this.sent=!1,this.timeoutTimer=void 0,this.ref="",this.receivedResp=null,this.recHooks=[],this.refEvent=null}resend(e){this.timeout=e,this._cancelRefEvent(),this.ref="",this.refEvent=null,this.receivedResp=null,this.sent=!1,this.send()}send(){this._hasReceived("timeout")||(this.startTimeout(),this.sent=!0,this.channel.socket.push({topic:this.channel.topic,event:this.event,payload:this.payload,ref:this.ref,join_ref:this.channel._joinRef()}))}updatePayload(e){this.payload=Object.assign(Object.assign({},this.payload),e)}receive(e,n){var r;return this._hasReceived(e)&&n((r=this.receivedResp)===null||r===void 0?void 0:r.response),this.recHooks.push({status:e,callback:n}),this}startTimeout(){if(this.timeoutTimer)return;this.ref=this.channel.socket._makeRef(),this.refEvent=this.channel._replyEventName(this.ref);const e=n=>{this._cancelRefEvent(),this._cancelTimeout(),this.receivedResp=n,this._matchReceive(n)};this.channel._on(this.refEvent,{},e),this.timeoutTimer=setTimeout(()=>{this.trigger("timeout",{})},this.timeout)}trigger(e,n){this.refEvent&&this.channel._trigger(this.refEvent,{status:e,response:n})}destroy(){this._cancelRefEvent(),this._cancelTimeout()}_cancelRefEvent(){this.refEvent&&this.channel._off(this.refEvent,{})}_cancelTimeout(){clearTimeout(this.timeoutTimer),this.timeoutTimer=void 0}_matchReceive({status:e,response:n}){this.recHooks.filter(r=>r.status===e).forEach(r=>r.callback(n))}_hasReceived(e){return this.receivedResp&&this.receivedResp.status===e}}var Au;(function(t){t.SYNC="sync",t.JOIN="join",t.LEAVE="leave"})(Au||(Au={}));class Er{constructor(e,n){this.channel=e,this.state={},this.pendingDiffs=[],this.joinRef=null,this.enabled=!1,this.caller={onJoin:()=>{},onLeave:()=>{},onSync:()=>{}};const r=(n==null?void 0:n.events)||{state:"presence_state",diff:"presence_diff"};this.channel._on(r.state,{},s=>{const{onJoin:i,onLeave:o,onSync:a}=this.caller;this.joinRef=this.channel._joinRef(),this.state=Er.syncState(this.state,s,i,o),this.pendingDiffs.forEach(l=>{this.state=Er.syncDiff(this.state,l,i,o)}),this.pendingDiffs=[],a()}),this.channel._on(r.diff,{},s=>{const{onJoin:i,onLeave:o,onSync:a}=this.caller;this.inPendingSyncState()?this.pendingDiffs.push(s):(this.state=Er.syncDiff(this.state,s,i,o),a())}),this.onJoin((s,i,o)=>{this.channel._trigger("presence",{event:"join",key:s,currentPresences:i,newPresences:o})}),this.onLeave((s,i,o)=>{this.channel._trigger("presence",{event:"leave",key:s,currentPresences:i,leftPresences:o})}),this.onSync(()=>{this.channel._trigger("presence",{event:"sync"})})}static syncState(e,n,r,s){const i=this.cloneDeep(e),o=this.transformState(n),a={},l={};return this.map(i,(c,d)=>{o[c]||(l[c]=d)}),this.map(o,(c,d)=>{const f=i[c];if(f){const m=d.map(k=>k.presence_ref),y=f.map(k=>k.presence_ref),x=d.filter(k=>y.indexOf(k.presence_ref)<0),v=f.filter(k=>m.indexOf(k.presence_ref)<0);x.length>0&&(a[c]=x),v.length>0&&(l[c]=v)}else a[c]=d}),this.syncDiff(i,{joins:a,leaves:l},r,s)}static syncDiff(e,n,r,s){const{joins:i,leaves:o}={joins:this.transformState(n.joins),leaves:this.transformState(n.leaves)};return r||(r=()=>{}),s||(s=()=>{}),this.map(i,(a,l)=>{var c;const d=(c=e[a])!==null&&c!==void 0?c:[];if(e[a]=this.cloneDeep(l),d.length>0){const f=e[a].map(y=>y.presence_ref),m=d.filter(y=>f.indexOf(y.presence_ref)<0);e[a].unshift(...m)}r(a,d,l)}),this.map(o,(a,l)=>{let c=e[a];if(!c)return;const d=l.map(f=>f.presence_ref);c=c.filter(f=>d.indexOf(f.presence_ref)<0),e[a]=c,s(a,c,l),c.length===0&&delete e[a]}),e}static map(e,n){return Object.getOwnPropertyNames(e).map(r=>n(r,e[r]))}static transformState(e){return e=this.cloneDeep(e),Object.getOwnPropertyNames(e).reduce((n,r)=>{const s=e[r];return"metas"in s?n[r]=s.metas.map(i=>(i.presence_ref=i.phx_ref,delete i.phx_ref,delete i.phx_ref_prev,i)):n[r]=s,n},{})}static cloneDeep(e){return JSON.parse(JSON.stringify(e))}onJoin(e){this.caller.onJoin=e}onLeave(e){this.caller.onLeave=e}onSync(e){this.caller.onSync=e}inPendingSyncState(){return!this.joinRef||this.joinRef!==this.channel._joinRef()}}var Ru;(function(t){t.ALL="*",t.INSERT="INSERT",t.UPDATE="UPDATE",t.DELETE="DELETE"})(Ru||(Ru={}));var Cr;(function(t){t.BROADCAST="broadcast",t.PRESENCE="presence",t.POSTGRES_CHANGES="postgres_changes",t.SYSTEM="system"})(Cr||(Cr={}));var ct;(function(t){t.SUBSCRIBED="SUBSCRIBED",t.TIMED_OUT="TIMED_OUT",t.CLOSED="CLOSED",t.CHANNEL_ERROR="CHANNEL_ERROR"})(ct||(ct={}));class pl{constructor(e,n={config:{}},r){this.topic=e,this.params=n,this.socket=r,this.bindings={},this.state=se.closed,this.joinedOnce=!1,this.pushBuffer=[],this.subTopic=e.replace(/^realtime:/i,""),this.params.config=Object.assign({broadcast:{ack:!1,self:!1},presence:{key:"",enabled:!1},private:!1},n.config),this.timeout=this.socket.timeout,this.joinPush=new io(this,Je.join,this.params,this.timeout),this.rejoinTimer=new _h(()=>this._rejoinUntilConnected(),this.socket.reconnectAfterMs),this.joinPush.receive("ok",()=>{this.state=se.joined,this.rejoinTimer.reset(),this.pushBuffer.forEach(s=>s.send()),this.pushBuffer=[]}),this._onClose(()=>{this.rejoinTimer.reset(),this.socket.log("channel",`close ${this.topic} ${this._joinRef()}`),this.state=se.closed,this.socket._remove(this)}),this._onError(s=>{this._isLeaving()||this._isClosed()||(this.socket.log("channel",`error ${this.topic}`,s),this.state=se.errored,this.rejoinTimer.scheduleTimeout())}),this.joinPush.receive("timeout",()=>{this._isJoining()&&(this.socket.log("channel",`timeout ${this.topic}`,this.joinPush.timeout),this.state=se.errored,this.rejoinTimer.scheduleTimeout())}),this.joinPush.receive("error",s=>{this._isLeaving()||this._isClosed()||(this.socket.log("channel",`error ${this.topic}`,s),this.state=se.errored,this.rejoinTimer.scheduleTimeout())}),this._on(Je.reply,{},(s,i)=>{this._trigger(this._replyEventName(i),s)}),this.presence=new Er(this),this.broadcastEndpointURL=Sh(this.socket.endPoint),this.private=this.params.config.private||!1}subscribe(e,n=this.timeout){var r,s;if(this.socket.isConnected()||this.socket.connect(),this.state==se.closed){const{config:{broadcast:i,presence:o,private:a}}=this.params,l=(s=(r=this.bindings.postgres_changes)===null||r===void 0?void 0:r.map(m=>m.filter))!==null&&s!==void 0?s:[],c=!!this.bindings[Cr.PRESENCE]&&this.bindings[Cr.PRESENCE].length>0,d={},f={broadcast:i,presence:Object.assign(Object.assign({},o),{enabled:c}),postgres_changes:l,private:a};this.socket.accessTokenValue&&(d.access_token=this.socket.accessTokenValue),this._onError(m=>e==null?void 0:e(ct.CHANNEL_ERROR,m)),this._onClose(()=>e==null?void 0:e(ct.CLOSED)),this.updateJoinPayload(Object.assign({config:f},d)),this.joinedOnce=!0,this._rejoin(n),this.joinPush.receive("ok",async({postgres_changes:m})=>{var y;if(this.socket.setAuth(),m===void 0){e==null||e(ct.SUBSCRIBED);return}else{const x=this.bindings.postgres_changes,v=(y=x==null?void 0:x.length)!==null&&y!==void 0?y:0,k=[];for(let g=0;g<v;g++){const p=x[g],{filter:{event:h,schema:w,table:_,filter:S}}=p,b=m&&m[g];if(b&&b.event===h&&b.schema===w&&b.table===_&&b.filter===S)k.push(Object.assign(Object.assign({},p),{id:b.id}));else{this.unsubscribe(),this.state=se.errored,e==null||e(ct.CHANNEL_ERROR,new Error("mismatch between server and client bindings for postgres changes"));return}}this.bindings.postgres_changes=k,e&&e(ct.SUBSCRIBED);return}}).receive("error",m=>{this.state=se.errored,e==null||e(ct.CHANNEL_ERROR,new Error(JSON.stringify(Object.values(m).join(", ")||"error")))}).receive("timeout",()=>{e==null||e(ct.TIMED_OUT)})}return this}presenceState(){return this.presence.state}async track(e,n={}){return await this.send({type:"presence",event:"track",payload:e},n.timeout||this.timeout)}async untrack(e={}){return await this.send({type:"presence",event:"untrack"},e)}on(e,n,r){return this.state===se.joined&&e===Cr.PRESENCE&&(this.socket.log("channel",`resubscribe to ${this.topic} due to change in presence callbacks on joined channel`),this.unsubscribe().then(()=>this.subscribe())),this._on(e,n,r)}async send(e,n={}){var r,s;if(!this._canPush()&&e.type==="broadcast"){const{event:i,payload:o}=e,l={method:"POST",headers:{Authorization:this.socket.accessTokenValue?`Bearer ${this.socket.accessTokenValue}`:"",apikey:this.socket.apiKey?this.socket.apiKey:"","Content-Type":"application/json"},body:JSON.stringify({messages:[{topic:this.subTopic,event:i,payload:o,private:this.private}]})};try{const c=await this._fetchWithTimeout(this.broadcastEndpointURL,l,(r=n.timeout)!==null&&r!==void 0?r:this.timeout);return await((s=c.body)===null||s===void 0?void 0:s.cancel()),c.ok?"ok":"error"}catch(c){return c.name==="AbortError"?"timed out":"error"}}else return new Promise(i=>{var o,a,l;const c=this._push(e.type,e,n.timeout||this.timeout);e.type==="broadcast"&&!(!((l=(a=(o=this.params)===null||o===void 0?void 0:o.config)===null||a===void 0?void 0:a.broadcast)===null||l===void 0)&&l.ack)&&i("ok"),c.receive("ok",()=>i("ok")),c.receive("error",()=>i("error")),c.receive("timeout",()=>i("timed out"))})}updateJoinPayload(e){this.joinPush.updatePayload(e)}unsubscribe(e=this.timeout){this.state=se.leaving;const n=()=>{this.socket.log("channel",`leave ${this.topic}`),this._trigger(Je.close,"leave",this._joinRef())};this.joinPush.destroy();let r=null;return new Promise(s=>{r=new io(this,Je.leave,{},e),r.receive("ok",()=>{n(),s("ok")}).receive("timeout",()=>{n(),s("timed out")}).receive("error",()=>{s("error")}),r.send(),this._canPush()||r.trigger("ok",{})}).finally(()=>{r==null||r.destroy()})}teardown(){this.pushBuffer.forEach(e=>e.destroy()),this.pushBuffer=[],this.rejoinTimer.reset(),this.joinPush.destroy(),this.state=se.closed,this.bindings={}}async _fetchWithTimeout(e,n,r){const s=new AbortController,i=setTimeout(()=>s.abort(),r),o=await this.socket.fetch(e,Object.assign(Object.assign({},n),{signal:s.signal}));return clearTimeout(i),o}_push(e,n,r=this.timeout){if(!this.joinedOnce)throw`tried to push '${e}' to '${this.topic}' before joining. Use channel.subscribe() before pushing events`;let s=new io(this,e,n,r);return this._canPush()?s.send():this._addToPushBuffer(s),s}_addToPushBuffer(e){if(e.startTimeout(),this.pushBuffer.push(e),this.pushBuffer.length>Jm){const n=this.pushBuffer.shift();n&&(n.destroy(),this.socket.log("channel",`discarded push due to buffer overflow: ${n.event}`,n.payload))}}_onMessage(e,n,r){return n}_isMember(e){return this.topic===e}_joinRef(){return this.joinPush.ref}_trigger(e,n,r){var s,i;const o=e.toLocaleLowerCase(),{close:a,error:l,leave:c,join:d}=Je;if(r&&[a,l,c,d].indexOf(o)>=0&&r!==this._joinRef())return;let m=this._onMessage(o,n,r);if(n&&!m)throw"channel onMessage callbacks must return the payload, modified or unmodified";["insert","update","delete"].includes(o)?(s=this.bindings.postgres_changes)===null||s===void 0||s.filter(y=>{var x,v,k;return((x=y.filter)===null||x===void 0?void 0:x.event)==="*"||((k=(v=y.filter)===null||v===void 0?void 0:v.event)===null||k===void 0?void 0:k.toLocaleLowerCase())===o}).map(y=>y.callback(m,r)):(i=this.bindings[o])===null||i===void 0||i.filter(y=>{var x,v,k,g,p,h;if(["broadcast","presence","postgres_changes"].includes(o))if("id"in y){const w=y.id,_=(x=y.filter)===null||x===void 0?void 0:x.event;return w&&((v=n.ids)===null||v===void 0?void 0:v.includes(w))&&(_==="*"||(_==null?void 0:_.toLocaleLowerCase())===((k=n.data)===null||k===void 0?void 0:k.type.toLocaleLowerCase()))}else{const w=(p=(g=y==null?void 0:y.filter)===null||g===void 0?void 0:g.event)===null||p===void 0?void 0:p.toLocaleLowerCase();return w==="*"||w===((h=n==null?void 0:n.event)===null||h===void 0?void 0:h.toLocaleLowerCase())}else return y.type.toLocaleLowerCase()===o}).map(y=>{if(typeof m=="object"&&"ids"in m){const x=m.data,{schema:v,table:k,commit_timestamp:g,type:p,errors:h}=x;m=Object.assign(Object.assign({},{schema:v,table:k,commit_timestamp:g,eventType:p,new:{},old:{},errors:h}),this._getPayloadRecords(x))}y.callback(m,r)})}_isClosed(){return this.state===se.closed}_isJoined(){return this.state===se.joined}_isJoining(){return this.state===se.joining}_isLeaving(){return this.state===se.leaving}_replyEventName(e){return`chan_reply_${e}`}_on(e,n,r){const s=e.toLocaleLowerCase(),i={type:s,filter:n,callback:r};return this.bindings[s]?this.bindings[s].push(i):this.bindings[s]=[i],this}_off(e,n){const r=e.toLocaleLowerCase();return this.bindings[r]&&(this.bindings[r]=this.bindings[r].filter(s=>{var i;return!(((i=s.type)===null||i===void 0?void 0:i.toLocaleLowerCase())===r&&pl.isEqual(s.filter,n))})),this}static isEqual(e,n){if(Object.keys(e).length!==Object.keys(n).length)return!1;for(const r in e)if(e[r]!==n[r])return!1;return!0}_rejoinUntilConnected(){this.rejoinTimer.scheduleTimeout(),this.socket.isConnected()&&this._rejoin()}_onClose(e){this._on(Je.close,{},e)}_onError(e){this._on(Je.error,{},n=>e(n))}_canPush(){return this.socket.isConnected()&&this._isJoined()}_rejoin(e=this.timeout){this._isLeaving()||(this.socket._leaveOpenTopic(this.topic),this.state=se.joining,this.joinPush.resend(e))}_getPayloadRecords(e){const n={new:{},old:{}};return(e.type==="INSERT"||e.type==="UPDATE")&&(n.new=Ou(e.columns,e.record)),(e.type==="UPDATE"||e.type==="DELETE")&&(n.old=Ou(e.columns,e.old_record)),n}}const $u=()=>{},xs={HEARTBEAT_INTERVAL:25e3,RECONNECT_DELAY:10,HEARTBEAT_TIMEOUT_FALLBACK:100},sg=[1e3,2e3,5e3,1e4],ig=1e4,og=`
  addEventListener("message", (e) => {
    if (e.data.event === "start") {
      setInterval(() => postMessage({ event: "keepAlive" }), e.data.interval);
    }
  });`;class ag{constructor(e,n){var r;if(this.accessTokenValue=null,this.apiKey=null,this.channels=new Array,this.endPoint="",this.httpEndpoint="",this.headers={},this.params={},this.timeout=aa,this.transport=null,this.heartbeatIntervalMs=xs.HEARTBEAT_INTERVAL,this.heartbeatTimer=void 0,this.pendingHeartbeatRef=null,this.heartbeatCallback=$u,this.ref=0,this.reconnectTimer=null,this.logger=$u,this.conn=null,this.sendBuffer=[],this.serializer=new Ym,this.stateChangeCallbacks={open:[],close:[],error:[],message:[]},this.accessToken=null,this._connectionState="disconnected",this._wasManualDisconnect=!1,this._authPromise=null,this._resolveFetch=s=>{let i;return s?i=s:typeof fetch>"u"?i=(...o)=>es(async()=>{const{default:a}=await Promise.resolve().then(()=>Zn);return{default:a}},void 0).then(({default:a})=>a(...o)).catch(a=>{throw new Error(`Failed to load @supabase/node-fetch: ${a.message}. This is required for HTTP requests in Node.js environments without native fetch.`)}):i=fetch,(...o)=>i(...o)},!(!((r=n==null?void 0:n.params)===null||r===void 0)&&r.apikey))throw new Error("API key is required to connect to Realtime");this.apiKey=n.params.apikey,this.endPoint=`${e}/${la.websocket}`,this.httpEndpoint=Sh(e),this._initializeOptions(n),this._setupReconnectionTimer(),this.fetch=this._resolveFetch(n==null?void 0:n.fetch)}connect(){if(!(this.isConnecting()||this.isDisconnecting()||this.conn!==null&&this.isConnected())){if(this._setConnectionState("connecting"),this._setAuthSafely("connect"),this.transport)this.conn=new this.transport(this.endpointURL());else try{this.conn=Vm.createWebSocket(this.endpointURL())}catch(e){throw this._setConnectionState("disconnected"),new Error(`WebSocket not available: ${e.message}`)}this._setupConnectionHandlers()}}endpointURL(){return this._appendParams(this.endPoint,Object.assign({},this.params,{vsn:Gm}))}disconnect(e,n){if(!this.isDisconnecting())if(this._setConnectionState("disconnecting",!0),this.conn){const r=setTimeout(()=>{this._setConnectionState("disconnected")},100);this.conn.onclose=()=>{clearTimeout(r),this._setConnectionState("disconnected")},e?this.conn.close(e,n??""):this.conn.close(),this._teardownConnection()}else this._setConnectionState("disconnected")}getChannels(){return this.channels}async removeChannel(e){const n=await e.unsubscribe();return this.channels.length===0&&this.disconnect(),n}async removeAllChannels(){const e=await Promise.all(this.channels.map(n=>n.unsubscribe()));return this.channels=[],this.disconnect(),e}log(e,n,r){this.logger(e,n,r)}connectionState(){switch(this.conn&&this.conn.readyState){case Nr.connecting:return en.Connecting;case Nr.open:return en.Open;case Nr.closing:return en.Closing;default:return en.Closed}}isConnected(){return this.connectionState()===en.Open}isConnecting(){return this._connectionState==="connecting"}isDisconnecting(){return this._connectionState==="disconnecting"}channel(e,n={config:{}}){const r=`realtime:${e}`,s=this.getChannels().find(i=>i.topic===r);if(s)return s;{const i=new pl(`realtime:${e}`,n,this);return this.channels.push(i),i}}push(e){const{topic:n,event:r,payload:s,ref:i}=e,o=()=>{this.encode(e,a=>{var l;(l=this.conn)===null||l===void 0||l.send(a)})};this.log("push",`${n} ${r} (${i})`,s),this.isConnected()?o():this.sendBuffer.push(o)}async setAuth(e=null){this._authPromise=this._performAuth(e);try{await this._authPromise}finally{this._authPromise=null}}async sendHeartbeat(){var e;if(!this.isConnected()){this.heartbeatCallback("disconnected");return}if(this.pendingHeartbeatRef){this.pendingHeartbeatRef=null,this.log("transport","heartbeat timeout. Attempting to re-establish connection"),this.heartbeatCallback("timeout"),this._wasManualDisconnect=!1,(e=this.conn)===null||e===void 0||e.close(Qm,"heartbeat timeout"),setTimeout(()=>{var n;this.isConnected()||(n=this.reconnectTimer)===null||n===void 0||n.scheduleTimeout()},xs.HEARTBEAT_TIMEOUT_FALLBACK);return}this.pendingHeartbeatRef=this._makeRef(),this.push({topic:"phoenix",event:"heartbeat",payload:{},ref:this.pendingHeartbeatRef}),this.heartbeatCallback("sent"),this._setAuthSafely("heartbeat")}onHeartbeat(e){this.heartbeatCallback=e}flushSendBuffer(){this.isConnected()&&this.sendBuffer.length>0&&(this.sendBuffer.forEach(e=>e()),this.sendBuffer=[])}_makeRef(){let e=this.ref+1;return e===this.ref?this.ref=0:this.ref=e,this.ref.toString()}_leaveOpenTopic(e){let n=this.channels.find(r=>r.topic===e&&(r._isJoined()||r._isJoining()));n&&(this.log("transport",`leaving duplicate topic "${e}"`),n.unsubscribe())}_remove(e){this.channels=this.channels.filter(n=>n.topic!==e.topic)}_onConnMessage(e){this.decode(e.data,n=>{n.topic==="phoenix"&&n.event==="phx_reply"&&this.heartbeatCallback(n.payload.status==="ok"?"ok":"error"),n.ref&&n.ref===this.pendingHeartbeatRef&&(this.pendingHeartbeatRef=null);const{topic:r,event:s,payload:i,ref:o}=n,a=o?`(${o})`:"",l=i.status||"";this.log("receive",`${l} ${r} ${s} ${a}`.trim(),i),this.channels.filter(c=>c._isMember(r)).forEach(c=>c._trigger(s,i,o)),this._triggerStateCallbacks("message",n)})}_clearTimer(e){var n;e==="heartbeat"&&this.heartbeatTimer?(clearInterval(this.heartbeatTimer),this.heartbeatTimer=void 0):e==="reconnect"&&((n=this.reconnectTimer)===null||n===void 0||n.reset())}_clearAllTimers(){this._clearTimer("heartbeat"),this._clearTimer("reconnect")}_setupConnectionHandlers(){this.conn&&("binaryType"in this.conn&&(this.conn.binaryType="arraybuffer"),this.conn.onopen=()=>this._onConnOpen(),this.conn.onerror=e=>this._onConnError(e),this.conn.onmessage=e=>this._onConnMessage(e),this.conn.onclose=e=>this._onConnClose(e))}_teardownConnection(){this.conn&&(this.conn.onopen=null,this.conn.onerror=null,this.conn.onmessage=null,this.conn.onclose=null,this.conn=null),this._clearAllTimers(),this.channels.forEach(e=>e.teardown())}_onConnOpen(){this._setConnectionState("connected"),this.log("transport",`connected to ${this.endpointURL()}`),this.flushSendBuffer(),this._clearTimer("reconnect"),this.worker?this.workerRef||this._startWorkerHeartbeat():this._startHeartbeat(),this._triggerStateCallbacks("open")}_startHeartbeat(){this.heartbeatTimer&&clearInterval(this.heartbeatTimer),this.heartbeatTimer=setInterval(()=>this.sendHeartbeat(),this.heartbeatIntervalMs)}_startWorkerHeartbeat(){this.workerUrl?this.log("worker",`starting worker for from ${this.workerUrl}`):this.log("worker","starting default worker");const e=this._workerObjectUrl(this.workerUrl);this.workerRef=new Worker(e),this.workerRef.onerror=n=>{this.log("worker","worker error",n.message),this.workerRef.terminate()},this.workerRef.onmessage=n=>{n.data.event==="keepAlive"&&this.sendHeartbeat()},this.workerRef.postMessage({event:"start",interval:this.heartbeatIntervalMs})}_onConnClose(e){var n;this._setConnectionState("disconnected"),this.log("transport","close",e),this._triggerChanError(),this._clearTimer("heartbeat"),this._wasManualDisconnect||(n=this.reconnectTimer)===null||n===void 0||n.scheduleTimeout(),this._triggerStateCallbacks("close",e)}_onConnError(e){this._setConnectionState("disconnected"),this.log("transport",`${e}`),this._triggerChanError(),this._triggerStateCallbacks("error",e)}_triggerChanError(){this.channels.forEach(e=>e._trigger(Je.error))}_appendParams(e,n){if(Object.keys(n).length===0)return e;const r=e.match(/\?/)?"&":"?",s=new URLSearchParams(n);return`${e}${r}${s}`}_workerObjectUrl(e){let n;if(e)n=e;else{const r=new Blob([og],{type:"application/javascript"});n=URL.createObjectURL(r)}return n}_setConnectionState(e,n=!1){this._connectionState=e,e==="connecting"?this._wasManualDisconnect=!1:e==="disconnecting"&&(this._wasManualDisconnect=n)}async _performAuth(e=null){let n;e?n=e:this.accessToken?n=await this.accessToken():n=this.accessTokenValue,this.accessTokenValue!=n&&(this.accessTokenValue=n,this.channels.forEach(r=>{const s={access_token:n,version:Km};n&&r.updateJoinPayload(s),r.joinedOnce&&r._isJoined()&&r._push(Je.access_token,{access_token:n})}))}async _waitForAuthIfNeeded(){this._authPromise&&await this._authPromise}_setAuthSafely(e="general"){this.setAuth().catch(n=>{this.log("error",`error setting auth in ${e}`,n)})}_triggerStateCallbacks(e,n){try{this.stateChangeCallbacks[e].forEach(r=>{try{r(n)}catch(s){this.log("error",`error in ${e} callback`,s)}})}catch(r){this.log("error",`error triggering ${e} callbacks`,r)}}_setupReconnectionTimer(){this.reconnectTimer=new _h(async()=>{setTimeout(async()=>{await this._waitForAuthIfNeeded(),this.isConnected()||this.connect()},xs.RECONNECT_DELAY)},this.reconnectAfterMs)}_initializeOptions(e){var n,r,s,i,o,a,l,c;if(this.transport=(n=e==null?void 0:e.transport)!==null&&n!==void 0?n:null,this.timeout=(r=e==null?void 0:e.timeout)!==null&&r!==void 0?r:aa,this.heartbeatIntervalMs=(s=e==null?void 0:e.heartbeatIntervalMs)!==null&&s!==void 0?s:xs.HEARTBEAT_INTERVAL,this.worker=(i=e==null?void 0:e.worker)!==null&&i!==void 0?i:!1,this.accessToken=(o=e==null?void 0:e.accessToken)!==null&&o!==void 0?o:null,e!=null&&e.params&&(this.params=e.params),e!=null&&e.logger&&(this.logger=e.logger),(e!=null&&e.logLevel||e!=null&&e.log_level)&&(this.logLevel=e.logLevel||e.log_level,this.params=Object.assign(Object.assign({},this.params),{log_level:this.logLevel})),this.reconnectAfterMs=(a=e==null?void 0:e.reconnectAfterMs)!==null&&a!==void 0?a:d=>sg[d-1]||ig,this.encode=(l=e==null?void 0:e.encode)!==null&&l!==void 0?l:(d,f)=>f(JSON.stringify(d)),this.decode=(c=e==null?void 0:e.decode)!==null&&c!==void 0?c:this.serializer.decode.bind(this.serializer),this.worker){if(typeof window<"u"&&!window.Worker)throw new Error("Web Worker is not supported");this.workerUrl=e==null?void 0:e.workerUrl}}}class ml extends Error{constructor(e){super(e),this.__isStorageError=!0,this.name="StorageError"}}function ae(t){return typeof t=="object"&&t!==null&&"__isStorageError"in t}class lg extends ml{constructor(e,n,r){super(e),this.name="StorageApiError",this.status=n,this.statusCode=r}toJSON(){return{name:this.name,message:this.message,status:this.status,statusCode:this.statusCode}}}class ca extends ml{constructor(e,n){super(e),this.name="StorageUnknownError",this.originalError=n}}var ug=function(t,e,n,r){function s(i){return i instanceof n?i:new n(function(o){o(i)})}return new(n||(n=Promise))(function(i,o){function a(d){try{c(r.next(d))}catch(f){o(f)}}function l(d){try{c(r.throw(d))}catch(f){o(f)}}function c(d){d.done?i(d.value):s(d.value).then(a,l)}c((r=r.apply(t,e||[])).next())})};const bh=t=>{let e;return t?e=t:typeof fetch>"u"?e=(...n)=>es(async()=>{const{default:r}=await Promise.resolve().then(()=>Zn);return{default:r}},void 0).then(({default:r})=>r(...n)):e=fetch,(...n)=>e(...n)},cg=()=>ug(void 0,void 0,void 0,function*(){return typeof Response>"u"?(yield es(()=>Promise.resolve().then(()=>Zn),void 0)).Response:Response}),da=t=>{if(Array.isArray(t))return t.map(n=>da(n));if(typeof t=="function"||t!==Object(t))return t;const e={};return Object.entries(t).forEach(([n,r])=>{const s=n.replace(/([-_][a-z])/gi,i=>i.toUpperCase().replace(/[-_]/g,""));e[s]=da(r)}),e},dg=t=>{if(typeof t!="object"||t===null)return!1;const e=Object.getPrototypeOf(t);return(e===null||e===Object.prototype||Object.getPrototypeOf(e)===null)&&!(Symbol.toStringTag in t)&&!(Symbol.iterator in t)};var pn=function(t,e,n,r){function s(i){return i instanceof n?i:new n(function(o){o(i)})}return new(n||(n=Promise))(function(i,o){function a(d){try{c(r.next(d))}catch(f){o(f)}}function l(d){try{c(r.throw(d))}catch(f){o(f)}}function c(d){d.done?i(d.value):s(d.value).then(a,l)}c((r=r.apply(t,e||[])).next())})};const oo=t=>t.msg||t.message||t.error_description||t.error||JSON.stringify(t),hg=(t,e,n)=>pn(void 0,void 0,void 0,function*(){const r=yield cg();t instanceof r&&!(n!=null&&n.noResolveJson)?t.json().then(s=>{const i=t.status||500,o=(s==null?void 0:s.statusCode)||i+"";e(new lg(oo(s),i,o))}).catch(s=>{e(new ca(oo(s),s))}):e(new ca(oo(t),t))}),fg=(t,e,n,r)=>{const s={method:t,headers:(e==null?void 0:e.headers)||{}};return t==="GET"||!r?s:(dg(r)?(s.headers=Object.assign({"Content-Type":"application/json"},e==null?void 0:e.headers),s.body=JSON.stringify(r)):s.body=r,Object.assign(Object.assign({},s),n))};function ns(t,e,n,r,s,i){return pn(this,void 0,void 0,function*(){return new Promise((o,a)=>{t(n,fg(e,r,s,i)).then(l=>{if(!l.ok)throw l;return r!=null&&r.noResolveJson?l:l.json()}).then(l=>o(l)).catch(l=>hg(l,a,r))})})}function ai(t,e,n,r){return pn(this,void 0,void 0,function*(){return ns(t,"GET",e,n,r)})}function dt(t,e,n,r,s){return pn(this,void 0,void 0,function*(){return ns(t,"POST",e,r,s,n)})}function ha(t,e,n,r,s){return pn(this,void 0,void 0,function*(){return ns(t,"PUT",e,r,s,n)})}function pg(t,e,n,r){return pn(this,void 0,void 0,function*(){return ns(t,"HEAD",e,Object.assign(Object.assign({},n),{noResolveJson:!0}),r)})}function jh(t,e,n,r,s){return pn(this,void 0,void 0,function*(){return ns(t,"DELETE",e,r,s,n)})}var Ne=function(t,e,n,r){function s(i){return i instanceof n?i:new n(function(o){o(i)})}return new(n||(n=Promise))(function(i,o){function a(d){try{c(r.next(d))}catch(f){o(f)}}function l(d){try{c(r.throw(d))}catch(f){o(f)}}function c(d){d.done?i(d.value):s(d.value).then(a,l)}c((r=r.apply(t,e||[])).next())})};const mg={limit:100,offset:0,sortBy:{column:"name",order:"asc"}},Lu={cacheControl:"3600",contentType:"text/plain;charset=UTF-8",upsert:!1};class gg{constructor(e,n={},r,s){this.url=e,this.headers=n,this.bucketId=r,this.fetch=bh(s)}uploadOrUpdate(e,n,r,s){return Ne(this,void 0,void 0,function*(){try{let i;const o=Object.assign(Object.assign({},Lu),s);let a=Object.assign(Object.assign({},this.headers),e==="POST"&&{"x-upsert":String(o.upsert)});const l=o.metadata;typeof Blob<"u"&&r instanceof Blob?(i=new FormData,i.append("cacheControl",o.cacheControl),l&&i.append("metadata",this.encodeMetadata(l)),i.append("",r)):typeof FormData<"u"&&r instanceof FormData?(i=r,i.append("cacheControl",o.cacheControl),l&&i.append("metadata",this.encodeMetadata(l))):(i=r,a["cache-control"]=`max-age=${o.cacheControl}`,a["content-type"]=o.contentType,l&&(a["x-metadata"]=this.toBase64(this.encodeMetadata(l)))),s!=null&&s.headers&&(a=Object.assign(Object.assign({},a),s.headers));const c=this._removeEmptyFolders(n),d=this._getFinalPath(c),f=yield(e=="PUT"?ha:dt)(this.fetch,`${this.url}/object/${d}`,i,Object.assign({headers:a},o!=null&&o.duplex?{duplex:o.duplex}:{}));return{data:{path:c,id:f.Id,fullPath:f.Key},error:null}}catch(i){if(ae(i))return{data:null,error:i};throw i}})}upload(e,n,r){return Ne(this,void 0,void 0,function*(){return this.uploadOrUpdate("POST",e,n,r)})}uploadToSignedUrl(e,n,r,s){return Ne(this,void 0,void 0,function*(){const i=this._removeEmptyFolders(e),o=this._getFinalPath(i),a=new URL(this.url+`/object/upload/sign/${o}`);a.searchParams.set("token",n);try{let l;const c=Object.assign({upsert:Lu.upsert},s),d=Object.assign(Object.assign({},this.headers),{"x-upsert":String(c.upsert)});typeof Blob<"u"&&r instanceof Blob?(l=new FormData,l.append("cacheControl",c.cacheControl),l.append("",r)):typeof FormData<"u"&&r instanceof FormData?(l=r,l.append("cacheControl",c.cacheControl)):(l=r,d["cache-control"]=`max-age=${c.cacheControl}`,d["content-type"]=c.contentType);const f=yield ha(this.fetch,a.toString(),l,{headers:d});return{data:{path:i,fullPath:f.Key},error:null}}catch(l){if(ae(l))return{data:null,error:l};throw l}})}createSignedUploadUrl(e,n){return Ne(this,void 0,void 0,function*(){try{let r=this._getFinalPath(e);const s=Object.assign({},this.headers);n!=null&&n.upsert&&(s["x-upsert"]="true");const i=yield dt(this.fetch,`${this.url}/object/upload/sign/${r}`,{},{headers:s}),o=new URL(this.url+i.url),a=o.searchParams.get("token");if(!a)throw new ml("No token returned by API");return{data:{signedUrl:o.toString(),path:e,token:a},error:null}}catch(r){if(ae(r))return{data:null,error:r};throw r}})}update(e,n,r){return Ne(this,void 0,void 0,function*(){return this.uploadOrUpdate("PUT",e,n,r)})}move(e,n,r){return Ne(this,void 0,void 0,function*(){try{return{data:yield dt(this.fetch,`${this.url}/object/move`,{bucketId:this.bucketId,sourceKey:e,destinationKey:n,destinationBucket:r==null?void 0:r.destinationBucket},{headers:this.headers}),error:null}}catch(s){if(ae(s))return{data:null,error:s};throw s}})}copy(e,n,r){return Ne(this,void 0,void 0,function*(){try{return{data:{path:(yield dt(this.fetch,`${this.url}/object/copy`,{bucketId:this.bucketId,sourceKey:e,destinationKey:n,destinationBucket:r==null?void 0:r.destinationBucket},{headers:this.headers})).Key},error:null}}catch(s){if(ae(s))return{data:null,error:s};throw s}})}createSignedUrl(e,n,r){return Ne(this,void 0,void 0,function*(){try{let s=this._getFinalPath(e),i=yield dt(this.fetch,`${this.url}/object/sign/${s}`,Object.assign({expiresIn:n},r!=null&&r.transform?{transform:r.transform}:{}),{headers:this.headers});const o=r!=null&&r.download?`&download=${r.download===!0?"":r.download}`:"";return i={signedUrl:encodeURI(`${this.url}${i.signedURL}${o}`)},{data:i,error:null}}catch(s){if(ae(s))return{data:null,error:s};throw s}})}createSignedUrls(e,n,r){return Ne(this,void 0,void 0,function*(){try{const s=yield dt(this.fetch,`${this.url}/object/sign/${this.bucketId}`,{expiresIn:n,paths:e},{headers:this.headers}),i=r!=null&&r.download?`&download=${r.download===!0?"":r.download}`:"";return{data:s.map(o=>Object.assign(Object.assign({},o),{signedUrl:o.signedURL?encodeURI(`${this.url}${o.signedURL}${i}`):null})),error:null}}catch(s){if(ae(s))return{data:null,error:s};throw s}})}download(e,n){return Ne(this,void 0,void 0,function*(){const s=typeof(n==null?void 0:n.transform)<"u"?"render/image/authenticated":"object",i=this.transformOptsToQueryString((n==null?void 0:n.transform)||{}),o=i?`?${i}`:"";try{const a=this._getFinalPath(e);return{data:yield(yield ai(this.fetch,`${this.url}/${s}/${a}${o}`,{headers:this.headers,noResolveJson:!0})).blob(),error:null}}catch(a){if(ae(a))return{data:null,error:a};throw a}})}info(e){return Ne(this,void 0,void 0,function*(){const n=this._getFinalPath(e);try{const r=yield ai(this.fetch,`${this.url}/object/info/${n}`,{headers:this.headers});return{data:da(r),error:null}}catch(r){if(ae(r))return{data:null,error:r};throw r}})}exists(e){return Ne(this,void 0,void 0,function*(){const n=this._getFinalPath(e);try{return yield pg(this.fetch,`${this.url}/object/${n}`,{headers:this.headers}),{data:!0,error:null}}catch(r){if(ae(r)&&r instanceof ca){const s=r.originalError;if([400,404].includes(s==null?void 0:s.status))return{data:!1,error:r}}throw r}})}getPublicUrl(e,n){const r=this._getFinalPath(e),s=[],i=n!=null&&n.download?`download=${n.download===!0?"":n.download}`:"";i!==""&&s.push(i);const a=typeof(n==null?void 0:n.transform)<"u"?"render/image":"object",l=this.transformOptsToQueryString((n==null?void 0:n.transform)||{});l!==""&&s.push(l);let c=s.join("&");return c!==""&&(c=`?${c}`),{data:{publicUrl:encodeURI(`${this.url}/${a}/public/${r}${c}`)}}}remove(e){return Ne(this,void 0,void 0,function*(){try{return{data:yield jh(this.fetch,`${this.url}/object/${this.bucketId}`,{prefixes:e},{headers:this.headers}),error:null}}catch(n){if(ae(n))return{data:null,error:n};throw n}})}list(e,n,r){return Ne(this,void 0,void 0,function*(){try{const s=Object.assign(Object.assign(Object.assign({},mg),n),{prefix:e||""});return{data:yield dt(this.fetch,`${this.url}/object/list/${this.bucketId}`,s,{headers:this.headers},r),error:null}}catch(s){if(ae(s))return{data:null,error:s};throw s}})}encodeMetadata(e){return JSON.stringify(e)}toBase64(e){return typeof Buffer<"u"?Buffer.from(e).toString("base64"):btoa(e)}_getFinalPath(e){return`${this.bucketId}/${e.replace(/^\/+/,"")}`}_removeEmptyFolders(e){return e.replace(/^\/|\/$/g,"").replace(/\/+/g,"/")}transformOptsToQueryString(e){const n=[];return e.width&&n.push(`width=${e.width}`),e.height&&n.push(`height=${e.height}`),e.resize&&n.push(`resize=${e.resize}`),e.format&&n.push(`format=${e.format}`),e.quality&&n.push(`quality=${e.quality}`),n.join("&")}}const vg="2.10.4",yg={"X-Client-Info":`storage-js/${vg}`};var gn=function(t,e,n,r){function s(i){return i instanceof n?i:new n(function(o){o(i)})}return new(n||(n=Promise))(function(i,o){function a(d){try{c(r.next(d))}catch(f){o(f)}}function l(d){try{c(r.throw(d))}catch(f){o(f)}}function c(d){d.done?i(d.value):s(d.value).then(a,l)}c((r=r.apply(t,e||[])).next())})};class wg{constructor(e,n={},r,s){const i=new URL(e);s!=null&&s.useNewHostname&&/supabase\.(co|in|red)$/.test(i.hostname)&&!i.hostname.includes("storage.supabase.")&&(i.hostname=i.hostname.replace("supabase.","storage.supabase.")),this.url=i.href,this.headers=Object.assign(Object.assign({},yg),n),this.fetch=bh(r)}listBuckets(){return gn(this,void 0,void 0,function*(){try{return{data:yield ai(this.fetch,`${this.url}/bucket`,{headers:this.headers}),error:null}}catch(e){if(ae(e))return{data:null,error:e};throw e}})}getBucket(e){return gn(this,void 0,void 0,function*(){try{return{data:yield ai(this.fetch,`${this.url}/bucket/${e}`,{headers:this.headers}),error:null}}catch(n){if(ae(n))return{data:null,error:n};throw n}})}createBucket(e,n={public:!1}){return gn(this,void 0,void 0,function*(){try{return{data:yield dt(this.fetch,`${this.url}/bucket`,{id:e,name:e,type:n.type,public:n.public,file_size_limit:n.fileSizeLimit,allowed_mime_types:n.allowedMimeTypes},{headers:this.headers}),error:null}}catch(r){if(ae(r))return{data:null,error:r};throw r}})}updateBucket(e,n){return gn(this,void 0,void 0,function*(){try{return{data:yield ha(this.fetch,`${this.url}/bucket/${e}`,{id:e,name:e,public:n.public,file_size_limit:n.fileSizeLimit,allowed_mime_types:n.allowedMimeTypes},{headers:this.headers}),error:null}}catch(r){if(ae(r))return{data:null,error:r};throw r}})}emptyBucket(e){return gn(this,void 0,void 0,function*(){try{return{data:yield dt(this.fetch,`${this.url}/bucket/${e}/empty`,{},{headers:this.headers}),error:null}}catch(n){if(ae(n))return{data:null,error:n};throw n}})}deleteBucket(e){return gn(this,void 0,void 0,function*(){try{return{data:yield jh(this.fetch,`${this.url}/bucket/${e}`,{},{headers:this.headers}),error:null}}catch(n){if(ae(n))return{data:null,error:n};throw n}})}}class xg extends wg{constructor(e,n={},r,s){super(e,n,r,s)}from(e){return new gg(this.url,this.headers,e,this.fetch)}}const _g="2.54.0";let mr="";typeof Deno<"u"?mr="deno":typeof document<"u"?mr="web":typeof navigator<"u"&&navigator.product==="ReactNative"?mr="react-native":mr="node";const kg={"X-Client-Info":`supabase-js-${mr}/${_g}`},Sg={headers:kg},bg={schema:"public"},jg={autoRefreshToken:!0,persistSession:!0,detectSessionInUrl:!0,flowType:"implicit"},Ng={};var Eg=function(t,e,n,r){function s(i){return i instanceof n?i:new n(function(o){o(i)})}return new(n||(n=Promise))(function(i,o){function a(d){try{c(r.next(d))}catch(f){o(f)}}function l(d){try{c(r.throw(d))}catch(f){o(f)}}function c(d){d.done?i(d.value):s(d.value).then(a,l)}c((r=r.apply(t,e||[])).next())})};const Cg=t=>{let e;return t?e=t:typeof fetch>"u"?e=ch:e=fetch,(...n)=>e(...n)},Tg=()=>typeof Headers>"u"?dh:Headers,Pg=(t,e,n)=>{const r=Cg(n),s=Tg();return(i,o)=>Eg(void 0,void 0,void 0,function*(){var a;const l=(a=yield e())!==null&&a!==void 0?a:t;let c=new s(o==null?void 0:o.headers);return c.has("apikey")||c.set("apikey",t),c.has("Authorization")||c.set("Authorization",`Bearer ${l}`),r(i,Object.assign(Object.assign({},o),{headers:c}))})};var Og=function(t,e,n,r){function s(i){return i instanceof n?i:new n(function(o){o(i)})}return new(n||(n=Promise))(function(i,o){function a(d){try{c(r.next(d))}catch(f){o(f)}}function l(d){try{c(r.throw(d))}catch(f){o(f)}}function c(d){d.done?i(d.value):s(d.value).then(a,l)}c((r=r.apply(t,e||[])).next())})};function Ag(t){return t.endsWith("/")?t:t+"/"}function Rg(t,e){var n,r;const{db:s,auth:i,realtime:o,global:a}=t,{db:l,auth:c,realtime:d,global:f}=e,m={db:Object.assign(Object.assign({},l),s),auth:Object.assign(Object.assign({},c),i),realtime:Object.assign(Object.assign({},d),o),storage:{},global:Object.assign(Object.assign(Object.assign({},f),a),{headers:Object.assign(Object.assign({},(n=f==null?void 0:f.headers)!==null&&n!==void 0?n:{}),(r=a==null?void 0:a.headers)!==null&&r!==void 0?r:{})}),accessToken:()=>Og(this,void 0,void 0,function*(){return""})};return t.accessToken?m.accessToken=t.accessToken:delete m.accessToken,m}const Nh="2.71.1",_n=30*1e3,fa=3,ao=fa*_n,$g="http://localhost:9999",Lg="supabase.auth.token",Ig={"X-Client-Info":`gotrue-js/${Nh}`},pa="X-Supabase-Api-Version",Eh={"2024-01-01":{timestamp:Date.parse("2024-01-01T00:00:00.0Z"),name:"2024-01-01"}},Dg=/^([a-z0-9_-]{4})*($|[a-z0-9_-]{3}$|[a-z0-9_-]{2}$)$/i,Ug=10*60*1e3;class gl extends Error{constructor(e,n,r){super(e),this.__isAuthError=!0,this.name="AuthError",this.status=n,this.code=r}}function I(t){return typeof t=="object"&&t!==null&&"__isAuthError"in t}class Mg extends gl{constructor(e,n,r){super(e,n,r),this.name="AuthApiError",this.status=n,this.code=r}}function zg(t){return I(t)&&t.name==="AuthApiError"}class Ch extends gl{constructor(e,n){super(e),this.name="AuthUnknownError",this.originalError=n}}class Kt extends gl{constructor(e,n,r,s){super(e,r,s),this.name=n,this.status=r}}class jt extends Kt{constructor(){super("Auth session missing!","AuthSessionMissingError",400,void 0)}}function Fg(t){return I(t)&&t.name==="AuthSessionMissingError"}class _s extends Kt{constructor(){super("Auth session or user missing","AuthInvalidTokenResponseError",500,void 0)}}class ks extends Kt{constructor(e){super(e,"AuthInvalidCredentialsError",400,void 0)}}class Ss extends Kt{constructor(e,n=null){super(e,"AuthImplicitGrantRedirectError",500,void 0),this.details=null,this.details=n}toJSON(){return{name:this.name,message:this.message,status:this.status,details:this.details}}}function Bg(t){return I(t)&&t.name==="AuthImplicitGrantRedirectError"}class Iu extends Kt{constructor(e,n=null){super(e,"AuthPKCEGrantCodeExchangeError",500,void 0),this.details=null,this.details=n}toJSON(){return{name:this.name,message:this.message,status:this.status,details:this.details}}}class ma extends Kt{constructor(e,n){super(e,"AuthRetryableFetchError",n,void 0)}}function lo(t){return I(t)&&t.name==="AuthRetryableFetchError"}class Du extends Kt{constructor(e,n,r){super(e,"AuthWeakPasswordError",n,"weak_password"),this.reasons=r}}class ga extends Kt{constructor(e){super(e,"AuthInvalidJwtError",400,"invalid_jwt")}}const li="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-_".split(""),Uu=` 	
\r=`.split(""),Hg=(()=>{const t=new Array(128);for(let e=0;e<t.length;e+=1)t[e]=-1;for(let e=0;e<Uu.length;e+=1)t[Uu[e].charCodeAt(0)]=-2;for(let e=0;e<li.length;e+=1)t[li[e].charCodeAt(0)]=e;return t})();function Mu(t,e,n){if(t!==null)for(e.queue=e.queue<<8|t,e.queuedBits+=8;e.queuedBits>=6;){const r=e.queue>>e.queuedBits-6&63;n(li[r]),e.queuedBits-=6}else if(e.queuedBits>0)for(e.queue=e.queue<<6-e.queuedBits,e.queuedBits=6;e.queuedBits>=6;){const r=e.queue>>e.queuedBits-6&63;n(li[r]),e.queuedBits-=6}}function Th(t,e,n){const r=Hg[t];if(r>-1)for(e.queue=e.queue<<6|r,e.queuedBits+=6;e.queuedBits>=8;)n(e.queue>>e.queuedBits-8&255),e.queuedBits-=8;else{if(r===-2)return;throw new Error(`Invalid Base64-URL character "${String.fromCharCode(t)}"`)}}function zu(t){const e=[],n=o=>{e.push(String.fromCodePoint(o))},r={utf8seq:0,codepoint:0},s={queue:0,queuedBits:0},i=o=>{qg(o,r,n)};for(let o=0;o<t.length;o+=1)Th(t.charCodeAt(o),s,i);return e.join("")}function Wg(t,e){if(t<=127){e(t);return}else if(t<=2047){e(192|t>>6),e(128|t&63);return}else if(t<=65535){e(224|t>>12),e(128|t>>6&63),e(128|t&63);return}else if(t<=1114111){e(240|t>>18),e(128|t>>12&63),e(128|t>>6&63),e(128|t&63);return}throw new Error(`Unrecognized Unicode codepoint: ${t.toString(16)}`)}function Vg(t,e){for(let n=0;n<t.length;n+=1){let r=t.charCodeAt(n);if(r>55295&&r<=56319){const s=(r-55296)*1024&65535;r=(t.charCodeAt(n+1)-56320&65535|s)+65536,n+=1}Wg(r,e)}}function qg(t,e,n){if(e.utf8seq===0){if(t<=127){n(t);return}for(let r=1;r<6;r+=1)if(!(t>>7-r&1)){e.utf8seq=r;break}if(e.utf8seq===2)e.codepoint=t&31;else if(e.utf8seq===3)e.codepoint=t&15;else if(e.utf8seq===4)e.codepoint=t&7;else throw new Error("Invalid UTF-8 sequence");e.utf8seq-=1}else if(e.utf8seq>0){if(t<=127)throw new Error("Invalid UTF-8 sequence");e.codepoint=e.codepoint<<6|t&63,e.utf8seq-=1,e.utf8seq===0&&n(e.codepoint)}}function Kg(t){const e=[],n={queue:0,queuedBits:0},r=s=>{e.push(s)};for(let s=0;s<t.length;s+=1)Th(t.charCodeAt(s),n,r);return new Uint8Array(e)}function Gg(t){const e=[];return Vg(t,n=>e.push(n)),new Uint8Array(e)}function Qg(t){const e=[],n={queue:0,queuedBits:0},r=s=>{e.push(s)};return t.forEach(s=>Mu(s,n,r)),Mu(null,n,r),e.join("")}function Jg(t){return Math.round(Date.now()/1e3)+t}function Yg(){return"xxxxxxxx-xxxx-4xxx-yxxx-xxxxxxxxxxxx".replace(/[xy]/g,function(t){const e=Math.random()*16|0;return(t=="x"?e:e&3|8).toString(16)})}const Ke=()=>typeof window<"u"&&typeof document<"u",Qt={tested:!1,writable:!1},Ph=()=>{if(!Ke())return!1;try{if(typeof globalThis.localStorage!="object")return!1}catch{return!1}if(Qt.tested)return Qt.writable;const t=`lswt-${Math.random()}${Math.random()}`;try{globalThis.localStorage.setItem(t,t),globalThis.localStorage.removeItem(t),Qt.tested=!0,Qt.writable=!0}catch{Qt.tested=!0,Qt.writable=!1}return Qt.writable};function Xg(t){const e={},n=new URL(t);if(n.hash&&n.hash[0]==="#")try{new URLSearchParams(n.hash.substring(1)).forEach((s,i)=>{e[i]=s})}catch{}return n.searchParams.forEach((r,s)=>{e[s]=r}),e}const Oh=t=>{let e;return t?e=t:typeof fetch>"u"?e=(...n)=>es(async()=>{const{default:r}=await Promise.resolve().then(()=>Zn);return{default:r}},void 0).then(({default:r})=>r(...n)):e=fetch,(...n)=>e(...n)},Zg=t=>typeof t=="object"&&t!==null&&"status"in t&&"ok"in t&&"json"in t&&typeof t.json=="function",kn=async(t,e,n)=>{await t.setItem(e,JSON.stringify(n))},Jt=async(t,e)=>{const n=await t.getItem(e);if(!n)return null;try{return JSON.parse(n)}catch{return n}},bt=async(t,e)=>{await t.removeItem(e)};class Ai{constructor(){this.promise=new Ai.promiseConstructor((e,n)=>{this.resolve=e,this.reject=n})}}Ai.promiseConstructor=Promise;function uo(t){const e=t.split(".");if(e.length!==3)throw new ga("Invalid JWT structure");for(let r=0;r<e.length;r++)if(!Dg.test(e[r]))throw new ga("JWT not in base64url format");return{header:JSON.parse(zu(e[0])),payload:JSON.parse(zu(e[1])),signature:Kg(e[2]),raw:{header:e[0],payload:e[1]}}}async function ev(t){return await new Promise(e=>{setTimeout(()=>e(null),t)})}function tv(t,e){return new Promise((r,s)=>{(async()=>{for(let i=0;i<1/0;i++)try{const o=await t(i);if(!e(i,null,o)){r(o);return}}catch(o){if(!e(i,o)){s(o);return}}})()})}function nv(t){return("0"+t.toString(16)).substr(-2)}function rv(){const e=new Uint32Array(56);if(typeof crypto>"u"){const n="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-._~",r=n.length;let s="";for(let i=0;i<56;i++)s+=n.charAt(Math.floor(Math.random()*r));return s}return crypto.getRandomValues(e),Array.from(e,nv).join("")}async function sv(t){const n=new TextEncoder().encode(t),r=await crypto.subtle.digest("SHA-256",n),s=new Uint8Array(r);return Array.from(s).map(i=>String.fromCharCode(i)).join("")}async function iv(t){if(!(typeof crypto<"u"&&typeof crypto.subtle<"u"&&typeof TextEncoder<"u"))return console.warn("WebCrypto API is not supported. Code challenge method will default to use plain instead of sha256."),t;const n=await sv(t);return btoa(n).replace(/\+/g,"-").replace(/\//g,"_").replace(/=+$/,"")}async function vn(t,e,n=!1){const r=rv();let s=r;n&&(s+="/PASSWORD_RECOVERY"),await kn(t,`${e}-code-verifier`,s);const i=await iv(r);return[i,r===i?"plain":"s256"]}const ov=/^2[0-9]{3}-(0[1-9]|1[0-2])-(0[1-9]|1[0-9]|2[0-9]|3[0-1])$/i;function av(t){const e=t.headers.get(pa);if(!e||!e.match(ov))return null;try{return new Date(`${e}T00:00:00.0Z`)}catch{return null}}function lv(t){if(!t)throw new Error("Missing exp claim");const e=Math.floor(Date.now()/1e3);if(t<=e)throw new Error("JWT has expired")}function uv(t){switch(t){case"RS256":return{name:"RSASSA-PKCS1-v1_5",hash:{name:"SHA-256"}};case"ES256":return{name:"ECDSA",namedCurve:"P-256",hash:{name:"SHA-256"}};default:throw new Error("Invalid alg claim")}}const cv=/^[0-9a-f]{8}-[0-9a-f]{4}-[0-9a-f]{4}-[0-9a-f]{4}-[0-9a-f]{12}$/;function yn(t){if(!cv.test(t))throw new Error("@supabase/auth-js: Expected parameter to be UUID but is not")}function co(){const t={};return new Proxy(t,{get:(e,n)=>{if(n==="__isUserNotAvailableProxy")return!0;if(typeof n=="symbol"){const r=n.toString();if(r==="Symbol(Symbol.toPrimitive)"||r==="Symbol(Symbol.toStringTag)"||r==="Symbol(util.inspect.custom)")return}throw new Error(`@supabase/auth-js: client was created with userStorage option and there was no user stored in the user storage. Accessing the "${n}" property of the session object is not supported. Please use getUser() instead.`)},set:(e,n)=>{throw new Error(`@supabase/auth-js: client was created with userStorage option and there was no user stored in the user storage. Setting the "${n}" property of the session object is not supported. Please use getUser() to fetch a user object you can manipulate.`)},deleteProperty:(e,n)=>{throw new Error(`@supabase/auth-js: client was created with userStorage option and there was no user stored in the user storage. Deleting the "${n}" property of the session object is not supported. Please use getUser() to fetch a user object you can manipulate.`)}})}function Fu(t){return JSON.parse(JSON.stringify(t))}var dv=function(t,e){var n={};for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&e.indexOf(r)<0&&(n[r]=t[r]);if(t!=null&&typeof Object.getOwnPropertySymbols=="function")for(var s=0,r=Object.getOwnPropertySymbols(t);s<r.length;s++)e.indexOf(r[s])<0&&Object.prototype.propertyIsEnumerable.call(t,r[s])&&(n[r[s]]=t[r[s]]);return n};const Zt=t=>t.msg||t.message||t.error_description||t.error||JSON.stringify(t),hv=[502,503,504];async function Bu(t){var e;if(!Zg(t))throw new ma(Zt(t),0);if(hv.includes(t.status))throw new ma(Zt(t),t.status);let n;try{n=await t.json()}catch(i){throw new Ch(Zt(i),i)}let r;const s=av(t);if(s&&s.getTime()>=Eh["2024-01-01"].timestamp&&typeof n=="object"&&n&&typeof n.code=="string"?r=n.code:typeof n=="object"&&n&&typeof n.error_code=="string"&&(r=n.error_code),r){if(r==="weak_password")throw new Du(Zt(n),t.status,((e=n.weak_password)===null||e===void 0?void 0:e.reasons)||[]);if(r==="session_not_found")throw new jt}else if(typeof n=="object"&&n&&typeof n.weak_password=="object"&&n.weak_password&&Array.isArray(n.weak_password.reasons)&&n.weak_password.reasons.length&&n.weak_password.reasons.reduce((i,o)=>i&&typeof o=="string",!0))throw new Du(Zt(n),t.status,n.weak_password.reasons);throw new Mg(Zt(n),t.status||500,r)}const fv=(t,e,n,r)=>{const s={method:t,headers:(e==null?void 0:e.headers)||{}};return t==="GET"?s:(s.headers=Object.assign({"Content-Type":"application/json;charset=UTF-8"},e==null?void 0:e.headers),s.body=JSON.stringify(r),Object.assign(Object.assign({},s),n))};async function D(t,e,n,r){var s;const i=Object.assign({},r==null?void 0:r.headers);i[pa]||(i[pa]=Eh["2024-01-01"].name),r!=null&&r.jwt&&(i.Authorization=`Bearer ${r.jwt}`);const o=(s=r==null?void 0:r.query)!==null&&s!==void 0?s:{};r!=null&&r.redirectTo&&(o.redirect_to=r.redirectTo);const a=Object.keys(o).length?"?"+new URLSearchParams(o).toString():"",l=await pv(t,e,n+a,{headers:i,noResolveJson:r==null?void 0:r.noResolveJson},{},r==null?void 0:r.body);return r!=null&&r.xform?r==null?void 0:r.xform(l):{data:Object.assign({},l),error:null}}async function pv(t,e,n,r,s,i){const o=fv(e,r,s,i);let a;try{a=await t(n,Object.assign({},o))}catch(l){throw console.error(l),new ma(Zt(l),0)}if(a.ok||await Bu(a),r!=null&&r.noResolveJson)return a;try{return await a.json()}catch(l){await Bu(l)}}function lt(t){var e;let n=null;yv(t)&&(n=Object.assign({},t),t.expires_at||(n.expires_at=Jg(t.expires_in)));const r=(e=t.user)!==null&&e!==void 0?e:t;return{data:{session:n,user:r},error:null}}function Hu(t){const e=lt(t);return!e.error&&t.weak_password&&typeof t.weak_password=="object"&&Array.isArray(t.weak_password.reasons)&&t.weak_password.reasons.length&&t.weak_password.message&&typeof t.weak_password.message=="string"&&t.weak_password.reasons.reduce((n,r)=>n&&typeof r=="string",!0)&&(e.data.weak_password=t.weak_password),e}function Ot(t){var e;return{data:{user:(e=t.user)!==null&&e!==void 0?e:t},error:null}}function mv(t){return{data:t,error:null}}function gv(t){const{action_link:e,email_otp:n,hashed_token:r,redirect_to:s,verification_type:i}=t,o=dv(t,["action_link","email_otp","hashed_token","redirect_to","verification_type"]),a={action_link:e,email_otp:n,hashed_token:r,redirect_to:s,verification_type:i},l=Object.assign({},o);return{data:{properties:a,user:l},error:null}}function vv(t){return t}function yv(t){return t.access_token&&t.refresh_token&&t.expires_in}const ho=["global","local","others"];var wv=function(t,e){var n={};for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&e.indexOf(r)<0&&(n[r]=t[r]);if(t!=null&&typeof Object.getOwnPropertySymbols=="function")for(var s=0,r=Object.getOwnPropertySymbols(t);s<r.length;s++)e.indexOf(r[s])<0&&Object.prototype.propertyIsEnumerable.call(t,r[s])&&(n[r[s]]=t[r[s]]);return n};class xv{constructor({url:e="",headers:n={},fetch:r}){this.url=e,this.headers=n,this.fetch=Oh(r),this.mfa={listFactors:this._listFactors.bind(this),deleteFactor:this._deleteFactor.bind(this)}}async signOut(e,n=ho[0]){if(ho.indexOf(n)<0)throw new Error(`@supabase/auth-js: Parameter scope must be one of ${ho.join(", ")}`);try{return await D(this.fetch,"POST",`${this.url}/logout?scope=${n}`,{headers:this.headers,jwt:e,noResolveJson:!0}),{data:null,error:null}}catch(r){if(I(r))return{data:null,error:r};throw r}}async inviteUserByEmail(e,n={}){try{return await D(this.fetch,"POST",`${this.url}/invite`,{body:{email:e,data:n.data},headers:this.headers,redirectTo:n.redirectTo,xform:Ot})}catch(r){if(I(r))return{data:{user:null},error:r};throw r}}async generateLink(e){try{const{options:n}=e,r=wv(e,["options"]),s=Object.assign(Object.assign({},r),n);return"newEmail"in r&&(s.new_email=r==null?void 0:r.newEmail,delete s.newEmail),await D(this.fetch,"POST",`${this.url}/admin/generate_link`,{body:s,headers:this.headers,xform:gv,redirectTo:n==null?void 0:n.redirectTo})}catch(n){if(I(n))return{data:{properties:null,user:null},error:n};throw n}}async createUser(e){try{return await D(this.fetch,"POST",`${this.url}/admin/users`,{body:e,headers:this.headers,xform:Ot})}catch(n){if(I(n))return{data:{user:null},error:n};throw n}}async listUsers(e){var n,r,s,i,o,a,l;try{const c={nextPage:null,lastPage:0,total:0},d=await D(this.fetch,"GET",`${this.url}/admin/users`,{headers:this.headers,noResolveJson:!0,query:{page:(r=(n=e==null?void 0:e.page)===null||n===void 0?void 0:n.toString())!==null&&r!==void 0?r:"",per_page:(i=(s=e==null?void 0:e.perPage)===null||s===void 0?void 0:s.toString())!==null&&i!==void 0?i:""},xform:vv});if(d.error)throw d.error;const f=await d.json(),m=(o=d.headers.get("x-total-count"))!==null&&o!==void 0?o:0,y=(l=(a=d.headers.get("link"))===null||a===void 0?void 0:a.split(","))!==null&&l!==void 0?l:[];return y.length>0&&(y.forEach(x=>{const v=parseInt(x.split(";")[0].split("=")[1].substring(0,1)),k=JSON.parse(x.split(";")[1].split("=")[1]);c[`${k}Page`]=v}),c.total=parseInt(m)),{data:Object.assign(Object.assign({},f),c),error:null}}catch(c){if(I(c))return{data:{users:[]},error:c};throw c}}async getUserById(e){yn(e);try{return await D(this.fetch,"GET",`${this.url}/admin/users/${e}`,{headers:this.headers,xform:Ot})}catch(n){if(I(n))return{data:{user:null},error:n};throw n}}async updateUserById(e,n){yn(e);try{return await D(this.fetch,"PUT",`${this.url}/admin/users/${e}`,{body:n,headers:this.headers,xform:Ot})}catch(r){if(I(r))return{data:{user:null},error:r};throw r}}async deleteUser(e,n=!1){yn(e);try{return await D(this.fetch,"DELETE",`${this.url}/admin/users/${e}`,{headers:this.headers,body:{should_soft_delete:n},xform:Ot})}catch(r){if(I(r))return{data:{user:null},error:r};throw r}}async _listFactors(e){yn(e.userId);try{const{data:n,error:r}=await D(this.fetch,"GET",`${this.url}/admin/users/${e.userId}/factors`,{headers:this.headers,xform:s=>({data:{factors:s},error:null})});return{data:n,error:r}}catch(n){if(I(n))return{data:null,error:n};throw n}}async _deleteFactor(e){yn(e.userId),yn(e.id);try{return{data:await D(this.fetch,"DELETE",`${this.url}/admin/users/${e.userId}/factors/${e.id}`,{headers:this.headers}),error:null}}catch(n){if(I(n))return{data:null,error:n};throw n}}}function Wu(t={}){return{getItem:e=>t[e]||null,setItem:(e,n)=>{t[e]=n},removeItem:e=>{delete t[e]}}}function _v(){if(typeof globalThis!="object")try{Object.defineProperty(Object.prototype,"__magic__",{get:function(){return this},configurable:!0}),__magic__.globalThis=__magic__,delete Object.prototype.__magic__}catch{typeof self<"u"&&(self.globalThis=self)}}const wn={debug:!!(globalThis&&Ph()&&globalThis.localStorage&&globalThis.localStorage.getItem("supabase.gotrue-js.locks.debug")==="true")};class Ah extends Error{constructor(e){super(e),this.isAcquireTimeout=!0}}class kv extends Ah{}async function Sv(t,e,n){wn.debug&&console.log("@supabase/gotrue-js: navigatorLock: acquire lock",t,e);const r=new globalThis.AbortController;return e>0&&setTimeout(()=>{r.abort(),wn.debug&&console.log("@supabase/gotrue-js: navigatorLock acquire timed out",t)},e),await Promise.resolve().then(()=>globalThis.navigator.locks.request(t,e===0?{mode:"exclusive",ifAvailable:!0}:{mode:"exclusive",signal:r.signal},async s=>{if(s){wn.debug&&console.log("@supabase/gotrue-js: navigatorLock: acquired",t,s.name);try{return await n()}finally{wn.debug&&console.log("@supabase/gotrue-js: navigatorLock: released",t,s.name)}}else{if(e===0)throw wn.debug&&console.log("@supabase/gotrue-js: navigatorLock: not immediately available",t),new kv(`Acquiring an exclusive Navigator LockManager lock "${t}" immediately failed`);if(wn.debug)try{const i=await globalThis.navigator.locks.query();console.log("@supabase/gotrue-js: Navigator LockManager state",JSON.stringify(i,null,"  "))}catch(i){console.warn("@supabase/gotrue-js: Error when querying Navigator LockManager state",i)}return console.warn("@supabase/gotrue-js: Navigator LockManager returned a null lock when using #request without ifAvailable set to true, it appears this browser is not following the LockManager spec https://developer.mozilla.org/en-US/docs/Web/API/LockManager/request"),await n()}}))}_v();const bv={url:$g,storageKey:Lg,autoRefreshToken:!0,persistSession:!0,detectSessionInUrl:!0,headers:Ig,flowType:"implicit",debug:!1,hasCustomAuthorizationHeader:!1};async function Vu(t,e,n){return await n()}const xn={};class Gr{constructor(e){var n,r;this.userStorage=null,this.memoryStorage=null,this.stateChangeEmitters=new Map,this.autoRefreshTicker=null,this.visibilityChangedCallback=null,this.refreshingDeferred=null,this.initializePromise=null,this.detectSessionInUrl=!0,this.hasCustomAuthorizationHeader=!1,this.suppressGetSessionWarning=!1,this.lockAcquired=!1,this.pendingInLock=[],this.broadcastChannel=null,this.logger=console.log,this.instanceID=Gr.nextInstanceID,Gr.nextInstanceID+=1,this.instanceID>0&&Ke()&&console.warn("Multiple GoTrueClient instances detected in the same browser context. It is not an error, but this should be avoided as it may produce undefined behavior when used concurrently under the same storage key.");const s=Object.assign(Object.assign({},bv),e);if(this.logDebugMessages=!!s.debug,typeof s.debug=="function"&&(this.logger=s.debug),this.persistSession=s.persistSession,this.storageKey=s.storageKey,this.autoRefreshToken=s.autoRefreshToken,this.admin=new xv({url:s.url,headers:s.headers,fetch:s.fetch}),this.url=s.url,this.headers=s.headers,this.fetch=Oh(s.fetch),this.lock=s.lock||Vu,this.detectSessionInUrl=s.detectSessionInUrl,this.flowType=s.flowType,this.hasCustomAuthorizationHeader=s.hasCustomAuthorizationHeader,s.lock?this.lock=s.lock:Ke()&&(!((n=globalThis==null?void 0:globalThis.navigator)===null||n===void 0)&&n.locks)?this.lock=Sv:this.lock=Vu,this.jwks||(this.jwks={keys:[]},this.jwks_cached_at=Number.MIN_SAFE_INTEGER),this.mfa={verify:this._verify.bind(this),enroll:this._enroll.bind(this),unenroll:this._unenroll.bind(this),challenge:this._challenge.bind(this),listFactors:this._listFactors.bind(this),challengeAndVerify:this._challengeAndVerify.bind(this),getAuthenticatorAssuranceLevel:this._getAuthenticatorAssuranceLevel.bind(this)},this.persistSession?(s.storage?this.storage=s.storage:Ph()?this.storage=globalThis.localStorage:(this.memoryStorage={},this.storage=Wu(this.memoryStorage)),s.userStorage&&(this.userStorage=s.userStorage)):(this.memoryStorage={},this.storage=Wu(this.memoryStorage)),Ke()&&globalThis.BroadcastChannel&&this.persistSession&&this.storageKey){try{this.broadcastChannel=new globalThis.BroadcastChannel(this.storageKey)}catch(i){console.error("Failed to create a new BroadcastChannel, multi-tab state changes will not be available",i)}(r=this.broadcastChannel)===null||r===void 0||r.addEventListener("message",async i=>{this._debug("received broadcast notification from other tab or client",i),await this._notifyAllSubscribers(i.data.event,i.data.session,!1)})}this.initialize()}get jwks(){var e,n;return(n=(e=xn[this.storageKey])===null||e===void 0?void 0:e.jwks)!==null&&n!==void 0?n:{keys:[]}}set jwks(e){xn[this.storageKey]=Object.assign(Object.assign({},xn[this.storageKey]),{jwks:e})}get jwks_cached_at(){var e,n;return(n=(e=xn[this.storageKey])===null||e===void 0?void 0:e.cachedAt)!==null&&n!==void 0?n:Number.MIN_SAFE_INTEGER}set jwks_cached_at(e){xn[this.storageKey]=Object.assign(Object.assign({},xn[this.storageKey]),{cachedAt:e})}_debug(...e){return this.logDebugMessages&&this.logger(`GoTrueClient@${this.instanceID} (${Nh}) ${new Date().toISOString()}`,...e),this}async initialize(){return this.initializePromise?await this.initializePromise:(this.initializePromise=(async()=>await this._acquireLock(-1,async()=>await this._initialize()))(),await this.initializePromise)}async _initialize(){var e;try{const n=Xg(window.location.href);let r="none";if(this._isImplicitGrantCallback(n)?r="implicit":await this._isPKCECallback(n)&&(r="pkce"),Ke()&&this.detectSessionInUrl&&r!=="none"){const{data:s,error:i}=await this._getSessionFromURL(n,r);if(i){if(this._debug("#_initialize()","error detecting session from URL",i),Bg(i)){const l=(e=i.details)===null||e===void 0?void 0:e.code;if(l==="identity_already_exists"||l==="identity_not_found"||l==="single_identity_not_deletable")return{error:i}}return await this._removeSession(),{error:i}}const{session:o,redirectType:a}=s;return this._debug("#_initialize()","detected session in URL",o,"redirect type",a),await this._saveSession(o),setTimeout(async()=>{a==="recovery"?await this._notifyAllSubscribers("PASSWORD_RECOVERY",o):await this._notifyAllSubscribers("SIGNED_IN",o)},0),{error:null}}return await this._recoverAndRefresh(),{error:null}}catch(n){return I(n)?{error:n}:{error:new Ch("Unexpected error during initialization",n)}}finally{await this._handleVisibilityChange(),this._debug("#_initialize()","end")}}async signInAnonymously(e){var n,r,s;try{const i=await D(this.fetch,"POST",`${this.url}/signup`,{headers:this.headers,body:{data:(r=(n=e==null?void 0:e.options)===null||n===void 0?void 0:n.data)!==null&&r!==void 0?r:{},gotrue_meta_security:{captcha_token:(s=e==null?void 0:e.options)===null||s===void 0?void 0:s.captchaToken}},xform:lt}),{data:o,error:a}=i;if(a||!o)return{data:{user:null,session:null},error:a};const l=o.session,c=o.user;return o.session&&(await this._saveSession(o.session),await this._notifyAllSubscribers("SIGNED_IN",l)),{data:{user:c,session:l},error:null}}catch(i){if(I(i))return{data:{user:null,session:null},error:i};throw i}}async signUp(e){var n,r,s;try{let i;if("email"in e){const{email:d,password:f,options:m}=e;let y=null,x=null;this.flowType==="pkce"&&([y,x]=await vn(this.storage,this.storageKey)),i=await D(this.fetch,"POST",`${this.url}/signup`,{headers:this.headers,redirectTo:m==null?void 0:m.emailRedirectTo,body:{email:d,password:f,data:(n=m==null?void 0:m.data)!==null&&n!==void 0?n:{},gotrue_meta_security:{captcha_token:m==null?void 0:m.captchaToken},code_challenge:y,code_challenge_method:x},xform:lt})}else if("phone"in e){const{phone:d,password:f,options:m}=e;i=await D(this.fetch,"POST",`${this.url}/signup`,{headers:this.headers,body:{phone:d,password:f,data:(r=m==null?void 0:m.data)!==null&&r!==void 0?r:{},channel:(s=m==null?void 0:m.channel)!==null&&s!==void 0?s:"sms",gotrue_meta_security:{captcha_token:m==null?void 0:m.captchaToken}},xform:lt})}else throw new ks("You must provide either an email or phone number and a password");const{data:o,error:a}=i;if(a||!o)return{data:{user:null,session:null},error:a};const l=o.session,c=o.user;return o.session&&(await this._saveSession(o.session),await this._notifyAllSubscribers("SIGNED_IN",l)),{data:{user:c,session:l},error:null}}catch(i){if(I(i))return{data:{user:null,session:null},error:i};throw i}}async signInWithPassword(e){try{let n;if("email"in e){const{email:i,password:o,options:a}=e;n=await D(this.fetch,"POST",`${this.url}/token?grant_type=password`,{headers:this.headers,body:{email:i,password:o,gotrue_meta_security:{captcha_token:a==null?void 0:a.captchaToken}},xform:Hu})}else if("phone"in e){const{phone:i,password:o,options:a}=e;n=await D(this.fetch,"POST",`${this.url}/token?grant_type=password`,{headers:this.headers,body:{phone:i,password:o,gotrue_meta_security:{captcha_token:a==null?void 0:a.captchaToken}},xform:Hu})}else throw new ks("You must provide either an email or phone number and a password");const{data:r,error:s}=n;return s?{data:{user:null,session:null},error:s}:!r||!r.session||!r.user?{data:{user:null,session:null},error:new _s}:(r.session&&(await this._saveSession(r.session),await this._notifyAllSubscribers("SIGNED_IN",r.session)),{data:Object.assign({user:r.user,session:r.session},r.weak_password?{weakPassword:r.weak_password}:null),error:s})}catch(n){if(I(n))return{data:{user:null,session:null},error:n};throw n}}async signInWithOAuth(e){var n,r,s,i;return await this._handleProviderSignIn(e.provider,{redirectTo:(n=e.options)===null||n===void 0?void 0:n.redirectTo,scopes:(r=e.options)===null||r===void 0?void 0:r.scopes,queryParams:(s=e.options)===null||s===void 0?void 0:s.queryParams,skipBrowserRedirect:(i=e.options)===null||i===void 0?void 0:i.skipBrowserRedirect})}async exchangeCodeForSession(e){return await this.initializePromise,this._acquireLock(-1,async()=>this._exchangeCodeForSession(e))}async signInWithWeb3(e){const{chain:n}=e;if(n==="solana")return await this.signInWithSolana(e);throw new Error(`@supabase/auth-js: Unsupported chain "${n}"`)}async signInWithSolana(e){var n,r,s,i,o,a,l,c,d,f,m,y;let x,v;if("message"in e)x=e.message,v=e.signature;else{const{chain:k,wallet:g,statement:p,options:h}=e;let w;if(Ke())if(typeof g=="object")w=g;else{const S=window;if("solana"in S&&typeof S.solana=="object"&&("signIn"in S.solana&&typeof S.solana.signIn=="function"||"signMessage"in S.solana&&typeof S.solana.signMessage=="function"))w=S.solana;else throw new Error("@supabase/auth-js: No compatible Solana wallet interface on the window object (window.solana) detected. Make sure the user already has a wallet installed and connected for this app. Prefer passing the wallet interface object directly to signInWithWeb3({ chain: 'solana', wallet: resolvedUserWallet }) instead.")}else{if(typeof g!="object"||!(h!=null&&h.url))throw new Error("@supabase/auth-js: Both wallet and url must be specified in non-browser environments.");w=g}const _=new URL((n=h==null?void 0:h.url)!==null&&n!==void 0?n:window.location.href);if("signIn"in w&&w.signIn){const S=await w.signIn(Object.assign(Object.assign(Object.assign({issuedAt:new Date().toISOString()},h==null?void 0:h.signInWithSolana),{version:"1",domain:_.host,uri:_.href}),p?{statement:p}:null));let b;if(Array.isArray(S)&&S[0]&&typeof S[0]=="object")b=S[0];else if(S&&typeof S=="object"&&"signedMessage"in S&&"signature"in S)b=S;else throw new Error("@supabase/auth-js: Wallet method signIn() returned unrecognized value");if("signedMessage"in b&&"signature"in b&&(typeof b.signedMessage=="string"||b.signedMessage instanceof Uint8Array)&&b.signature instanceof Uint8Array)x=typeof b.signedMessage=="string"?b.signedMessage:new TextDecoder().decode(b.signedMessage),v=b.signature;else throw new Error("@supabase/auth-js: Wallet method signIn() API returned object without signedMessage and signature fields")}else{if(!("signMessage"in w)||typeof w.signMessage!="function"||!("publicKey"in w)||typeof w!="object"||!w.publicKey||!("toBase58"in w.publicKey)||typeof w.publicKey.toBase58!="function")throw new Error("@supabase/auth-js: Wallet does not have a compatible signMessage() and publicKey.toBase58() API");x=[`${_.host} wants you to sign in with your Solana account:`,w.publicKey.toBase58(),...p?["",p,""]:[""],"Version: 1",`URI: ${_.href}`,`Issued At: ${(s=(r=h==null?void 0:h.signInWithSolana)===null||r===void 0?void 0:r.issuedAt)!==null&&s!==void 0?s:new Date().toISOString()}`,...!((i=h==null?void 0:h.signInWithSolana)===null||i===void 0)&&i.notBefore?[`Not Before: ${h.signInWithSolana.notBefore}`]:[],...!((o=h==null?void 0:h.signInWithSolana)===null||o===void 0)&&o.expirationTime?[`Expiration Time: ${h.signInWithSolana.expirationTime}`]:[],...!((a=h==null?void 0:h.signInWithSolana)===null||a===void 0)&&a.chainId?[`Chain ID: ${h.signInWithSolana.chainId}`]:[],...!((l=h==null?void 0:h.signInWithSolana)===null||l===void 0)&&l.nonce?[`Nonce: ${h.signInWithSolana.nonce}`]:[],...!((c=h==null?void 0:h.signInWithSolana)===null||c===void 0)&&c.requestId?[`Request ID: ${h.signInWithSolana.requestId}`]:[],...!((f=(d=h==null?void 0:h.signInWithSolana)===null||d===void 0?void 0:d.resources)===null||f===void 0)&&f.length?["Resources",...h.signInWithSolana.resources.map(b=>`- ${b}`)]:[]].join(`
`);const S=await w.signMessage(new TextEncoder().encode(x),"utf8");if(!S||!(S instanceof Uint8Array))throw new Error("@supabase/auth-js: Wallet signMessage() API returned an recognized value");v=S}}try{const{data:k,error:g}=await D(this.fetch,"POST",`${this.url}/token?grant_type=web3`,{headers:this.headers,body:Object.assign({chain:"solana",message:x,signature:Qg(v)},!((m=e.options)===null||m===void 0)&&m.captchaToken?{gotrue_meta_security:{captcha_token:(y=e.options)===null||y===void 0?void 0:y.captchaToken}}:null),xform:lt});if(g)throw g;return!k||!k.session||!k.user?{data:{user:null,session:null},error:new _s}:(k.session&&(await this._saveSession(k.session),await this._notifyAllSubscribers("SIGNED_IN",k.session)),{data:Object.assign({},k),error:g})}catch(k){if(I(k))return{data:{user:null,session:null},error:k};throw k}}async _exchangeCodeForSession(e){const n=await Jt(this.storage,`${this.storageKey}-code-verifier`),[r,s]=(n??"").split("/");try{const{data:i,error:o}=await D(this.fetch,"POST",`${this.url}/token?grant_type=pkce`,{headers:this.headers,body:{auth_code:e,code_verifier:r},xform:lt});if(await bt(this.storage,`${this.storageKey}-code-verifier`),o)throw o;return!i||!i.session||!i.user?{data:{user:null,session:null,redirectType:null},error:new _s}:(i.session&&(await this._saveSession(i.session),await this._notifyAllSubscribers("SIGNED_IN",i.session)),{data:Object.assign(Object.assign({},i),{redirectType:s??null}),error:o})}catch(i){if(I(i))return{data:{user:null,session:null,redirectType:null},error:i};throw i}}async signInWithIdToken(e){try{const{options:n,provider:r,token:s,access_token:i,nonce:o}=e,a=await D(this.fetch,"POST",`${this.url}/token?grant_type=id_token`,{headers:this.headers,body:{provider:r,id_token:s,access_token:i,nonce:o,gotrue_meta_security:{captcha_token:n==null?void 0:n.captchaToken}},xform:lt}),{data:l,error:c}=a;return c?{data:{user:null,session:null},error:c}:!l||!l.session||!l.user?{data:{user:null,session:null},error:new _s}:(l.session&&(await this._saveSession(l.session),await this._notifyAllSubscribers("SIGNED_IN",l.session)),{data:l,error:c})}catch(n){if(I(n))return{data:{user:null,session:null},error:n};throw n}}async signInWithOtp(e){var n,r,s,i,o;try{if("email"in e){const{email:a,options:l}=e;let c=null,d=null;this.flowType==="pkce"&&([c,d]=await vn(this.storage,this.storageKey));const{error:f}=await D(this.fetch,"POST",`${this.url}/otp`,{headers:this.headers,body:{email:a,data:(n=l==null?void 0:l.data)!==null&&n!==void 0?n:{},create_user:(r=l==null?void 0:l.shouldCreateUser)!==null&&r!==void 0?r:!0,gotrue_meta_security:{captcha_token:l==null?void 0:l.captchaToken},code_challenge:c,code_challenge_method:d},redirectTo:l==null?void 0:l.emailRedirectTo});return{data:{user:null,session:null},error:f}}if("phone"in e){const{phone:a,options:l}=e,{data:c,error:d}=await D(this.fetch,"POST",`${this.url}/otp`,{headers:this.headers,body:{phone:a,data:(s=l==null?void 0:l.data)!==null&&s!==void 0?s:{},create_user:(i=l==null?void 0:l.shouldCreateUser)!==null&&i!==void 0?i:!0,gotrue_meta_security:{captcha_token:l==null?void 0:l.captchaToken},channel:(o=l==null?void 0:l.channel)!==null&&o!==void 0?o:"sms"}});return{data:{user:null,session:null,messageId:c==null?void 0:c.message_id},error:d}}throw new ks("You must provide either an email or phone number.")}catch(a){if(I(a))return{data:{user:null,session:null},error:a};throw a}}async verifyOtp(e){var n,r;try{let s,i;"options"in e&&(s=(n=e.options)===null||n===void 0?void 0:n.redirectTo,i=(r=e.options)===null||r===void 0?void 0:r.captchaToken);const{data:o,error:a}=await D(this.fetch,"POST",`${this.url}/verify`,{headers:this.headers,body:Object.assign(Object.assign({},e),{gotrue_meta_security:{captcha_token:i}}),redirectTo:s,xform:lt});if(a)throw a;if(!o)throw new Error("An error occurred on token verification.");const l=o.session,c=o.user;return l!=null&&l.access_token&&(await this._saveSession(l),await this._notifyAllSubscribers(e.type=="recovery"?"PASSWORD_RECOVERY":"SIGNED_IN",l)),{data:{user:c,session:l},error:null}}catch(s){if(I(s))return{data:{user:null,session:null},error:s};throw s}}async signInWithSSO(e){var n,r,s;try{let i=null,o=null;return this.flowType==="pkce"&&([i,o]=await vn(this.storage,this.storageKey)),await D(this.fetch,"POST",`${this.url}/sso`,{body:Object.assign(Object.assign(Object.assign(Object.assign(Object.assign({},"providerId"in e?{provider_id:e.providerId}:null),"domain"in e?{domain:e.domain}:null),{redirect_to:(r=(n=e.options)===null||n===void 0?void 0:n.redirectTo)!==null&&r!==void 0?r:void 0}),!((s=e==null?void 0:e.options)===null||s===void 0)&&s.captchaToken?{gotrue_meta_security:{captcha_token:e.options.captchaToken}}:null),{skip_http_redirect:!0,code_challenge:i,code_challenge_method:o}),headers:this.headers,xform:mv})}catch(i){if(I(i))return{data:null,error:i};throw i}}async reauthenticate(){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._reauthenticate())}async _reauthenticate(){try{return await this._useSession(async e=>{const{data:{session:n},error:r}=e;if(r)throw r;if(!n)throw new jt;const{error:s}=await D(this.fetch,"GET",`${this.url}/reauthenticate`,{headers:this.headers,jwt:n.access_token});return{data:{user:null,session:null},error:s}})}catch(e){if(I(e))return{data:{user:null,session:null},error:e};throw e}}async resend(e){try{const n=`${this.url}/resend`;if("email"in e){const{email:r,type:s,options:i}=e,{error:o}=await D(this.fetch,"POST",n,{headers:this.headers,body:{email:r,type:s,gotrue_meta_security:{captcha_token:i==null?void 0:i.captchaToken}},redirectTo:i==null?void 0:i.emailRedirectTo});return{data:{user:null,session:null},error:o}}else if("phone"in e){const{phone:r,type:s,options:i}=e,{data:o,error:a}=await D(this.fetch,"POST",n,{headers:this.headers,body:{phone:r,type:s,gotrue_meta_security:{captcha_token:i==null?void 0:i.captchaToken}}});return{data:{user:null,session:null,messageId:o==null?void 0:o.message_id},error:a}}throw new ks("You must provide either an email or phone number and a type")}catch(n){if(I(n))return{data:{user:null,session:null},error:n};throw n}}async getSession(){return await this.initializePromise,await this._acquireLock(-1,async()=>this._useSession(async n=>n))}async _acquireLock(e,n){this._debug("#_acquireLock","begin",e);try{if(this.lockAcquired){const r=this.pendingInLock.length?this.pendingInLock[this.pendingInLock.length-1]:Promise.resolve(),s=(async()=>(await r,await n()))();return this.pendingInLock.push((async()=>{try{await s}catch{}})()),s}return await this.lock(`lock:${this.storageKey}`,e,async()=>{this._debug("#_acquireLock","lock acquired for storage key",this.storageKey);try{this.lockAcquired=!0;const r=n();for(this.pendingInLock.push((async()=>{try{await r}catch{}})()),await r;this.pendingInLock.length;){const s=[...this.pendingInLock];await Promise.all(s),this.pendingInLock.splice(0,s.length)}return await r}finally{this._debug("#_acquireLock","lock released for storage key",this.storageKey),this.lockAcquired=!1}})}finally{this._debug("#_acquireLock","end")}}async _useSession(e){this._debug("#_useSession","begin");try{const n=await this.__loadSession();return await e(n)}finally{this._debug("#_useSession","end")}}async __loadSession(){this._debug("#__loadSession()","begin"),this.lockAcquired||this._debug("#__loadSession()","used outside of an acquired lock!",new Error().stack);try{let e=null;const n=await Jt(this.storage,this.storageKey);if(this._debug("#getSession()","session from storage",n),n!==null&&(this._isValidSession(n)?e=n:(this._debug("#getSession()","session from storage is not valid"),await this._removeSession())),!e)return{data:{session:null},error:null};const r=e.expires_at?e.expires_at*1e3-Date.now()<ao:!1;if(this._debug("#__loadSession()",`session has${r?"":" not"} expired`,"expires_at",e.expires_at),!r){if(this.userStorage){const o=await Jt(this.userStorage,this.storageKey+"-user");o!=null&&o.user?e.user=o.user:e.user=co()}if(this.storage.isServer&&e.user){let o=this.suppressGetSessionWarning;e=new Proxy(e,{get:(l,c,d)=>(!o&&c==="user"&&(console.warn("Using the user object as returned from supabase.auth.getSession() or from some supabase.auth.onAuthStateChange() events could be insecure! This value comes directly from the storage medium (usually cookies on the server) and may not be authentic. Use supabase.auth.getUser() instead which authenticates the data by contacting the Supabase Auth server."),o=!0,this.suppressGetSessionWarning=!0),Reflect.get(l,c,d))})}return{data:{session:e},error:null}}const{session:s,error:i}=await this._callRefreshToken(e.refresh_token);return i?{data:{session:null},error:i}:{data:{session:s},error:null}}finally{this._debug("#__loadSession()","end")}}async getUser(e){return e?await this._getUser(e):(await this.initializePromise,await this._acquireLock(-1,async()=>await this._getUser()))}async _getUser(e){try{return e?await D(this.fetch,"GET",`${this.url}/user`,{headers:this.headers,jwt:e,xform:Ot}):await this._useSession(async n=>{var r,s,i;const{data:o,error:a}=n;if(a)throw a;return!(!((r=o.session)===null||r===void 0)&&r.access_token)&&!this.hasCustomAuthorizationHeader?{data:{user:null},error:new jt}:await D(this.fetch,"GET",`${this.url}/user`,{headers:this.headers,jwt:(i=(s=o.session)===null||s===void 0?void 0:s.access_token)!==null&&i!==void 0?i:void 0,xform:Ot})})}catch(n){if(I(n))return Fg(n)&&(await this._removeSession(),await bt(this.storage,`${this.storageKey}-code-verifier`)),{data:{user:null},error:n};throw n}}async updateUser(e,n={}){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._updateUser(e,n))}async _updateUser(e,n={}){try{return await this._useSession(async r=>{const{data:s,error:i}=r;if(i)throw i;if(!s.session)throw new jt;const o=s.session;let a=null,l=null;this.flowType==="pkce"&&e.email!=null&&([a,l]=await vn(this.storage,this.storageKey));const{data:c,error:d}=await D(this.fetch,"PUT",`${this.url}/user`,{headers:this.headers,redirectTo:n==null?void 0:n.emailRedirectTo,body:Object.assign(Object.assign({},e),{code_challenge:a,code_challenge_method:l}),jwt:o.access_token,xform:Ot});if(d)throw d;return o.user=c.user,await this._saveSession(o),await this._notifyAllSubscribers("USER_UPDATED",o),{data:{user:o.user},error:null}})}catch(r){if(I(r))return{data:{user:null},error:r};throw r}}async setSession(e){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._setSession(e))}async _setSession(e){try{if(!e.access_token||!e.refresh_token)throw new jt;const n=Date.now()/1e3;let r=n,s=!0,i=null;const{payload:o}=uo(e.access_token);if(o.exp&&(r=o.exp,s=r<=n),s){const{session:a,error:l}=await this._callRefreshToken(e.refresh_token);if(l)return{data:{user:null,session:null},error:l};if(!a)return{data:{user:null,session:null},error:null};i=a}else{const{data:a,error:l}=await this._getUser(e.access_token);if(l)throw l;i={access_token:e.access_token,refresh_token:e.refresh_token,user:a.user,token_type:"bearer",expires_in:r-n,expires_at:r},await this._saveSession(i),await this._notifyAllSubscribers("SIGNED_IN",i)}return{data:{user:i.user,session:i},error:null}}catch(n){if(I(n))return{data:{session:null,user:null},error:n};throw n}}async refreshSession(e){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._refreshSession(e))}async _refreshSession(e){try{return await this._useSession(async n=>{var r;if(!e){const{data:o,error:a}=n;if(a)throw a;e=(r=o.session)!==null&&r!==void 0?r:void 0}if(!(e!=null&&e.refresh_token))throw new jt;const{session:s,error:i}=await this._callRefreshToken(e.refresh_token);return i?{data:{user:null,session:null},error:i}:s?{data:{user:s.user,session:s},error:null}:{data:{user:null,session:null},error:null}})}catch(n){if(I(n))return{data:{user:null,session:null},error:n};throw n}}async _getSessionFromURL(e,n){try{if(!Ke())throw new Ss("No browser detected.");if(e.error||e.error_description||e.error_code)throw new Ss(e.error_description||"Error in URL with unspecified error_description",{error:e.error||"unspecified_error",code:e.error_code||"unspecified_code"});switch(n){case"implicit":if(this.flowType==="pkce")throw new Iu("Not a valid PKCE flow url.");break;case"pkce":if(this.flowType==="implicit")throw new Ss("Not a valid implicit grant flow url.");break;default:}if(n==="pkce"){if(this._debug("#_initialize()","begin","is PKCE flow",!0),!e.code)throw new Iu("No code detected.");const{data:p,error:h}=await this._exchangeCodeForSession(e.code);if(h)throw h;const w=new URL(window.location.href);return w.searchParams.delete("code"),window.history.replaceState(window.history.state,"",w.toString()),{data:{session:p.session,redirectType:null},error:null}}const{provider_token:r,provider_refresh_token:s,access_token:i,refresh_token:o,expires_in:a,expires_at:l,token_type:c}=e;if(!i||!a||!o||!c)throw new Ss("No session defined in URL");const d=Math.round(Date.now()/1e3),f=parseInt(a);let m=d+f;l&&(m=parseInt(l));const y=m-d;y*1e3<=_n&&console.warn(`@supabase/gotrue-js: Session as retrieved from URL expires in ${y}s, should have been closer to ${f}s`);const x=m-f;d-x>=120?console.warn("@supabase/gotrue-js: Session as retrieved from URL was issued over 120s ago, URL could be stale",x,m,d):d-x<0&&console.warn("@supabase/gotrue-js: Session as retrieved from URL was issued in the future? Check the device clock for skew",x,m,d);const{data:v,error:k}=await this._getUser(i);if(k)throw k;const g={provider_token:r,provider_refresh_token:s,access_token:i,expires_in:f,expires_at:m,refresh_token:o,token_type:c,user:v.user};return window.location.hash="",this._debug("#_getSessionFromURL()","clearing window.location.hash"),{data:{session:g,redirectType:e.type},error:null}}catch(r){if(I(r))return{data:{session:null,redirectType:null},error:r};throw r}}_isImplicitGrantCallback(e){return!!(e.access_token||e.error_description)}async _isPKCECallback(e){const n=await Jt(this.storage,`${this.storageKey}-code-verifier`);return!!(e.code&&n)}async signOut(e={scope:"global"}){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._signOut(e))}async _signOut({scope:e}={scope:"global"}){return await this._useSession(async n=>{var r;const{data:s,error:i}=n;if(i)return{error:i};const o=(r=s.session)===null||r===void 0?void 0:r.access_token;if(o){const{error:a}=await this.admin.signOut(o,e);if(a&&!(zg(a)&&(a.status===404||a.status===401||a.status===403)))return{error:a}}return e!=="others"&&(await this._removeSession(),await bt(this.storage,`${this.storageKey}-code-verifier`)),{error:null}})}onAuthStateChange(e){const n=Yg(),r={id:n,callback:e,unsubscribe:()=>{this._debug("#unsubscribe()","state change callback with id removed",n),this.stateChangeEmitters.delete(n)}};return this._debug("#onAuthStateChange()","registered callback with id",n),this.stateChangeEmitters.set(n,r),(async()=>(await this.initializePromise,await this._acquireLock(-1,async()=>{this._emitInitialSession(n)})))(),{data:{subscription:r}}}async _emitInitialSession(e){return await this._useSession(async n=>{var r,s;try{const{data:{session:i},error:o}=n;if(o)throw o;await((r=this.stateChangeEmitters.get(e))===null||r===void 0?void 0:r.callback("INITIAL_SESSION",i)),this._debug("INITIAL_SESSION","callback id",e,"session",i)}catch(i){await((s=this.stateChangeEmitters.get(e))===null||s===void 0?void 0:s.callback("INITIAL_SESSION",null)),this._debug("INITIAL_SESSION","callback id",e,"error",i),console.error(i)}})}async resetPasswordForEmail(e,n={}){let r=null,s=null;this.flowType==="pkce"&&([r,s]=await vn(this.storage,this.storageKey,!0));try{return await D(this.fetch,"POST",`${this.url}/recover`,{body:{email:e,code_challenge:r,code_challenge_method:s,gotrue_meta_security:{captcha_token:n.captchaToken}},headers:this.headers,redirectTo:n.redirectTo})}catch(i){if(I(i))return{data:null,error:i};throw i}}async getUserIdentities(){var e;try{const{data:n,error:r}=await this.getUser();if(r)throw r;return{data:{identities:(e=n.user.identities)!==null&&e!==void 0?e:[]},error:null}}catch(n){if(I(n))return{data:null,error:n};throw n}}async linkIdentity(e){var n;try{const{data:r,error:s}=await this._useSession(async i=>{var o,a,l,c,d;const{data:f,error:m}=i;if(m)throw m;const y=await this._getUrlForProvider(`${this.url}/user/identities/authorize`,e.provider,{redirectTo:(o=e.options)===null||o===void 0?void 0:o.redirectTo,scopes:(a=e.options)===null||a===void 0?void 0:a.scopes,queryParams:(l=e.options)===null||l===void 0?void 0:l.queryParams,skipBrowserRedirect:!0});return await D(this.fetch,"GET",y,{headers:this.headers,jwt:(d=(c=f.session)===null||c===void 0?void 0:c.access_token)!==null&&d!==void 0?d:void 0})});if(s)throw s;return Ke()&&!(!((n=e.options)===null||n===void 0)&&n.skipBrowserRedirect)&&window.location.assign(r==null?void 0:r.url),{data:{provider:e.provider,url:r==null?void 0:r.url},error:null}}catch(r){if(I(r))return{data:{provider:e.provider,url:null},error:r};throw r}}async unlinkIdentity(e){try{return await this._useSession(async n=>{var r,s;const{data:i,error:o}=n;if(o)throw o;return await D(this.fetch,"DELETE",`${this.url}/user/identities/${e.identity_id}`,{headers:this.headers,jwt:(s=(r=i.session)===null||r===void 0?void 0:r.access_token)!==null&&s!==void 0?s:void 0})})}catch(n){if(I(n))return{data:null,error:n};throw n}}async _refreshAccessToken(e){const n=`#_refreshAccessToken(${e.substring(0,5)}...)`;this._debug(n,"begin");try{const r=Date.now();return await tv(async s=>(s>0&&await ev(200*Math.pow(2,s-1)),this._debug(n,"refreshing attempt",s),await D(this.fetch,"POST",`${this.url}/token?grant_type=refresh_token`,{body:{refresh_token:e},headers:this.headers,xform:lt})),(s,i)=>{const o=200*Math.pow(2,s);return i&&lo(i)&&Date.now()+o-r<_n})}catch(r){if(this._debug(n,"error",r),I(r))return{data:{session:null,user:null},error:r};throw r}finally{this._debug(n,"end")}}_isValidSession(e){return typeof e=="object"&&e!==null&&"access_token"in e&&"refresh_token"in e&&"expires_at"in e}async _handleProviderSignIn(e,n){const r=await this._getUrlForProvider(`${this.url}/authorize`,e,{redirectTo:n.redirectTo,scopes:n.scopes,queryParams:n.queryParams});return this._debug("#_handleProviderSignIn()","provider",e,"options",n,"url",r),Ke()&&!n.skipBrowserRedirect&&window.location.assign(r),{data:{provider:e,url:r},error:null}}async _recoverAndRefresh(){var e,n;const r="#_recoverAndRefresh()";this._debug(r,"begin");try{const s=await Jt(this.storage,this.storageKey);if(s&&this.userStorage){let o=await Jt(this.userStorage,this.storageKey+"-user");!this.storage.isServer&&Object.is(this.storage,this.userStorage)&&!o&&(o={user:s.user},await kn(this.userStorage,this.storageKey+"-user",o)),s.user=(e=o==null?void 0:o.user)!==null&&e!==void 0?e:co()}else if(s&&!s.user&&!s.user){const o=await Jt(this.storage,this.storageKey+"-user");o&&(o!=null&&o.user)?(s.user=o.user,await bt(this.storage,this.storageKey+"-user"),await kn(this.storage,this.storageKey,s)):s.user=co()}if(this._debug(r,"session from storage",s),!this._isValidSession(s)){this._debug(r,"session is not valid"),s!==null&&await this._removeSession();return}const i=((n=s.expires_at)!==null&&n!==void 0?n:1/0)*1e3-Date.now()<ao;if(this._debug(r,`session has${i?"":" not"} expired with margin of ${ao}s`),i){if(this.autoRefreshToken&&s.refresh_token){const{error:o}=await this._callRefreshToken(s.refresh_token);o&&(console.error(o),lo(o)||(this._debug(r,"refresh failed with a non-retryable error, removing the session",o),await this._removeSession()))}}else if(s.user&&s.user.__isUserNotAvailableProxy===!0)try{const{data:o,error:a}=await this._getUser(s.access_token);!a&&(o!=null&&o.user)?(s.user=o.user,await this._saveSession(s),await this._notifyAllSubscribers("SIGNED_IN",s)):this._debug(r,"could not get user data, skipping SIGNED_IN notification")}catch(o){console.error("Error getting user data:",o),this._debug(r,"error getting user data, skipping SIGNED_IN notification",o)}else await this._notifyAllSubscribers("SIGNED_IN",s)}catch(s){this._debug(r,"error",s),console.error(s);return}finally{this._debug(r,"end")}}async _callRefreshToken(e){var n,r;if(!e)throw new jt;if(this.refreshingDeferred)return this.refreshingDeferred.promise;const s=`#_callRefreshToken(${e.substring(0,5)}...)`;this._debug(s,"begin");try{this.refreshingDeferred=new Ai;const{data:i,error:o}=await this._refreshAccessToken(e);if(o)throw o;if(!i.session)throw new jt;await this._saveSession(i.session),await this._notifyAllSubscribers("TOKEN_REFRESHED",i.session);const a={session:i.session,error:null};return this.refreshingDeferred.resolve(a),a}catch(i){if(this._debug(s,"error",i),I(i)){const o={session:null,error:i};return lo(i)||await this._removeSession(),(n=this.refreshingDeferred)===null||n===void 0||n.resolve(o),o}throw(r=this.refreshingDeferred)===null||r===void 0||r.reject(i),i}finally{this.refreshingDeferred=null,this._debug(s,"end")}}async _notifyAllSubscribers(e,n,r=!0){const s=`#_notifyAllSubscribers(${e})`;this._debug(s,"begin",n,`broadcast = ${r}`);try{this.broadcastChannel&&r&&this.broadcastChannel.postMessage({event:e,session:n});const i=[],o=Array.from(this.stateChangeEmitters.values()).map(async a=>{try{await a.callback(e,n)}catch(l){i.push(l)}});if(await Promise.all(o),i.length>0){for(let a=0;a<i.length;a+=1)console.error(i[a]);throw i[0]}}finally{this._debug(s,"end")}}async _saveSession(e){this._debug("#_saveSession()",e),this.suppressGetSessionWarning=!0;const n=Object.assign({},e),r=n.user&&n.user.__isUserNotAvailableProxy===!0;if(this.userStorage){!r&&n.user&&await kn(this.userStorage,this.storageKey+"-user",{user:n.user});const s=Object.assign({},n);delete s.user;const i=Fu(s);await kn(this.storage,this.storageKey,i)}else{const s=Fu(n);await kn(this.storage,this.storageKey,s)}}async _removeSession(){this._debug("#_removeSession()"),await bt(this.storage,this.storageKey),await bt(this.storage,this.storageKey+"-code-verifier"),await bt(this.storage,this.storageKey+"-user"),this.userStorage&&await bt(this.userStorage,this.storageKey+"-user"),await this._notifyAllSubscribers("SIGNED_OUT",null)}_removeVisibilityChangedCallback(){this._debug("#_removeVisibilityChangedCallback()");const e=this.visibilityChangedCallback;this.visibilityChangedCallback=null;try{e&&Ke()&&(window!=null&&window.removeEventListener)&&window.removeEventListener("visibilitychange",e)}catch(n){console.error("removing visibilitychange callback failed",n)}}async _startAutoRefresh(){await this._stopAutoRefresh(),this._debug("#_startAutoRefresh()");const e=setInterval(()=>this._autoRefreshTokenTick(),_n);this.autoRefreshTicker=e,e&&typeof e=="object"&&typeof e.unref=="function"?e.unref():typeof Deno<"u"&&typeof Deno.unrefTimer=="function"&&Deno.unrefTimer(e),setTimeout(async()=>{await this.initializePromise,await this._autoRefreshTokenTick()},0)}async _stopAutoRefresh(){this._debug("#_stopAutoRefresh()");const e=this.autoRefreshTicker;this.autoRefreshTicker=null,e&&clearInterval(e)}async startAutoRefresh(){this._removeVisibilityChangedCallback(),await this._startAutoRefresh()}async stopAutoRefresh(){this._removeVisibilityChangedCallback(),await this._stopAutoRefresh()}async _autoRefreshTokenTick(){this._debug("#_autoRefreshTokenTick()","begin");try{await this._acquireLock(0,async()=>{try{const e=Date.now();try{return await this._useSession(async n=>{const{data:{session:r}}=n;if(!r||!r.refresh_token||!r.expires_at){this._debug("#_autoRefreshTokenTick()","no session");return}const s=Math.floor((r.expires_at*1e3-e)/_n);this._debug("#_autoRefreshTokenTick()",`access token expires in ${s} ticks, a tick lasts ${_n}ms, refresh threshold is ${fa} ticks`),s<=fa&&await this._callRefreshToken(r.refresh_token)})}catch(n){console.error("Auto refresh tick failed with error. This is likely a transient error.",n)}}finally{this._debug("#_autoRefreshTokenTick()","end")}})}catch(e){if(e.isAcquireTimeout||e instanceof Ah)this._debug("auto refresh token tick lock not available");else throw e}}async _handleVisibilityChange(){if(this._debug("#_handleVisibilityChange()"),!Ke()||!(window!=null&&window.addEventListener))return this.autoRefreshToken&&this.startAutoRefresh(),!1;try{this.visibilityChangedCallback=async()=>await this._onVisibilityChanged(!1),window==null||window.addEventListener("visibilitychange",this.visibilityChangedCallback),await this._onVisibilityChanged(!0)}catch(e){console.error("_handleVisibilityChange",e)}}async _onVisibilityChanged(e){const n=`#_onVisibilityChanged(${e})`;this._debug(n,"visibilityState",document.visibilityState),document.visibilityState==="visible"?(this.autoRefreshToken&&this._startAutoRefresh(),e||(await this.initializePromise,await this._acquireLock(-1,async()=>{if(document.visibilityState!=="visible"){this._debug(n,"acquired the lock to recover the session, but the browser visibilityState is no longer visible, aborting");return}await this._recoverAndRefresh()}))):document.visibilityState==="hidden"&&this.autoRefreshToken&&this._stopAutoRefresh()}async _getUrlForProvider(e,n,r){const s=[`provider=${encodeURIComponent(n)}`];if(r!=null&&r.redirectTo&&s.push(`redirect_to=${encodeURIComponent(r.redirectTo)}`),r!=null&&r.scopes&&s.push(`scopes=${encodeURIComponent(r.scopes)}`),this.flowType==="pkce"){const[i,o]=await vn(this.storage,this.storageKey),a=new URLSearchParams({code_challenge:`${encodeURIComponent(i)}`,code_challenge_method:`${encodeURIComponent(o)}`});s.push(a.toString())}if(r!=null&&r.queryParams){const i=new URLSearchParams(r.queryParams);s.push(i.toString())}return r!=null&&r.skipBrowserRedirect&&s.push(`skip_http_redirect=${r.skipBrowserRedirect}`),`${e}?${s.join("&")}`}async _unenroll(e){try{return await this._useSession(async n=>{var r;const{data:s,error:i}=n;return i?{data:null,error:i}:await D(this.fetch,"DELETE",`${this.url}/factors/${e.factorId}`,{headers:this.headers,jwt:(r=s==null?void 0:s.session)===null||r===void 0?void 0:r.access_token})})}catch(n){if(I(n))return{data:null,error:n};throw n}}async _enroll(e){try{return await this._useSession(async n=>{var r,s;const{data:i,error:o}=n;if(o)return{data:null,error:o};const a=Object.assign({friendly_name:e.friendlyName,factor_type:e.factorType},e.factorType==="phone"?{phone:e.phone}:{issuer:e.issuer}),{data:l,error:c}=await D(this.fetch,"POST",`${this.url}/factors`,{body:a,headers:this.headers,jwt:(r=i==null?void 0:i.session)===null||r===void 0?void 0:r.access_token});return c?{data:null,error:c}:(e.factorType==="totp"&&(!((s=l==null?void 0:l.totp)===null||s===void 0)&&s.qr_code)&&(l.totp.qr_code=`data:image/svg+xml;utf-8,${l.totp.qr_code}`),{data:l,error:null})})}catch(n){if(I(n))return{data:null,error:n};throw n}}async _verify(e){return this._acquireLock(-1,async()=>{try{return await this._useSession(async n=>{var r;const{data:s,error:i}=n;if(i)return{data:null,error:i};const{data:o,error:a}=await D(this.fetch,"POST",`${this.url}/factors/${e.factorId}/verify`,{body:{code:e.code,challenge_id:e.challengeId},headers:this.headers,jwt:(r=s==null?void 0:s.session)===null||r===void 0?void 0:r.access_token});return a?{data:null,error:a}:(await this._saveSession(Object.assign({expires_at:Math.round(Date.now()/1e3)+o.expires_in},o)),await this._notifyAllSubscribers("MFA_CHALLENGE_VERIFIED",o),{data:o,error:a})})}catch(n){if(I(n))return{data:null,error:n};throw n}})}async _challenge(e){return this._acquireLock(-1,async()=>{try{return await this._useSession(async n=>{var r;const{data:s,error:i}=n;return i?{data:null,error:i}:await D(this.fetch,"POST",`${this.url}/factors/${e.factorId}/challenge`,{body:{channel:e.channel},headers:this.headers,jwt:(r=s==null?void 0:s.session)===null||r===void 0?void 0:r.access_token})})}catch(n){if(I(n))return{data:null,error:n};throw n}})}async _challengeAndVerify(e){const{data:n,error:r}=await this._challenge({factorId:e.factorId});return r?{data:null,error:r}:await this._verify({factorId:e.factorId,challengeId:n.id,code:e.code})}async _listFactors(){const{data:{user:e},error:n}=await this.getUser();if(n)return{data:null,error:n};const r=(e==null?void 0:e.factors)||[],s=r.filter(o=>o.factor_type==="totp"&&o.status==="verified"),i=r.filter(o=>o.factor_type==="phone"&&o.status==="verified");return{data:{all:r,totp:s,phone:i},error:null}}async _getAuthenticatorAssuranceLevel(){return this._acquireLock(-1,async()=>await this._useSession(async e=>{var n,r;const{data:{session:s},error:i}=e;if(i)return{data:null,error:i};if(!s)return{data:{currentLevel:null,nextLevel:null,currentAuthenticationMethods:[]},error:null};const{payload:o}=uo(s.access_token);let a=null;o.aal&&(a=o.aal);let l=a;((r=(n=s.user.factors)===null||n===void 0?void 0:n.filter(f=>f.status==="verified"))!==null&&r!==void 0?r:[]).length>0&&(l="aal2");const d=o.amr||[];return{data:{currentLevel:a,nextLevel:l,currentAuthenticationMethods:d},error:null}}))}async fetchJwk(e,n={keys:[]}){let r=n.keys.find(a=>a.kid===e);if(r)return r;const s=Date.now();if(r=this.jwks.keys.find(a=>a.kid===e),r&&this.jwks_cached_at+Ug>s)return r;const{data:i,error:o}=await D(this.fetch,"GET",`${this.url}/.well-known/jwks.json`,{headers:this.headers});if(o)throw o;return!i.keys||i.keys.length===0||(this.jwks=i,this.jwks_cached_at=s,r=i.keys.find(a=>a.kid===e),!r)?null:r}async getClaims(e,n={}){try{let r=e;if(!r){const{data:y,error:x}=await this.getSession();if(x||!y.session)return{data:null,error:x};r=y.session.access_token}const{header:s,payload:i,signature:o,raw:{header:a,payload:l}}=uo(r);n!=null&&n.allowExpired||lv(i.exp);const c=!s.alg||s.alg.startsWith("HS")||!s.kid||!("crypto"in globalThis&&"subtle"in globalThis.crypto)?null:await this.fetchJwk(s.kid,n!=null&&n.keys?{keys:n.keys}:n==null?void 0:n.jwks);if(!c){const{error:y}=await this.getUser(r);if(y)throw y;return{data:{claims:i,header:s,signature:o},error:null}}const d=uv(s.alg),f=await crypto.subtle.importKey("jwk",c,d,!0,["verify"]);if(!await crypto.subtle.verify(d,f,o,Gg(`${a}.${l}`)))throw new ga("Invalid JWT signature");return{data:{claims:i,header:s,signature:o},error:null}}catch(r){if(I(r))return{data:null,error:r};throw r}}}Gr.nextInstanceID=0;const jv=Gr;class Nv extends jv{constructor(e){super(e)}}var Ev=function(t,e,n,r){function s(i){return i instanceof n?i:new n(function(o){o(i)})}return new(n||(n=Promise))(function(i,o){function a(d){try{c(r.next(d))}catch(f){o(f)}}function l(d){try{c(r.throw(d))}catch(f){o(f)}}function c(d){d.done?i(d.value):s(d.value).then(a,l)}c((r=r.apply(t,e||[])).next())})};class Cv{constructor(e,n,r){var s,i,o;if(this.supabaseUrl=e,this.supabaseKey=n,!e)throw new Error("supabaseUrl is required.");if(!n)throw new Error("supabaseKey is required.");const a=Ag(e),l=new URL(a);this.realtimeUrl=new URL("realtime/v1",l),this.realtimeUrl.protocol=this.realtimeUrl.protocol.replace("http","ws"),this.authUrl=new URL("auth/v1",l),this.storageUrl=new URL("storage/v1",l),this.functionsUrl=new URL("functions/v1",l);const c=`sb-${l.hostname.split(".")[0]}-auth-token`,d={db:bg,realtime:Ng,auth:Object.assign(Object.assign({},jg),{storageKey:c}),global:Sg},f=Rg(r??{},d);this.storageKey=(s=f.auth.storageKey)!==null&&s!==void 0?s:"",this.headers=(i=f.global.headers)!==null&&i!==void 0?i:{},f.accessToken?(this.accessToken=f.accessToken,this.auth=new Proxy({},{get:(m,y)=>{throw new Error(`@supabase/supabase-js: Supabase Client is configured with the accessToken option, accessing supabase.auth.${String(y)} is not possible`)}})):this.auth=this._initSupabaseAuthClient((o=f.auth)!==null&&o!==void 0?o:{},this.headers,f.global.fetch),this.fetch=Pg(n,this._getAccessToken.bind(this),f.global.fetch),this.realtime=this._initRealtimeClient(Object.assign({headers:this.headers,accessToken:this._getAccessToken.bind(this)},f.realtime)),this.rest=new Wm(new URL("rest/v1",l).href,{headers:this.headers,schema:f.db.schema,fetch:this.fetch}),this.storage=new xg(this.storageUrl.href,this.headers,this.fetch,r==null?void 0:r.storage),f.accessToken||this._listenForAuthEvents()}get functions(){return new xm(this.functionsUrl.href,{headers:this.headers,customFetch:this.fetch})}from(e){return this.rest.from(e)}schema(e){return this.rest.schema(e)}rpc(e,n={},r={}){return this.rest.rpc(e,n,r)}channel(e,n={config:{}}){return this.realtime.channel(e,n)}getChannels(){return this.realtime.getChannels()}removeChannel(e){return this.realtime.removeChannel(e)}removeAllChannels(){return this.realtime.removeAllChannels()}_getAccessToken(){var e,n;return Ev(this,void 0,void 0,function*(){if(this.accessToken)return yield this.accessToken();const{data:r}=yield this.auth.getSession();return(n=(e=r.session)===null||e===void 0?void 0:e.access_token)!==null&&n!==void 0?n:this.supabaseKey})}_initSupabaseAuthClient({autoRefreshToken:e,persistSession:n,detectSessionInUrl:r,storage:s,storageKey:i,flowType:o,lock:a,debug:l},c,d){const f={Authorization:`Bearer ${this.supabaseKey}`,apikey:`${this.supabaseKey}`};return new Nv({url:this.authUrl.href,headers:Object.assign(Object.assign({},f),c),storageKey:i,autoRefreshToken:e,persistSession:n,detectSessionInUrl:r,storage:s,flowType:o,lock:a,debug:l,fetch:d,hasCustomAuthorizationHeader:"Authorization"in this.headers})}_initRealtimeClient(e){return new ag(this.realtimeUrl.href,Object.assign(Object.assign({},e),{params:Object.assign({apikey:this.supabaseKey},e==null?void 0:e.params)}))}_listenForAuthEvents(){return this.auth.onAuthStateChange((n,r)=>{this._handleTokenChanged(n,"CLIENT",r==null?void 0:r.access_token)})}_handleTokenChanged(e,n,r){(e==="TOKEN_REFRESHED"||e==="SIGNED_IN")&&this.changedAccessToken!==r?this.changedAccessToken=r:e==="SIGNED_OUT"&&(this.realtime.setAuth(),n=="STORAGE"&&this.auth.signOut(),this.changedAccessToken=void 0)}}const Tv=(t,e,n)=>new Cv(t,e,n);function Pv(){if(typeof window<"u"||typeof process>"u")return!1;const t=process.version;if(t==null)return!1;const e=t.match(/^v(\d+)\./);return e?parseInt(e[1],10)<=18:!1}Pv()&&console.warn("⚠️  Node.js 18 and below are deprecated and will no longer be supported in future versions of @supabase/supabase-js. Please upgrade to Node.js 20 or later. For more information, visit: https://github.com/orgs/supabase/discussions/37217");const Ov="https://goecucoqhsedhilvwxeg.supabase.co",Av="eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpc3MiOiJzdXBhYmFzZSIsInJlZiI6ImdvZWN1Y29xaHNlZGhpbHZ3eGVnIiwicm9sZSI6ImFub24iLCJpYXQiOjE3NTQ5NjQ0MzIsImV4cCI6MjA3MDU0MDQzMn0.CYT8U5phPd7wA4qo5wUQsbxpvWju2fnMAXKdZSWiyTw",ne=Tv(Ov,Av),Rv=async t=>{var e,n;try{const{data:r}=await ne.auth.getUser(),s=((e=r==null?void 0:r.user)==null?void 0:e.id)||void 0,i={...t};s&&(i.id=s);const{data:o,error:a}=await ne.from("users").upsert([i],{onConflict:s?"id":"email"}).select().single();if(a){if(console.error("Error creating user profile:",a),a.code==="23505"||a.status===409){const{data:l,error:c}=await ne.from("users").select("*").eq("email",t.email).single();if(!c&&l)return l}return a.code==="PGRST205"||(n=a.message)!=null&&n.includes("does not exist")?(console.log("Users table not found, creating mock user profile"),{id:`mock-${Date.now()}`,email:t.email,registration_no:t.registration_no,name:t.name,gender:t.gender,hostel_code:t.hostel_code,hostel_number:t.hostel_number,room_number:t.room_number,created_at:new Date().toISOString(),updated_at:new Date().toISOString()}):null}return o}catch(r){return console.error("Error creating user profile:",r),console.log("Creating mock user profile due to error"),{id:`mock-${Date.now()}`,email:t.email,registration_no:t.registration_no,name:t.name,gender:t.gender,hostel_code:t.hostel_code,hostel_number:t.hostel_number,room_number:t.room_number,created_at:new Date().toISOString(),updated_at:new Date().toISOString()}}},$v=async t=>{var e;try{const{data:n,error:r}=await ne.from("users").select("*").eq("id",t).single();return r?(console.error("Error fetching user profile:",r),(r.code==="PGRST205"||(e=r.message)!=null&&e.includes("does not exist"))&&console.log("Users table not found, returning null"),null):n}catch(n){return console.error("Error fetching user profile:",n),null}},Rh=async(t,e,n)=>{try{const r=new Date(t.getFullYear(),0,1),s=Math.ceil(((t.getTime()-r.getTime())/864e5+r.getDay()+1)/7),i=t.getDay(),a=["sunday","monday","tuesday","wednesday","thursday","friday","saturday"][i];console.log("🔍 Supabase query params:",{hostel:e,season:n,weekNumber:s,dayOfWeek:i,dayName:a,date:t.toDateString()});let{data:l,error:c}=await ne.from("weekly_menus").select("days_data").eq("hostel",e).eq("season",n).eq("week",s).single();if(c||!l){console.log("⚠️ No data for week",s,"- trying to find available data");const{data:d,error:f}=await ne.from("weekly_menus").select("days_data").eq("hostel",e).eq("season",n).limit(1).single();d&&!f?(console.log("✅ Found available data from another week, using it"),l=d,c=null):console.log("❌ No available data found for this hostel and season")}if(c)return console.error("❌ Supabase error fetching menu:",c),null;if(console.log("📊 Supabase response:",{hasData:!!l,hasDaysData:!!(l&&l.days_data),dataType:l?typeof l.days_data:"no data",isArray:l&&Array.isArray(l.days_data)}),l&&l.days_data){if(Array.isArray(l.days_data)){const d=i,f=l.days_data[d];if(console.log("📅 Day data found:",{dayIndex:d,hasDayData:!!f,dayDataKeys:f?Object.keys(f):"no data"}),f){const m={breakfast:f.BREAKFAST?f.BREAKFAST.split(", "):[],lunch:f.LUNCH?f.LUNCH.split(", "):[],snacks:f.SNACKS?f.SNACKS.split(", "):[],dinner:f.DINNER?f.DINNER.split(", "):[]};return console.log("✅ Converted menu data:",{breakfastItems:m.breakfast.length,lunchItems:m.lunch.length,snacksItems:m.snacks.length,dinnerItems:m.dinner.length}),m}}if(l.days_data[a])return console.log("🔄 Using fallback data structure"),l.days_data[a]}return console.log("❌ No menu data found, returning null"),null}catch(r){return console.error("❌ Error fetching menu:",r),null}},Lv=async t=>{var e,n;try{const{data:r,error:s}=await ne.from("admins").insert([t]).select().single();return s?(console.error("Error creating admin profile:",s),s.code==="PGRST205"||(e=s.message)!=null&&e.includes("does not exist")?console.error("The admins table does not exist. Please run create_weekly_menus_and_admins.sql"):(s.code==="42501"||(n=s.message)!=null&&n.includes("permission denied"))&&console.error('Permission denied. If this is the first admin, ensure the "Bootstrap first admin" policy exists.'),null):r}catch(r){return console.error("Error creating admin profile:",r),null}},Tr=async()=>{if(!("Notification"in window))return console.warn("This browser does not support notifications"),!1;if(Notification.permission==="default")try{return await Notification.requestPermission()==="granted"}catch(t){return console.error("Error requesting notification permission:",t),!1}return Notification.permission==="granted"},vl=(t,e,n)=>{if(!("Notification"in window))return console.warn("This browser does not support notifications"),null;if(Notification.permission!=="granted")return console.warn("Notification permission not granted"),null;try{const r=new Notification(t,{body:e,icon:"/vite.svg",badge:"/vite.svg",tag:"ccode-notification",requireInteraction:!1,silent:!1,...n});return r.onclick=()=>{window.focus(),r.close()},r}catch(r){return console.error("Error showing notification:",r),null}},Iv=(t,e)=>{const n=Math.floor(e/6e4),r=Math.floor(n/60);let s="";r>0?s=`${r} hour${r>1?"s":""} and ${n%60} minute${n%60!==1?"s":""}`:s=`${n} minute${n!==1?"s":""}`,vl(`🍽️ ${t} Reminder`,`${t} will be served in ${s}! Don't miss out on today's delicious meal.`,{tag:`meal-${t.toLowerCase()}`,requireInteraction:!0})},Dv=(t,e)=>{const n=e.slice(0,3).join(", "),r=e.length>3?` and ${e.length-3} more items`:"";vl(`🎉 ${t} is Now Serving!`,`Today's ${t.toLowerCase()}: ${n}${r}. Head to the mess now!`,{tag:`meal-serving-${t.toLowerCase()}`,requireInteraction:!0})},Uv=t=>{const e=new Date,[n,r]=t.split(":").map(Number),s=new Date;return s.setHours(n,r,0,0),s<=e&&s.setDate(s.getDate()+1),s.getTime()-e.getTime()},Ct=t=>{[{type:"Breakfast",time:"7:00",timeRange:{start:7,end:9},enabled:t.breakfast||t.global},{type:"Lunch",time:"12:30",timeRange:{start:12.5,end:14.5},enabled:t.lunch||t.global},{type:"Snacks",time:"18:00",timeRange:{start:18,end:19.75},enabled:t.snacks||t.global},{type:"Dinner",time:"20:30",timeRange:{start:20.5,end:22.25},enabled:t.dinner||t.global}].forEach(n=>{n.enabled&&Mv(n)})},Mv=t=>{const e=Uv(t.time);if(e<=0)return;const n=e-15*60*1e3;n>0&&setTimeout(()=>{Iv(t.type,15*60*1e3)},n),setTimeout(()=>{const s=zv(t.type);Dv(t.type,s)},e);const r=(t.timeRange.end-t.timeRange.start)*60*60*1e3;if(r>2*60*60*1e3){const s=e+r/2;setTimeout(()=>{vl(`⏰ ${t.type} Still Available`,`${t.type} is still being served. Don't forget to grab your meal!`,{tag:`meal-mid-${t.type.toLowerCase()}`})},s)}},zv=t=>({breakfast:["BARA","GHUGUNI","TEA"],lunch:["RICE","ROTI","DAL","CURRY"],snacks:["PAMPDI CHAT","IMLI CHUTNI","TEA"],dinner:["BIRIYANI","CURRY","RAITA"]})[t.toLowerCase()]||["Delicious food"],$h=()=>"Notification"in window?{supported:!0,permission:Notification.permission,canRequest:Notification.permission==="default"}:{supported:!1,permission:"not-supported",canRequest:!1},Pr=async t=>{const e=$h();return e.supported?e.permission==="default"?await Tr()?(Ct(t),!0):!1:e.permission==="granted"?(Ct(t),!0):!1:(console.warn("Notifications not supported in this browser"),!1)},Fv=({onLogin:t,isAdmin:e=!1})=>{const[n,r]=R.useState(!0),[s,i]=R.useState({email:"",password:"",name:"",rollNumber:"",gender:"male",hostelCode:"BH",hostelNumber:1,roomNumber:"",notifications:!1}),[o,a]=R.useState(!1),[l,c]=R.useState(null),[d,f]=R.useState(null),m=(v,k)=>{i(g=>({...g,[v]:k})),v==="gender"&&i(g=>({...g,hostelCode:k==="male"?"BH":"LH",hostelNumber:1})),c(null)},y=async()=>{if(c(null),f(null),!s.email){c("Enter your email to receive a reset link.");return}try{const{error:v}=await ne.auth.resetPasswordForEmail(s.email,{redirectTo:window.location.origin});v?c(v.message):f("Password reset email sent. Check your inbox (and spam).")}catch(v){c(v.message||"Failed to send reset email")}},x=async v=>{var k,g,p;if(v.preventDefault(),a(!0),c(null),f(null),n){const{data:h,error:w}=await ne.auth.signInWithPassword({email:s.email,password:s.password});if(w){const _=w.message||"";_.toLowerCase().includes("invalid login credentials")?c(e?"Invalid login credentials. Note: adding your email to the admins list does not create a login. First sign up with this email (or reset your password), then try again.":"Invalid login credentials. Please check your email and password or reset your password."):c(_),a(!1);return}if(e){const{data:_}=await ne.from("admins").select("*").eq("id",(k=h.user)==null?void 0:k.id).single();if(_)t({..._,role:"admin",email:_.email||((g=h.user)==null?void 0:g.email)});else{c("Your account doesn't have admin privileges"),a(!1),await ne.auth.signOut();return}}else{const{data:_}=await ne.from("users").select("*").eq("email",s.email).single();_&&(t(_),(p=_.preferences)!=null&&p.notifications&&await Pr(_.preferences.notifications))}a(!1)}else{const{error:h}=await ne.auth.signUp({email:s.email,password:s.password});if(h){c(h.message),a(!1);return}if(e){let S=(await ne.auth.getUser()).data.user;if(!S){const{data:C,error:$}=await ne.auth.signInWithPassword({email:s.email,password:s.password});if($){c(`Sign-in required to finalize admin setup. ${$.message}`),a(!1);return}S=C.user}const b=await Lv({email:s.email,name:s.name});if(!b){c("Failed to create admin profile. If this is the first admin, ensure the SQL script was applied."),a(!1);return}t({...b,role:"admin",email:b.email||s.email}),a(!1);return}const w={email:s.email,registration_no:s.rollNumber,name:s.name,gender:s.gender,hostel_code:s.hostelCode,hostel_number:s.hostelNumber,room_number:s.roomNumber},_=await Rv(w);_&&(_.preferences={notifications:{global:s.notifications,breakfast:s.notifications,lunch:s.notifications,snacks:s.notifications,dinner:s.notifications}},t(_),s.notifications&&(await Tr(),await Pr(_.preferences.notifications))),a(!1)}};return u.jsxs("div",{className:"max-w-md mx-auto glass-card p-6 rounded-3xl",children:[u.jsx("h2",{className:"text-2xl font-bold text-white mb-4",children:n?"Login":"Sign Up"}),u.jsxs("form",{onSubmit:x,className:"space-y-4",children:[!n&&u.jsx(u.Fragment,{children:e?u.jsx(u.Fragment,{children:u.jsx("input",{type:"text",placeholder:"Full Name",value:s.name,onChange:v=>m("name",v.target.value),className:"w-full px-4 py-3 rounded-xl bg-white/10 text-white",required:!0})}):u.jsxs(u.Fragment,{children:[u.jsx("input",{type:"text",placeholder:"Full Name",value:s.name,onChange:v=>m("name",v.target.value),className:"w-full px-4 py-3 rounded-xl bg-white/10 text-white",required:!0}),u.jsx("input",{type:"text",placeholder:"Roll Number",value:s.rollNumber,onChange:v=>m("rollNumber",v.target.value),className:"w-full px-4 py-3 rounded-xl bg-white/10 text-white",required:!0}),u.jsxs("div",{className:"flex space-x-4",children:[u.jsxs("label",{children:[u.jsx("input",{type:"radio",name:"gender",value:"male",checked:s.gender==="male",onChange:v=>m("gender",v.target.value)})," Male"]}),u.jsxs("label",{children:[u.jsx("input",{type:"radio",name:"gender",value:"female",checked:s.gender==="female",onChange:v=>m("gender",v.target.value)})," Female"]})]}),u.jsx("div",{children:u.jsxs("label",{children:["Hostel Type: ",s.hostelCode]})}),u.jsx("select",{value:s.hostelNumber,onChange:v=>m("hostelNumber",parseInt(v.target.value)),className:"w-full px-4 py-3 rounded-xl bg-white/10 text-white",children:s.hostelCode==="BH"?Array.from({length:12},(v,k)=>k+1).map(v=>u.jsxs("option",{value:v,children:["Hostel ",v]},v)):Array.from({length:4},(v,k)=>k+1).map(v=>u.jsxs("option",{value:v,children:["Hostel ",v]},v))}),u.jsx("input",{type:"text",placeholder:"Room Number",value:s.roomNumber,onChange:v=>m("roomNumber",v.target.value),className:"w-full px-4 py-3 rounded-xl bg-white/10 text-white",required:!0}),u.jsxs("label",{className:"flex items-center space-x-2",children:[u.jsx("input",{type:"checkbox",checked:s.notifications,onChange:v=>m("notifications",v.target.checked)}),u.jsx("span",{className:"text-white",children:"Enable meal notifications"})]})]})}),u.jsx("input",{type:"email",placeholder:"Email",value:s.email,onChange:v=>m("email",v.target.value),className:"w-full px-4 py-3 rounded-xl bg-white/10 text-white",required:!0}),u.jsx("input",{type:"password",placeholder:"Password",value:s.password,onChange:v=>m("password",v.target.value),className:"w-full px-4 py-3 rounded-xl bg-white/10 text-white",required:!0}),n&&u.jsxs("div",{className:"mt-2 flex items-center justify-between text-sm",children:[u.jsx("button",{type:"button",onClick:y,disabled:!s.email||o,className:"text-primary-300 underline disabled:opacity-50",children:"Forgot password?"}),e&&u.jsx("span",{className:"text-white/60",children:"New admin? Use Sign Up first."})]}),l&&u.jsx("div",{className:"text-red-400 mt-2",children:l}),d&&u.jsx("div",{className:"text-green-400 mt-2",children:d}),u.jsx("button",{type:"submit",disabled:o,className:"w-full bg-gradient-primary text-white py-3 rounded-xl font-bold mt-2",children:o?n?"Logging in...":"Signing up...":n?"Login":"Sign Up"})]}),u.jsx("div",{className:"mt-4 text-center",children:u.jsx("button",{onClick:()=>r(!n),className:"text-primary-400 underline",children:n?"Don't have an account? Sign Up":"Already have an account? Login"})})]})},Bv=({onLogin:t})=>{const[e,n]=R.useState(!1);return u.jsxs("div",{className:"w-full animate-fade-in-up",children:[u.jsx("div",{className:"flex justify-center mb-4",children:u.jsxs("div",{className:"bg-white/10 rounded-2xl p-1 inline-flex",children:[u.jsx("button",{type:"button",onClick:()=>n(!1),className:`px-4 py-2 rounded-2xl ${e?"text-white/80":"bg-primary-500 text-white"}`,children:"User"}),u.jsx("button",{type:"button",onClick:()=>n(!0),className:`px-4 py-2 rounded-2xl ${e?"bg-primary-500 text-white":"text-white/80"}`,children:"Admin"})]})}),u.jsxs("div",{className:"text-center mb-8 animate-fade-in-up animate-delay-200",children:[e&&u.jsx("p",{className:"text-white/70 mt-2",children:"Admin mode: use Supabase email/password to sign in."}),u.jsx("div",{className:"w-20 h-20 bg-gradient-primary rounded-3xl flex items-center justify-center mx-auto mb-6 shadow-glow",children:u.jsx("span",{className:"text-3xl",children:"🍽️"})}),u.jsx("h1",{className:"text-4xl md:text-5xl font-bold text-white mb-2",children:"CCode"}),u.jsx("p",{className:"text-white/70 text-lg md:text-xl max-w-sm mx-auto",children:"Your smart mess menu companion"})]}),u.jsxs("div",{className:"glass-card rounded-3xl p-6 md:p-8 shadow-glass transition-all duration-300 hover:glass-card-hover",children:[u.jsxs("div",{className:"text-center mb-6",children:[u.jsx("h2",{className:"text-2xl md:text-3xl font-bold text-white mb-2",children:"Access your account"}),u.jsx("p",{className:"text-white/60",children:"Sign in or sign up using Supabase Auth"})]}),u.jsx("div",{className:"mt-4",children:u.jsx(Fv,{isAdmin:e,onLogin:r=>t(r)})})]}),u.jsx("div",{className:"text-center mt-8 animate-fade-in-up animate-delay-500",children:u.jsx("p",{className:"text-white/50 text-sm",children:"By continuing, you agree to our Terms of Service and Privacy Policy"})})]})};/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */var Hv={xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"};/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Wv=t=>t.replace(/([a-z0-9])([A-Z])/g,"$1-$2").toLowerCase().trim(),ce=(t,e)=>{const n=R.forwardRef(({color:r="currentColor",size:s=24,strokeWidth:i=2,absoluteStrokeWidth:o,className:a="",children:l,...c},d)=>R.createElement("svg",{ref:d,...Hv,width:s,height:s,stroke:r,strokeWidth:o?Number(i)*24/Number(s):i,className:["lucide",`lucide-${Wv(t)}`,a].join(" "),...c},[...e.map(([f,m])=>R.createElement(f,m)),...Array.isArray(l)?l:[l]]));return n.displayName=`${t}`,n};/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const qu=ce("ArrowLeft",[["path",{d:"m12 19-7-7 7-7",key:"1l729n"}],["path",{d:"M19 12H5",key:"x3x0zl"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Vv=ce("ArrowRight",[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"m12 5 7 7-7 7",key:"xquz4c"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const va=ce("BellOff",[["path",{d:"M8.7 3A6 6 0 0 1 18 8a21.3 21.3 0 0 0 .6 5",key:"o7mx20"}],["path",{d:"M17 17H3s3-2 3-9a4.67 4.67 0 0 1 .3-1.7",key:"16f1lm"}],["path",{d:"M10.3 21a1.94 1.94 0 0 0 3.4 0",key:"qgo35s"}],["path",{d:"m2 2 20 20",key:"1ooewy"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Is=ce("Bell",[["path",{d:"M6 8a6 6 0 0 1 12 0c0 7 3 9 3 9H3s3-2 3-9",key:"1qo2s2"}],["path",{d:"M10.3 21a1.94 1.94 0 0 0 3.4 0",key:"qgo35s"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const gr=ce("Calendar",[["path",{d:"M8 2v4",key:"1cmpym"}],["path",{d:"M16 2v4",key:"4m81vk"}],["rect",{width:"18",height:"18",x:"3",y:"4",rx:"2",key:"1hopcy"}],["path",{d:"M3 10h18",key:"8toen8"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Lh=ce("ChevronLeft",[["path",{d:"m15 18-6-6 6-6",key:"1wnfg3"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ih=ce("ChevronRight",[["path",{d:"m9 18 6-6-6-6",key:"mthhwq"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const qv=ce("Clock",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["polyline",{points:"12 6 12 12 16 14",key:"68esgv"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ku=ce("Home",[["path",{d:"m3 9 9-7 9 7v11a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2z",key:"y5dka4"}],["polyline",{points:"9 22 9 12 15 12 15 22",key:"e2us08"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Kv=ce("LogOut",[["path",{d:"M9 21H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h4",key:"1uf3rs"}],["polyline",{points:"16 17 21 12 16 7",key:"1gabdz"}],["line",{x1:"21",x2:"9",y1:"12",y2:"12",key:"1uyos4"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Gv=ce("Mail",[["rect",{width:"20",height:"16",x:"2",y:"4",rx:"2",key:"18n3k1"}],["path",{d:"m22 7-8.97 5.7a1.94 1.94 0 0 1-2.06 0L2 7",key:"1ocrg3"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Qv=ce("Menu",[["line",{x1:"4",x2:"20",y1:"12",y2:"12",key:"1e0a9i"}],["line",{x1:"4",x2:"20",y1:"6",y2:"6",key:"1owob3"}],["line",{x1:"4",x2:"20",y1:"18",y2:"18",key:"yk5zj1"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Jv=ce("PenLine",[["path",{d:"M12 20h9",key:"t2du7b"}],["path",{d:"M16.5 3.5a2.12 2.12 0 0 1 3 3L7 19l-4 1 1-4Z",key:"ymcmye"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Yv=ce("Save",[["path",{d:"M19 21H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h11l5 5v11a2 2 0 0 1-2 2z",key:"1owoqh"}],["polyline",{points:"17 21 17 13 7 13 7 21",key:"1md35c"}],["polyline",{points:"7 3 7 8 15 8",key:"8nz8an"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Xv=ce("Search",[["circle",{cx:"11",cy:"11",r:"8",key:"4ej97u"}],["path",{d:"m21 21-4.3-4.3",key:"1qie3q"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Zv=ce("Settings",[["path",{d:"M12.22 2h-.44a2 2 0 0 0-2 2v.18a2 2 0 0 1-1 1.73l-.43.25a2 2 0 0 1-2 0l-.15-.08a2 2 0 0 0-2.73.73l-.22.38a2 2 0 0 0 .73 2.73l.15.1a2 2 0 0 1 1 1.72v.51a2 2 0 0 1-1 1.74l-.15.09a2 2 0 0 0-.73 2.73l.22.38a2 2 0 0 0 2.73.73l.15-.08a2 2 0 0 1 2 0l.43.25a2 2 0 0 1 1 1.73V20a2 2 0 0 0 2 2h.44a2 2 0 0 0 2-2v-.18a2 2 0 0 1 1-1.73l.43-.25a2 2 0 0 1 2 0l.15.08a2 2 0 0 0 2.73-.73l.22-.39a2 2 0 0 0-.73-2.73l-.15-.08a2 2 0 0 1-1-1.74v-.5a2 2 0 0 1 1-1.74l.15-.09a2 2 0 0 0 .73-2.73l-.22-.38a2 2 0 0 0-2.73-.73l-.15.08a2 2 0 0 1-2 0l-.43-.25a2 2 0 0 1-1-1.73V4a2 2 0 0 0-2-2z",key:"1qme2f"}],["circle",{cx:"12",cy:"12",r:"3",key:"1v7zrd"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Fn=ce("User",[["path",{d:"M19 21v-2a4 4 0 0 0-4-4H9a4 4 0 0 0-4 4v2",key:"975kel"}],["circle",{cx:"12",cy:"7",r:"4",key:"17ys0d"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Gu=ce("X",[["path",{d:"M18 6 6 18",key:"1bl5f8"}],["path",{d:"m6 6 12 12",key:"d8bk6v"}]]),H=({variant:t="primary",size:e="md",children:n,icon:r,iconPosition:s="left",className:i="",...o})=>{const a="inline-flex items-center justify-center font-medium rounded-2xl transition-all duration-300 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-offset-transparent disabled:opacity-50 disabled:cursor-not-allowed",l={primary:"bg-gradient-primary hover:bg-gradient-primary/90 text-white shadow-glow hover:shadow-glow-hover focus:ring-primary-500",secondary:"bg-gradient-secondary hover:bg-gradient-secondary/90 text-white shadow-glow hover:shadow-glow-hover focus:ring-secondary-500",accent:"bg-gradient-accent hover:bg-gradient-accent/90 text-white shadow-glow hover:shadow-glow-hover focus:ring-accent-500",glass:"glass-card hover:glass-card-hover text-white border-white/20 focus:ring-white/50",outline:"border-2 border-primary-500 text-primary-500 hover:bg-primary-500 hover:text-white focus:ring-primary-500",ghost:"text-white/70 hover:text-white hover:bg-white/10 focus:ring-white/50"},c={sm:"px-4 py-2 text-sm rounded-xl",md:"px-6 py-3 text-base rounded-2xl",lg:"px-8 py-4 text-lg rounded-2xl",xl:"px-10 py-5 text-xl rounded-3xl",icon:"w-12 h-12 rounded-2xl"},d=`${a} ${l[t]} ${c[e]} ${i}`;return u.jsxs("button",{className:d,...o,children:[r&&s==="left"&&u.jsx(r,{className:`w-5 h-5 ${e==="icon"?"":"mr-2"}`}),n,r&&s==="right"&&u.jsx(r,{className:`w-5 h-5 ${e==="icon"?"":"ml-2"}`})]})},ft={breakfast:["POHA WITH PEANUTS","BANANA","TEA"],lunch:["RICE, CHAPATI, DAL","CHICKEN CURRY/VEG CURRY","PICKLE","PAPAD","BUTTERMILK"],snacks:["SAMOSA (2PCS)","GREEN CHUTNEY","TEA"],dinner:["JEERA RICE","RAJMA MASALA/PANEER BUTTER MASALA","ROTI","SWEET LASSI"]},he=t=>JSON.stringify(t)===JSON.stringify(ft),ui=async(t,e="BH1",n="summer")=>{try{const r=await Rh(t,e,n),s=!r||he(r);return console.log("🍽️ getMenuForDate result:",{hasMenu:!!r,isFallbackData:s,source:s?"❌ FALLBACK DATA":"✅ SUPABASE DATA",menuKeys:r?Object.keys(r):"no data"}),r||ft}catch(r){return console.error("❌ Error fetching menu for date:",r),console.log("🔄 Returning fallback data due to error"),ft}},ey=()=>{const t=new Date,e=t.getHours()+t.getMinutes()/60;return e>=7&&e<9?{type:"Breakfast",key:"breakfast"}:e>=12.5&&e<14.5?{type:"Lunch",key:"lunch"}:e>=18&&e<19.75?{type:"Snacks",key:"snacks"}:e>=20.5&&e<22.25?{type:"Dinner",key:"dinner"}:null},ty=async(t="BH1",e="summer")=>{var s,i,o,a;const n=new Date,r=n.getHours()+n.getMinutes()/60;console.log("🕐 getNextMeal called:",{currentHour:r,hostel:t,season:e,time:n.toLocaleTimeString()});try{const l=await ui(n,t,e);if(console.log("📊 Today menu received:",{hasMenu:!!l,isFallback:l===ft,breakfastItems:((s=l==null?void 0:l.breakfast)==null?void 0:s.length)||0,lunchItems:((i=l==null?void 0:l.lunch)==null?void 0:i.length)||0,snacksItems:((o=l==null?void 0:l.snacks)==null?void 0:o.length)||0,dinnerItems:((a=l==null?void 0:l.dinner)==null?void 0:a.length)||0}),r<7){const c={type:"Breakfast",items:l.breakfast,key:"breakfast"};return console.log("🌅 Next meal: Breakfast (before 7 AM)"),c}else if(r<12.5){const c={type:"Lunch",items:l.lunch,key:"lunch"};return console.log("🍽️ Next meal: Lunch (before 12:30 PM)"),c}else if(r<18){const c={type:"Snacks",items:l.snacks,key:"snacks"};return console.log("🧁 Next meal: Snacks (before 6 PM)"),c}else if(r<20.5){const c={type:"Dinner",items:l.dinner,key:"dinner"};return console.log("🌙 Next meal: Dinner (before 8:30 PM)"),c}else{const c=new Date(n);c.setDate(c.getDate()+1);const f={type:"Breakfast",items:(await ui(c,t,e)).breakfast,key:"breakfast"};return console.log("🌅 Next meal: Tomorrow Breakfast (after 10:15 PM)"),f}}catch(l){return console.error("❌ Error getting next meal:",l),console.log("🔄 Using fallback menu data due to error"),r<7?{type:"Breakfast",items:ft.breakfast,key:"breakfast"}:r<12.5?{type:"Lunch",items:ft.lunch,key:"lunch"}:r<18?{type:"Snacks",items:ft.snacks,key:"snacks"}:r<20.5?{type:"Dinner",items:ft.dinner,key:"dinner"}:{type:"Breakfast",items:ft.breakfast,key:"breakfast"}}},yl=()=>{const t=new Date().getMonth()+1;return t>=3&&t<=8?"summer":"winter"},Dh=t=>(t==null?void 0:t.hostel)||"BH1",Qu=({menu:t,user:e,isToday:n,currentTime:r})=>{var L;const[s,i]=R.useState(()=>{var A;const N=localStorage.getItem("ccodeDashboardNotifications");if(N)try{return JSON.parse(N)}catch(z){console.error("Error parsing saved dashboard notifications:",z)}return((A=e.preferences)==null?void 0:A.notifications)||{global:!1,breakfast:!1,lunch:!1,snacks:!1,dinner:!1}}),[o,a]=R.useState(0),[l,c]=R.useState(new Date),[d,f]=R.useState(null),[m,y]=R.useState(!1),[x,v]=R.useState(!1),[k,g]=R.useState({breakfast:!1,lunch:!1,snacks:!1,dinner:!1}),p=()=>{const N=typeof window<"u"?window.innerWidth:1024;return N<640?5:N<1024?7:9},[h,w]=R.useState(p());R.useEffect(()=>{const N=()=>w(p());return window.addEventListener("resize",N),()=>window.removeEventListener("resize",N)},[]);const _=N=>{g(A=>({...A,[N]:!A[N]}))},S=Dh(e),b=yl();R.useEffect(()=>{var N;if((N=e.preferences)!=null&&N.notifications&&e.preferences.notifications.global){const A={global:!0,breakfast:e.preferences.notifications.breakfast||!1,lunch:e.preferences.notifications.lunch||!1,snacks:e.preferences.notifications.snacks||!1,dinner:e.preferences.notifications.dinner||!1};i(A),localStorage.setItem("ccodeDashboardNotifications",JSON.stringify(A))}},[(L=e.preferences)==null?void 0:L.notifications]),R.useEffect(()=>{(async()=>{y(!0);try{const A=await Rh(l,S,b);f(A)}catch(A){console.error("Error fetching menu for selected date:",A),f(null)}finally{y(!1)}})()},[l,S,b]);const C=(N=0)=>{const A=new Date,z=A.getDay(),xe=z===0?6:z-1,Z=new Date(A);Z.setDate(A.getDate()-xe+N*7);const tt=[];for(let _e=0;_e<7;_e++){const at=new Date(Z);at.setDate(Z.getDate()+_e),tt.push(at)}return tt},$=C(o),j=()=>{a(A=>A-1);const N=C(o-1);c(N[0])},O=()=>{a(A=>A+1);const N=C(o+1);c(N[0])},F=()=>{a(0),c(new Date)},te=N=>{const A=new Date,z=N.toDateString()===A.toDateString(),xe=o===0,Z=N.toDateString()===l.toDateString();return{day:N.getDate().toString().padStart(2,"0"),dayName:N.toLocaleDateString("en-US",{weekday:"short"}).toUpperCase(),isToday:z,isCurrentWeek:xe,isSelected:Z}},me=async N=>{const A={...s,[N]:!s[N]};i(A),localStorage.setItem("ccodeDashboardNotifications",JSON.stringify(A)),A[N]&&"Notification"in window&&(Notification.permission==="default"&&await Notification.requestPermission(),Notification.permission==="granted"&&new Notification("CCode Dashboard",{body:`Notifications enabled for ${N} in dashboard! This is a one-time setting.`,icon:"/vite.svg"}))},tr=()=>r.getHours()+r.getMinutes()/60,Gt=N=>{if(!n)return!1;const A=tr();return A>=N.timeRange.start&&A<=N.timeRange.end},T=(N=>N?[{name:"Breakfast",key:"breakfast",emoji:"🥞",time:"7:00 - 9:00 AM",timeRange:{start:7,end:9},gradient:"from-primary-500 via-primary-600 to-primary-700",items:N.breakfast},{name:"Lunch",key:"lunch",emoji:"🍽️",time:"12:30 - 2:30 PM",timeRange:{start:12.5,end:14.5},gradient:"from-secondary-500 via-secondary-600 to-secondary-700",items:N.lunch},{name:"Snacks",key:"snacks",emoji:"🧁",time:"6:00 - 7:45 PM",timeRange:{start:18,end:19.75},gradient:"from-accent-500 via-accent-600 to-accent-700",items:N.snacks},{name:"Dinner",key:"dinner",emoji:"🌙",time:"8:30 - 10:15 PM",timeRange:{start:20.5,end:22.25},gradient:"from-primary-600 via-primary-700 to-primary-800",items:N.dinner}]:[{name:"Breakfast",key:"breakfast",emoji:"🥞",time:"7:00 - 9:00 AM",timeRange:{start:7,end:9},gradient:"from-primary-500 via-primary-600 to-primary-700",items:["Loading..."]},{name:"Lunch",key:"lunch",emoji:"🍽️",time:"12:30 - 2:30 PM",timeRange:{start:12.5,end:14.5},gradient:"from-secondary-500 via-secondary-600 to-secondary-700",items:["Loading..."]},{name:"Snacks",key:"snacks",emoji:"🧁",time:"6:00 - 7:45 PM",timeRange:{start:18,end:19.75},gradient:"from-accent-500 via-accent-600 to-accent-700",items:["Loading..."]},{name:"Dinner",key:"dinner",emoji:"🌙",time:"8:30 - 10:15 PM",timeRange:{start:20.5,end:22.25},gradient:"from-primary-600 via-primary-700 to-primary-800",items:["Loading..."]}])(d);return u.jsxs("div",{className:"space-y-6",children:[u.jsxs("div",{className:"glass-card rounded-3xl p-6",children:[u.jsxs("div",{className:"flex flex-col sm:flex-row sm:items-center sm:justify-between mb-4 sm:mb-6 space-y-3 sm:space-y-0",children:[u.jsxs("div",{className:"flex flex-col sm:flex-row sm:items-center space-y-2 sm:space-y-0 sm:space-x-3",children:[u.jsx("h2",{className:"text-lg sm:text-xl md:text-2xl font-bold gradient-text",children:"Checkout what's in this week!"}),u.jsx("div",{className:`px-2 py-1 rounded-full text-xs font-medium w-fit ${he(d)?"bg-red-500/20 text-red-300 border border-red-500/30":"bg-green-500/20 text-green-300 border border-green-500/30"}`,children:he(d)?"Sample Data":"Live Data"})]}),u.jsx("div",{className:"flex items-center space-x-2",children:u.jsx(H,{onClick:F,variant:"outline",size:"sm",className:"text-xs px-3 py-1",children:"Today"})})]}),u.jsxs("div",{className:"relative",children:[u.jsx(H,{onClick:j,variant:"glass",size:"icon",className:"absolute left-0 top-1/2 transform -translate-y-1/2 -translate-x-2 z-10 w-8 h-8 md:w-10 md:h-10 rounded-full backdrop-blur-custom border-white/20 flex items-center justify-center",children:u.jsx(Lh,{className:"w-5 h-5 text-white"})}),u.jsx(H,{onClick:O,variant:"glass",size:"icon",className:"absolute right-0 top-1/2 transform -translate-y-1/2 translate-x-2 z-10 w-8 h-8 md:w-10 md:h-10 rounded-full backdrop-blur-custom border-white/20 flex items-center justify-center",children:u.jsx(Ih,{className:"w-5 h-5 text-white"})}),u.jsx("div",{className:"grid grid-cols-3 sm:grid-cols-5 md:grid-cols-7 gap-1 sm:gap-2 md:gap-3 px-8 sm:px-10 md:px-12",children:$.map((N,A)=>{const{day:z,dayName:xe,isToday:Z,isCurrentWeek:tt,isSelected:_e}=te(N);return u.jsxs("div",{className:`flex flex-col items-center p-2 sm:p-3 md:p-4 lg:p-5 rounded-xl sm:rounded-2xl transition-all duration-300 hover:scale-105 cursor-pointer ${Z?"bg-gradient-primary text-white shadow-glow animate-pulse-slow":_e?"bg-primary-500/20 border-2 border-primary-500 text-white":"glass-card text-white/90 hover:bg-white/10 border border-white/10"}`,onClick:()=>{c(N)},children:[u.jsx("div",{className:"text-sm sm:text-lg md:text-xl lg:text-2xl font-bold text-white",children:z}),u.jsx("div",{className:`text-xs sm:text-xs md:text-sm font-medium ${Z?"text-white/90":"text-white/60"}`,children:xe}),u.jsx("div",{className:"mt-1 sm:mt-2 text-center hidden sm:block",children:u.jsx("div",{className:"text-xs text-white/50",children:tt?"This week":o<0?`${Math.abs(o)} week${Math.abs(o)>1?"s":""} ago`:`${o} week${o>1?"s":""} ahead`})})]},A)})})]}),u.jsxs("div",{className:"mt-4 text-center",children:[u.jsx("p",{className:"text-white/60 text-sm",children:o===0?"Current Week":o<0?`${Math.abs(o)} week${Math.abs(o)>1?"s":""} ago`:`${o} week${o>1?"s":""} ahead`}),u.jsx("p",{className:"text-white/40 text-xs mt-1 hidden sm:block",children:"Click on dates to see their menu • Use arrows to navigate between weeks"}),u.jsx("p",{className:"text-white/40 text-xs mt-1 sm:hidden",children:"Tap dates for menu • Use arrows to navigate"}),o!==0&&u.jsxs("p",{className:"text-white/50 text-xs mt-1",children:["Viewing: ",l.toLocaleDateString("en-US",{weekday:"long",month:"long",day:"numeric",year:"numeric"})]})]})]}),u.jsxs("div",{className:"glass-card rounded-3xl p-4",children:[" ",u.jsxs("div",{className:"flex items-center justify-between mb-4",children:[" ",u.jsxs("h2",{className:"text-lg md:text-xl font-bold gradient-text",children:[" ","Menu for ",l.toLocaleDateString("en-US",{weekday:"long",month:"long",day:"numeric"})]}),u.jsxs("div",{className:"flex items-center space-x-2",children:[" ",m&&u.jsxs("div",{className:"flex items-center space-x-2 text-primary-400",children:[u.jsx("div",{className:"w-4 h-4 border-2 border-primary-400 border-t-transparent rounded-full animate-spin"}),u.jsx("span",{className:"text-sm",children:"Loading..."})]}),u.jsxs("div",{className:"text-white/60 text-xs",children:[" ",o===0?"Current week":`Date: ${l.toLocaleDateString("en-US",{month:"short",day:"numeric",year:"numeric"})}`]})]})]}),u.jsxs("div",{className:"grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-4 gap-2 md:gap-4",children:[" ",T.map(N=>{const A=Gt(N),z=s[N.key]||s.global,xe=k[N.key],Z=6,tt=N.items.length>Z&&!xe,_e=xe&&N.items.length>Z;return u.jsxs("div",{className:`relative glass-card rounded-2xl p-4 transition-all duration-300 hover:glass-card-hover flex flex-col ${xe?"max-h-none":"max-h-96"}`,children:[u.jsx("div",{className:"absolute top-2 left-2",children:u.jsx("div",{className:`w-2.5 h-2.5 rounded-full transition-all duration-300 ${z?"bg-yellow-400 animate-pulse shadow-glow":"bg-white/30"}`})}),u.jsxs("div",{className:"text-center mb-2",children:[u.jsx("div",{className:"text-2xl mb-1",children:N.emoji}),u.jsx("h3",{className:"text-base font-semibold text-white mb-1",children:N.name}),u.jsx("p",{className:"text-white/60 text-xs",children:N.time})]}),u.jsxs("div",{className:"flex-1 space-y-1 mb-2 min-h-0",children:[(xe?N.items:N.items.slice(0,Z)).map((at,Uh)=>u.jsx("div",{className:"text-white/80 text-xs text-center",children:at},Uh)),tt&&u.jsx("div",{className:"text-white/60 text-xs text-center",children:u.jsx("button",{type:"button",className:"underline hover:text-white/80",onClick:()=>_(N.key),children:"...more"})}),_e&&u.jsx("div",{className:"text-white/60 text-xs text-center",children:u.jsx("button",{type:"button",className:"underline hover:text-white/80",onClick:()=>_(N.key),children:"Show less"})})]}),u.jsx("div",{className:"mt-auto pt-1",children:u.jsxs("div",{className:"flex items-center justify-between",children:[u.jsx(H,{onClick:()=>me(N.key),variant:z?"primary":"ghost",size:"sm",className:"flex-1 mr-1",children:z?u.jsxs(u.Fragment,{children:[u.jsx(Is,{className:"w-4 h-4 mr-1 text-white"}),"On"]}):u.jsxs(u.Fragment,{children:[u.jsx(va,{className:"w-4 h-4 mr-1 text-white"}),"Off"]})}),A&&u.jsxs("div",{className:"flex items-center text-primary-400 text-xs",children:[u.jsx(qv,{className:"w-4 h-4 mr-1 text-white"}),u.jsx("span",{children:"Live"})]})]})})]},N.key)})]})]})]})},Ju=({selectedDate:t,onDateSelect:e,user:n})=>{const[r,s]=R.useState(new Date),[i,o]=R.useState(null),[a,l]=R.useState(!1),[c,d]=R.useState(""),[f,m]=R.useState(!1),y=Dh(n),x=yl();R.useEffect(()=>{(async()=>{l(!0);try{console.log("📅 Calendar fetching menu for:",{date:t.toDateString(),userHostel:y,currentSeason:x});const O=await ui(t,y,x);console.log("📅 Calendar menu data received:",{hasMenu:!!O,isFallback:O?he(O):"No data",source:O&&he(O)?"❌ FALLBACK DATA":"✅ SUPABASE DATA"}),o(O)}catch(O){console.error("❌ Error fetching calendar menu:",O),o(null)}finally{l(!1)}})()},[t,y,x]);const v=j=>{const O=j.getFullYear(),F=j.getMonth(),te=new Date(O,F,1),tr=new Date(O,F+1,0).getDate(),Gt=te.getDay(),kt=[];for(let T=0;T<Gt;T++)kt.push(null);for(let T=1;T<=tr;T++)kt.push(new Date(O,F,T));return kt},k=()=>{s(j=>{const O=new Date(j);return O.setMonth(j.getMonth()-1),O})},g=()=>{s(j=>{const O=new Date(j);return O.setMonth(j.getMonth()+1),O})},p=()=>{const j=new Date;s(j),e(j)},h=()=>{if(!c)return;const j=new Date(c);if(isNaN(j.getTime())){alert("Please enter a valid date");return}s(j),e(j),d(""),m(!1)},w=j=>{j.key==="Enter"&&h()},_=j=>{const O=new Date;return j.toDateString()===O.toDateString()},S=j=>j.toDateString()===t.toDateString(),b=j=>j.getMonth()===r.getMonth(),C=j=>j.toLocaleDateString("en-US",{month:"long",year:"numeric"}),$=v(r);return u.jsxs("div",{className:"p-4 md:p-6 space-y-6",children:[u.jsxs("div",{className:"glass-card rounded-3xl p-4 md:p-6",children:[u.jsxs("div",{className:"flex items-center justify-between mb-4 md:mb-6",children:[u.jsxs("h2",{className:"text-xl md:text-2xl font-bold gradient-text flex items-center",children:[u.jsx(gr,{className:"w-6 h-6 md:w-7 md:h-7 mr-2 text-white"}),C(r)]}),u.jsxs("div",{className:"flex items-center space-x-2",children:[u.jsx(H,{onClick:()=>m(!f),variant:"glass",size:"icon",className:"w-8 h-8 md:w-10 md:h-10 rounded-full backdrop-blur-custom",children:u.jsx(Xv,{className:"w-4 h-4 md:w-5 md:h-5 text-white"})}),u.jsx(H,{onClick:p,variant:"outline",size:"sm",className:"text-xs",children:"Today"})]})]}),f&&u.jsxs("div",{className:"mb-4 p-4 glass-card rounded-2xl border border-white/10",children:[u.jsxs("div",{className:"flex items-center space-x-3",children:[u.jsx("div",{className:"flex-1 relative",children:u.jsx("input",{type:"date",value:c,onChange:j=>d(j.target.value),onKeyPress:w,className:"w-full pl-4 pr-4 py-3 bg-white/5 border border-white/10 rounded-xl text-white focus:outline-none focus:border-primary-500 focus:ring-2 focus:ring-primary-500/20 transition-all duration-300",placeholder:"Select a date..."})}),u.jsx(H,{onClick:h,variant:"primary",size:"sm",className:"px-4 py-3",children:"Go"})]}),u.jsx("p",{className:"text-white/60 text-xs mt-2",children:"Enter a date to quickly navigate to that day's menu"})]}),u.jsxs("div",{className:"flex items-center justify-between mb-6",children:[u.jsx(H,{onClick:k,variant:"ghost",size:"icon",className:"w-10 h-10 md:w-12 md:h-12 rounded-full",children:u.jsx(Lh,{className:"w-5 h-5 md:w-6 md:h-6 text-white"})}),u.jsx("span",{className:"text-white/70 font-medium text-base md:text-lg",children:C(r)}),u.jsx(H,{onClick:g,variant:"ghost",size:"icon",className:"w-10 h-10 md:w-12 md:h-12 rounded-full",children:u.jsx(Ih,{className:"w-5 h-5 md:w-6 md:h-6 text-white"})})]}),u.jsxs("div",{className:"grid grid-cols-7 gap-2 md:gap-3",children:[["Sun","Mon","Tue","Wed","Thu","Fri","Sat"].map(j=>u.jsx("div",{className:"h-8 md:h-10 flex items-center justify-center",children:u.jsx("span",{className:"text-xs md:text-sm font-medium text-white/60",children:j})},j)),$.map((j,O)=>j?u.jsxs("div",{onClick:()=>e(j),className:`h-12 md:h-16 lg:h-20 rounded-2xl transition-all duration-300 cursor-pointer flex flex-col items-center justify-center ${_(j)?"bg-gradient-primary text-white shadow-glow animate-pulse-slow":S(j)?"bg-primary-500/20 border-2 border-primary-500 text-white":b(j)?"glass-card text-white hover:bg-white/10 border border-white/10":"text-white/30"}`,children:[u.jsx("div",{className:`text-sm md:text-base lg:text-lg font-bold ${_(j),"text-white"}`,children:j.getDate()}),_(j)&&u.jsx("div",{className:"text-xs text-white/90 mt-1",children:"Today"})]},O):u.jsx("div",{className:"h-12 md:h-16 lg:h-20"},O))]})]}),a?u.jsx("div",{className:"glass-card rounded-3xl p-4 md:p-6",children:u.jsxs("div",{className:"flex items-center justify-center py-8",children:[u.jsx("div",{className:"w-8 h-8 border-4 border-primary-400 border-t-transparent rounded-full animate-spin"}),u.jsx("span",{className:"ml-3 text-white",children:"Loading menu..."})]})}):i?u.jsxs("div",{className:"glass-card rounded-3xl p-4 md:p-6",children:[u.jsxs("div",{className:"flex items-center justify-between mb-4 md:mb-6",children:[u.jsxs("h3",{className:"text-lg md:text-xl font-semibold gradient-text",children:["Menu for ",t.toLocaleDateString("en-US",{weekday:"long",year:"numeric",month:"long",day:"numeric"})]}),u.jsx("div",{className:`px-2 py-1 rounded-full text-xs font-medium ${he(i)?"bg-red-500/20 text-red-300 border border-red-500/30":"bg-green-500/20 text-green-300 border border-green-500/30"}`,children:he(i)?"Sample Data":"Live Data"})]}),u.jsx("div",{className:"space-y-4 md:space-y-6",children:Object.entries(i).map(([j,O])=>u.jsxs("div",{className:"glass-card rounded-2xl p-4 md:p-6 border border-white/10",children:[u.jsx("h4",{className:"text-base md:text-lg font-semibold text-white mb-3 capitalize",children:j}),u.jsx("ul",{className:"space-y-2 md:space-y-3",children:Array.isArray(O)&&O.map((F,te)=>u.jsxs("li",{className:"flex items-center text-white/90 text-sm md:text-base",children:[u.jsx("div",{className:"w-2 h-2 md:w-2.5 md:h-2.5 bg-gradient-primary rounded-full mr-3"}),F]},te))})]},j))})]}):u.jsxs("div",{className:"glass-card rounded-3xl p-6 text-center",children:[u.jsx("div",{className:"text-6xl mb-4"}),u.jsx("h3",{className:"text-lg md:text-xl font-semibold text-white mb-2",children:"No Menu Available"}),u.jsx("p",{className:"text-white/70 text-sm md:text-base",children:"No menu is available for the selected date. Please select another date."})]})]})},Yu=({user:t,onLogout:e,onUpdateUser:n})=>{const[r,s]=R.useState(!1),[i,o]=R.useState({...t}),[a,l]=R.useState({supported:!1,permission:"default",canRequest:!1});R.useEffect(()=>{const p=$h();l(p)},[]);const c=()=>{var p;n(i),s(!1),(p=i.preferences)!=null&&p.notifications&&Ct(i.preferences.notifications)},d=()=>{o({...t}),s(!1)},f=(p,h)=>{o(w=>({...w,[p]:h}))},m=async()=>{var _,S;const h=!(((S=(_=i.preferences)==null?void 0:_.notifications)==null?void 0:S.global)||!1),w={global:h,breakfast:h,lunch:h,snacks:h,dinner:h};o(b=>({...b,preferences:{...b.preferences,notifications:w}})),h&&a.permission==="default"?await Tr()?(l(C=>({...C,permission:"granted",canRequest:!1})),Ct(w)):o(C=>({...C,preferences:{...C.preferences,notifications:{...C.preferences.notifications,global:!1}}})):h&&Ct(w)},y=async p=>{const h={...i.preferences.notifications,[p]:!i.preferences.notifications[p]},w=["breakfast","lunch","snacks","dinner"].every(_=>h[_]);h.global=w,o(_=>({..._,preferences:{..._.preferences,notifications:h}})),h[p]&&a.permission==="default"?await Tr()?(l(S=>({...S,permission:"granted",canRequest:!1})),Ct(h)):o(S=>({...S,preferences:{...S.preferences,notifications:{...S.preferences.notifications,[p]:!1,global:!1}}})):h[p]&&Ct(h)},x=p=>{var h,w;return((w=(h=i.preferences)==null?void 0:h.notifications)==null?void 0:w[p])||!1},v=()=>x("global"),k=p=>x(p),g=async()=>{var h;await Tr()&&(l(w=>({...w,permission:"granted",canRequest:!1})),(h=i.preferences)!=null&&h.notifications&&Ct(i.preferences.notifications))};return u.jsxs("div",{className:"p-4 md:p-6 space-y-6",children:[u.jsxs("div",{className:"glass-card rounded-3xl p-6 text-center",children:[u.jsx("div",{className:"w-20 h-20 md:w-24 md:h-24 bg-gradient-primary rounded-full flex items-center justify-center mx-auto mb-4 shadow-glow",children:u.jsx(Fn,{className:"w-10 h-10 md:w-12 md:h-12 text-white"})}),u.jsx("h2",{className:"text-xl md:text-2xl font-bold text-white mb-2",children:t.name}),u.jsx("p",{className:"text-white/70 text-sm md:text-base",children:t.email}),t.rollNumber&&u.jsxs("p",{className:"text-white/60 text-sm mt-1",children:["Roll: ",t.rollNumber]}),t.hostelCode&&t.hostelNumber&&u.jsxs("p",{className:"text-white/60 text-sm mt-1",children:[t.hostelCode," ",t.hostelNumber]}),t.roomNumber&&u.jsxs("p",{className:"text-white/60 text-sm mt-1",children:["Room: ",t.roomNumber]})]}),u.jsxs("div",{className:"glass-card rounded-3xl p-6",children:[u.jsxs("div",{className:"flex items-center justify-between mb-4",children:[u.jsxs("h3",{className:"text-lg font-semibold text-white flex items-center",children:[u.jsx(Zv,{className:"w-5 h-5 mr-2 text-white"}),"Profile Settings"]}),r?u.jsxs("div",{className:"flex space-x-2",children:[u.jsx(H,{onClick:d,variant:"ghost",size:"sm",children:"Cancel"}),u.jsx(H,{onClick:c,variant:"primary",size:"sm",icon:Yv,children:"Save"})]}):u.jsx(H,{onClick:()=>s(!0),variant:"outline",size:"sm",icon:Jv,children:"Edit"})]}),r?u.jsxs("div",{className:"space-y-4",children:[u.jsxs("div",{children:[u.jsx("label",{className:"block text-sm font-medium text-white/80 mb-2",children:"Name"}),u.jsx("input",{type:"text",value:i.name,onChange:p=>f("name",p.target.value),className:"w-full px-4 py-3 bg-white/5 border border-white/10 rounded-2xl text-white placeholder-white/50 focus:outline-none focus:border-primary-500 focus:ring-2 focus:ring-primary-500/20 transition-all duration-300"})]}),u.jsxs("div",{children:[u.jsx("label",{className:"block text-sm font-medium text-white/80 mb-2",children:"Email"}),u.jsx("input",{type:"email",value:i.email,onChange:p=>f("email",p.target.value),className:"w-full px-4 py-3 bg-white/5 border border-white/10 rounded-2xl text-white placeholder-white/50 focus:outline-none focus:border-primary-500 focus:ring-2 focus:ring-primary-500/20 transition-all duration-300"})]}),u.jsxs("div",{children:[u.jsx("label",{className:"block text-sm font-medium text-white/80 mb-2",children:"Roll Number"}),u.jsx("input",{type:"text",value:i.rollNumber,onChange:p=>f("rollNumber",p.target.value),className:"w-full px-4 py-3 bg-white/5 border border-white/10 rounded-2xl text-white placeholder-white/50 focus:outline-none focus:border-primary-500 focus:ring-2 focus:ring-primary-500/20 transition-all duration-300"})]}),u.jsxs("div",{children:[u.jsx("label",{className:"block text-sm font-medium text-white/80 mb-2",children:"Hostel Code"}),u.jsx("input",{type:"text",value:i.hostelCode,onChange:p=>f("hostelCode",p.target.value),className:"w-full px-4 py-3 bg-white/5 border border-white/10 rounded-2xl text-white placeholder-white/50 focus:outline-none focus:border-primary-500 focus:ring-2 focus:ring-primary-500/20 transition-all duration-300"})]}),u.jsxs("div",{children:[u.jsx("label",{className:"block text-sm font-medium text-white/80 mb-2",children:"Hostel Number"}),u.jsx("input",{type:"number",value:i.hostelNumber,onChange:p=>f("hostelNumber",parseInt(p.target.value)),className:"w-full px-4 py-3 bg-white/5 border border-white/10 rounded-2xl text-white placeholder-white/50 focus:outline-none focus:border-primary-500 focus:ring-2 focus:ring-primary-500/20 transition-all duration-300"})]}),u.jsxs("div",{children:[u.jsx("label",{className:"block text-sm font-medium text-white/80 mb-2",children:"Room Number"}),u.jsx("input",{type:"text",value:i.roomNumber,onChange:p=>f("roomNumber",p.target.value),className:"w-full px-4 py-3 bg-white/5 border border-white/10 rounded-2xl text-white placeholder-white/50 focus:outline-none focus:border-primary-500 focus:ring-2 focus:ring-primary-500/20 transition-all duration-300"})]})]}):u.jsxs("div",{className:"space-y-3",children:[u.jsxs("div",{className:"flex items-center space-x-3 p-3 bg-white/5 rounded-2xl",children:[u.jsx(Fn,{className:"w-5 h-5 text-white/60"}),u.jsx("span",{className:"text-white",children:t.name})]}),u.jsxs("div",{className:"flex items-center space-x-3 p-3 bg-white/5 rounded-2xl",children:[u.jsx(Gv,{className:"w-5 h-5 text-white/60"}),u.jsx("span",{className:"text-white",children:t.email})]}),u.jsxs("div",{className:"flex items-center space-x-3 p-3 bg-white/5 rounded-2xl",children:[u.jsx(Fn,{className:"w-5 h-5 text-white/60"}),u.jsxs("span",{className:"text-white",children:["Roll: ",t.rollNumber]})]}),u.jsxs("div",{className:"flex items-center space-x-3 p-3 bg-white/5 rounded-2xl",children:[u.jsx(Ku,{className:"w-5 h-5 text-white/60"}),u.jsxs("span",{className:"text-white",children:[t.hostelCode," ",t.hostelNumber]})]}),u.jsxs("div",{className:"flex items-center space-x-3 p-3 bg-white/5 rounded-2xl",children:[u.jsx(Ku,{className:"w-5 h-5 text-white/60"}),u.jsxs("span",{className:"text-white",children:["Room: ",t.roomNumber]})]})]})]}),u.jsxs("div",{className:"glass-card rounded-3xl p-6",children:[u.jsxs("h3",{className:"text-lg font-semibold text-white flex items-center mb-4",children:[u.jsx(Is,{className:"w-5 h-5 mr-2 text-white"}),"Notification Preferences"]}),a.supported?a.permission==="denied"?u.jsx("div",{className:"mb-4 p-3 bg-red-500/20 rounded-2xl border border-red-500/30",children:u.jsx("p",{className:"text-red-300 text-sm",children:"⚠️ Notifications are blocked. Please enable them in your browser settings."})}):a.permission==="default"?u.jsx("div",{className:"mb-4 p-3 bg-yellow-500/20 rounded-2xl border border-yellow-500/30",children:u.jsxs("div",{className:"flex items-center justify-between",children:[u.jsx("p",{className:"text-yellow-300 text-sm",children:"🔔 Enable notifications to get meal reminders"}),u.jsx(H,{onClick:g,variant:"primary",size:"sm",children:"Enable"})]})}):u.jsx("div",{className:"mb-4 p-3 bg-green-500/20 rounded-2xl border border-green-500/30",children:u.jsx("p",{className:"text-green-300 text-sm",children:"✅ Notifications are enabled and working"})}):u.jsx("div",{className:"mb-4 p-3 bg-red-500/20 rounded-2xl border border-red-500/30",children:u.jsx("p",{className:"text-red-300 text-sm",children:"⚠️ Notifications are not supported in this browser"})}),u.jsx("div",{className:"mb-6 p-4 bg-gradient-primary/10 rounded-2xl border border-primary-500/20",children:u.jsxs("div",{className:"flex items-center justify-between mb-2",children:[u.jsxs("div",{children:[u.jsx("h4",{className:"text-white font-semibold",children:"All Meal Notifications"}),u.jsx("p",{className:"text-white/70 text-sm",children:"Master switch for all meal notifications"})]}),u.jsx(H,{onClick:m,variant:v()?"primary":"ghost",size:"sm",className:"w-20",icon:v()?Is:va,disabled:!a.supported||a.permission==="denied",children:v()?"On":"Off"})]})}),u.jsxs("div",{className:"space-y-3",children:[u.jsx("h4",{className:"text-white/80 font-medium text-sm mb-3",children:"Individual Meal Settings"}),["breakfast","lunch","snacks","dinner"].map(p=>u.jsxs("div",{className:"flex items-center justify-between p-3 bg-white/5 rounded-2xl",children:[u.jsxs("div",{className:"flex items-center space-x-3",children:[u.jsx("span",{className:"text-white capitalize font-medium",children:p}),k(p)&&u.jsx("span",{className:"text-xs bg-primary-500 text-white px-2 py-1 rounded-full",children:"Active"})]}),u.jsx(H,{onClick:()=>y(p),variant:k(p)?"primary":"ghost",size:"sm",className:"w-16",icon:k(p)?Is:va,disabled:!a.supported||a.permission==="denied",children:k(p)?"On":"Off"})]},p))]}),u.jsxs("div",{className:"mt-4 p-3 bg-white/5 rounded-2xl",children:[u.jsxs("p",{className:"text-white/60 text-xs",children:["💡 ",u.jsx("strong",{children:"Tip:"}),' Use "All Meal Notifications" to quickly enable/disable all notifications, or customize individual meals below. Individual settings will override the global setting.']}),u.jsxs("p",{className:"text-white/60 text-xs mt-2",children:["🔔 ",u.jsx("strong",{children:"Notifications:"})," You'll receive reminders 15 minutes before meals and when meals start serving."]})]})]}),u.jsx("div",{className:"glass-card rounded-3xl p-6",children:u.jsx("div",{className:"text-center",children:u.jsx(H,{onClick:e,variant:"secondary",className:"w-full",icon:Kv,children:"Logout"})})})]})},ny=({user:t,onLogout:e,onUpdateUser:n})=>{const[r,s]=R.useState("dashboard"),[i,o]=R.useState(new Date),[a,l]=R.useState(new Date),[c,d]=R.useState(!1),[f,m]=R.useState(null),[y,x]=R.useState(null),[v,k]=R.useState(null),[g,p]=R.useState(!0),[h,w]=R.useState(null),_=(t==null?void 0:t.hostel)||"BH1",S=yl();R.useEffect(()=>{const $=setInterval(()=>{l(new Date)},6e4);return()=>clearInterval($)},[]),R.useEffect(()=>{(async()=>{if(t!=null&&t.id)try{const j=await $v(t.id);w(j)}catch(j){console.error("Error fetching user profile:",j)}})()},[t==null?void 0:t.id]),R.useEffect(()=>{(async()=>{var j;p(!0);try{console.log("🔍 Fetching menu data for:",{selectedDate:i.toDateString(),userHostel:_,currentSeason:S,currentTime:a.toLocaleTimeString()});const[O,F]=await Promise.all([ui(i,_,S),ty(_,S)]);console.log("📊 Menu data received:",{menuData:O?"✅ Success":"❌ Failed",nextMealData:F?"✅ Success":"❌ Failed",menuDataKeys:O?Object.keys(O):"No data",nextMealType:F==null?void 0:F.type,nextMealItems:((j=F==null?void 0:F.items)==null?void 0:j.length)||0,isMenuFallback:O?he(O):"No data",isNextMealFallback:F?he({breakfast:F.items,lunch:[],snacks:[],dinner:[]}):"No data"}),m(O),x(F);const te=ey();if(console.log("🕐 Current meal info:",te),te&&O){const me=O[te.key];console.log("🍽️ Current meal items:",{mealKey:te.key,hasItems:!!me,itemCount:(me==null?void 0:me.length)||0,items:me}),k(me?{type:te.type,items:me,key:te.key}:null)}else k(null)}catch(O){console.error("❌ Error fetching menu data:",O)}finally{p(!1)}})()},[i,_,S,a]);const b=()=>{switch(r){case"profile":return u.jsx("div",{className:"bg-gradient-primary p-4 md:p-6 rounded-t-3xl relative overflow-hidden",children:u.jsxs("div",{className:"flex items-center justify-between",children:[u.jsx(H,{onClick:()=>s("dashboard"),variant:"glass",size:"icon",className:"rounded-full backdrop-blur-custom",children:u.jsx(qu,{className:"w-5 h-5 text-white"})}),u.jsx("h1",{className:"text-xl md:text-2xl font-bold text-white",children:"Profile"}),u.jsx("div",{className:"w-10"})]})});case"calendar":return u.jsx("div",{className:"bg-gradient-primary p-4 md:p-6 rounded-t-3xl relative overflow-hidden",children:u.jsxs("div",{className:"flex items-center justify-between",children:[u.jsx(H,{onClick:()=>s("dashboard"),variant:"glass",size:"icon",className:"rounded-full backdrop-blur-custom",children:u.jsx(qu,{className:"w-5 h-5 text-white"})}),u.jsx("h1",{className:"text-xl md:text-2xl font-bold text-white",children:"Menu Calendar"}),u.jsx("div",{className:"w-10"})]})});default:return u.jsxs("div",{className:"bg-gradient-primary p-4 md:p-6 rounded-t-3xl relative overflow-hidden",children:[u.jsxs("div",{className:"flex items-center justify-between mb-4",children:[u.jsxs("div",{className:"flex items-center space-x-3",children:[u.jsx("div",{className:"w-10 h-10 md:w-12 md:h-12 glass-card rounded-full flex items-center justify-center border border-white/20",children:u.jsx(Fn,{className:"w-4 h-4 md:w-5 md:w-5 text-white"})}),u.jsx("span",{className:"text-white font-medium text-sm md:text-base",children:t.name})]}),u.jsxs("div",{className:"hidden md:flex items-center space-x-4",children:[u.jsxs(H,{onClick:()=>s("calendar"),variant:"glass",className:"backdrop-blur-custom border-white/30 text-white hover:bg-white/20",children:[u.jsx(gr,{className:"w-4 h-4 mr-2 text-white"}),u.jsx("span",{children:"Calendar Menu"})]}),u.jsxs(H,{onClick:()=>s("profile"),variant:"glass",className:"backdrop-blur-custom border-white/30 text-white hover:bg-white/20",children:[u.jsx(Fn,{className:"w-4 h-4 mr-2 text-white"}),u.jsx("span",{children:"Profile"})]}),u.jsx(H,{onClick:e,variant:"secondary",size:"sm",children:"Logout"})]}),u.jsx(H,{onClick:()=>d(!c),variant:"glass",size:"icon",className:"w-8 h-8 md:w-10 md:h-10 rounded-full backdrop-blur-custom md:hidden",children:u.jsxs("div",{className:"relative w-5 h-5",children:[u.jsx("div",{className:`absolute inset-0 transition-all duration-300 ${c?"opacity-0":"opacity-100"}`,children:u.jsx(Qv,{className:"w-5 h-5 text-white"})}),u.jsx("div",{className:`absolute inset-0 transition-all duration-300 ${c?"opacity-100":"opacity-0"}`,children:u.jsx(Gu,{className:"w-5 h-5 text-white"})})]})})]}),u.jsxs("h1",{className:"text-xl md:text-2xl lg:text-3xl font-bold text-white mb-2",children:["Hello, ",t.name.split(" ")[0]]}),u.jsx("p",{className:"text-white/80 mb-4 md:mb-6 text-sm md:text-base",children:"Welcome back! Here's what's cooking today. Let's help you plan your meals better."}),u.jsxs(H,{onClick:()=>s("calendar"),variant:"glass",className:"backdrop-blur-custom border-white/30 text-white hover:bg-white/20 md:hidden",children:[u.jsx(gr,{className:"w-4 h-4 text-white"}),u.jsx("span",{children:"Calendar Menu"}),u.jsx(Vv,{className:"w-4 h-4 text-white"})]})]})}},C=()=>c?u.jsxs("div",{className:"fixed inset-0 z-50 md:hidden",children:[u.jsx("div",{className:"absolute inset-0 bg-black/50 backdrop-blur-sm",onClick:()=>d(!1)}),u.jsxs("div",{className:"absolute right-0 top-0 h-full w-80 bg-dark-900 glass-card p-6",children:[u.jsxs("div",{className:"flex items-center justify-between mb-6",children:[u.jsx("h3",{className:"text-xl font-bold text-white",children:"Menu"}),u.jsx(H,{onClick:()=>d(!1),variant:"ghost",size:"icon",children:u.jsx(Gu,{className:"w-5 h-5 text-white"})})]}),u.jsxs("div",{className:"space-y-4",children:[u.jsxs(H,{onClick:()=>{s("dashboard"),d(!1)},variant:"ghost",className:"w-full justify-start",children:[u.jsx(gr,{className:"w-5 h-5 mr-3 text-white"}),"Dashboard"]}),u.jsxs(H,{onClick:()=>{s("calendar"),d(!1)},variant:"ghost",className:"w-full justify-start",children:[u.jsx(gr,{className:"w-5 h-5 mr-3 text-white"}),"Calendar"]}),u.jsxs(H,{onClick:()=>{s("profile"),d(!1)},variant:"ghost",className:"w-full justify-start",children:[u.jsx(Fn,{className:"w-5 h-5 mr-3 text-white"}),"Profile"]}),u.jsx("div",{className:"pt-4 border-t border-white/10",children:u.jsx(H,{onClick:()=>{e(),d(!1)},variant:"secondary",className:"w-full",children:"Logout"})})]})]})]}):null;return r==="profile"?u.jsxs("div",{className:"min-h-screen bg-gradient-to-br from-dark-950 via-dark-900 to-dark-800 relative overflow-hidden",children:[u.jsx("div",{className:"absolute top-1/4 right-1/4 w-96 h-96 bg-gradient-primary opacity-10 rounded-full blur-3xl animate-float"}),u.jsx("div",{className:"absolute bottom-1/4 left-1/4 w-96 h-96 bg-gradient-secondary opacity-10 rounded-full blur-3xl animate-float",style:{animationDelay:"1s"}}),u.jsxs("div",{className:"max-w-6xl mx-auto",children:[u.jsx("div",{className:"hidden md:block",children:u.jsxs("div",{className:"glass-card min-h-screen border border-white/10",children:[b(),(()=>{const $={name:(h==null?void 0:h.name)??(t==null?void 0:t.name)??"",email:(h==null?void 0:h.email)??(t==null?void 0:t.email)??"",rollNumber:(h==null?void 0:h.registration_no)??(t==null?void 0:t.rollNumber)??"",hostelCode:(h==null?void 0:h.hostel_code)??(t==null?void 0:t.hostelCode)??"",hostelNumber:(h==null?void 0:h.hostel_number)??(t==null?void 0:t.hostelNumber)??"",roomNumber:(h==null?void 0:h.room_number)??(t==null?void 0:t.roomNumber)??"",preferences:(h==null?void 0:h.preferences)??(t==null?void 0:t.preferences)??{}};return u.jsx(Yu,{user:$,onLogout:e,onUpdateUser:n})})()]})}),u.jsx("div",{className:"md:hidden",children:u.jsxs("div",{className:"max-w-md mx-auto glass-card min-h-screen border-x border-white/10",children:[b(),(()=>{const $={name:(h==null?void 0:h.name)??(t==null?void 0:t.name)??"",email:(h==null?void 0:h.email)??(t==null?void 0:t.email)??"",rollNumber:(h==null?void 0:h.registration_no)??(t==null?void 0:t.rollNumber)??"",hostelCode:(h==null?void 0:h.hostel_code)??(t==null?void 0:t.hostelCode)??"",hostelNumber:(h==null?void 0:h.hostel_number)??(t==null?void 0:t.hostelNumber)??"",roomNumber:(h==null?void 0:h.room_number)??(t==null?void 0:t.roomNumber)??"",preferences:(h==null?void 0:h.preferences)??(t==null?void 0:t.preferences)??{}};return u.jsx(Yu,{user:$,onLogout:e,onUpdateUser:n})})()]})})]})]}):r==="calendar"?u.jsxs("div",{className:"min-h-screen bg-gradient-to-br from-dark-950 via-dark-900 to-dark-800 relative overflow-hidden",children:[u.jsx("div",{className:"absolute top-1/4 right-1/4 w-96 h-96 bg-gradient-primary opacity-10 rounded-full blur-3xl animate-float"}),u.jsx("div",{className:"absolute bottom-1/4 left-1/4 w-96 h-96 bg-gradient-secondary opacity-10 rounded-full blur-3xl animate-float",style:{animationDelay:"1s"}}),u.jsxs("div",{className:"max-w-6xl mx-auto",children:[u.jsx("div",{className:"hidden md:block",children:u.jsxs("div",{className:"glass-card min-h-screen border border-white/10",children:[b(),u.jsx(Ju,{selectedDate:i,onDateSelect:o,user:t})]})}),u.jsx("div",{className:"md:hidden",children:u.jsxs("div",{className:"max-w-md mx-auto glass-card min-h-screen border-x border-white/10",children:[b(),u.jsx(Ju,{selectedDate:i,onDateSelect:o,user:t})]})})]})]}):u.jsxs("div",{className:"min-h-screen bg-gradient-to-br from-dark-950 via-dark-900 to-dark-800 relative overflow-hidden",children:[u.jsx("div",{className:"absolute top-1/4 right-1/4 w-96 h-96 bg-gradient-primary opacity-10 rounded-full blur-3xl animate-float"}),u.jsx("div",{className:"absolute bottom-1/4 left-1/4 w-96 h-96 bg-gradient-secondary opacity-10 rounded-full blur-3xl animate-float",style:{animationDelay:"1s"}}),u.jsx("div",{className:"absolute top-1/2 left-1/2 w-64 h-64 bg-gradient-accent opacity-5 rounded-full blur-3xl animate-float",style:{animationDelay:"2s"}}),u.jsxs("div",{className:"max-w-6xl mx-auto",children:[u.jsx("div",{className:"hidden md:block",children:u.jsxs("div",{className:"glass-card min-h-screen border border-white/10",children:[b(),u.jsxs("div",{className:"p-6 space-y-6",children:[g?u.jsxs("div",{className:"glass-card rounded-3xl p-6 shadow-glass border border-white/20",children:[u.jsxs("div",{className:"flex items-center space-x-2 mb-3",children:[u.jsx("div",{className:"w-3 h-3 bg-gradient-primary rounded-full animate-pulse-slow"}),u.jsx("h2",{className:"text-lg font-semibold gradient-text",children:"Meal Status"})]}),u.jsx("div",{className:"flex items-center justify-center py-8",children:u.jsx("div",{className:"w-8 h-8 border-4 border-primary-400 border-t-transparent rounded-full animate-spin"})})]}):v?u.jsxs("div",{className:"glass-card rounded-3xl p-6 shadow-glass border border-white/20 transition-all duration-300 hover:glass-card-hover",children:[u.jsxs("div",{className:"flex items-center justify-between mb-3",children:[u.jsxs("div",{className:"flex items-center space-x-2",children:[u.jsx("div",{className:"w-3 h-3 bg-gradient-primary rounded-full animate-pulse-slow"}),u.jsx("h2",{className:"text-lg font-semibold gradient-text",children:"Current Meal"})]}),u.jsx("div",{className:`px-2 py-1 rounded-full text-xs font-medium ${he(f)?"bg-red-500/20 text-red-300 border border-red-500/30":"bg-green-500/20 text-green-300 border border-green-500/30"}`,children:he(f)?"Sample Data":"Live Data"})]}),u.jsx("p",{className:"text-white/70 text-sm mb-4",children:"The meal currently being served."}),u.jsxs("div",{className:"glass-card rounded-2xl p-4 border border-white/10",children:[u.jsx("h3",{className:"gradient-text font-semibold text-lg mb-2",children:v.type}),u.jsx("ul",{className:"space-y-1",children:v.items.map(($,j)=>u.jsxs("li",{className:"flex items-center text-white/90",children:[u.jsx("div",{className:"w-1.5 h-1.5 bg-gradient-primary rounded-full mr-2"}),$]},j))})]})]}):y?u.jsxs("div",{className:"glass-card rounded-3xl p-6 shadow-glass border border-white/20 transition-all duration-300 hover:glass-card-hover",children:[u.jsxs("div",{className:"flex items-center justify-between mb-3",children:[u.jsxs("div",{className:"flex items-center space-x-2",children:[u.jsx("div",{className:"w-3 h-3 bg-gradient-primary rounded-full animate-pulse-slow"}),u.jsx("h2",{className:"text-lg font-semibold gradient-text",children:"Next Meal"})]}),u.jsx("div",{className:`px-2 py-1 rounded-full text-xs font-medium ${he(f)?"bg-red-500/20 text-red-300 border border-red-500/30":"bg-green-500/20 text-green-300 border border-green-500/30"}`,children:he(f)?"Sample Data":"Live Data"})]}),u.jsx("p",{className:"text-white/70 text-sm mb-4",children:"Your upcoming meal in the mess. Plan ahead and enjoy!"}),u.jsxs("div",{className:"glass-card rounded-2xl p-4 border border-white/10",children:[u.jsx("h3",{className:"gradient-text font-semibold text-lg mb-2",children:y.type}),u.jsx("ul",{className:"space-y-1",children:y.items.map(($,j)=>u.jsxs("li",{className:"flex items-center text-white/90",children:[u.jsx("div",{className:"w-1.5 h-1.5 bg-gradient-primary rounded-full mr-2"}),$]},j))})]})]}):null,u.jsx(Qu,{menu:f,user:t,isToday:i.toDateString()===new Date().toDateString(),currentTime:a})]})]})}),u.jsx("div",{className:"md:hidden",children:u.jsxs("div",{className:"max-w-md mx-auto glass-card min-h-screen border-x border-white/10",children:[b(),u.jsxs("div",{className:"p-4 space-y-6",children:[g?u.jsxs("div",{className:"glass-card rounded-3xl p-4 md:p-6 shadow-glass border border-white/20",children:[u.jsxs("div",{className:"flex items-center space-x-2 mb-3",children:[u.jsx("div",{className:"w-3 h-3 bg-gradient-primary rounded-full animate-pulse-slow"}),u.jsx("h2",{className:"text-lg font-semibold gradient-text",children:"Meal Status"})]}),u.jsx("div",{className:"flex items-center justify-center py-8",children:u.jsx("div",{className:"w-8 h-8 border-4 border-primary-400 border-t-transparent rounded-full animate-spin"})})]}):v?u.jsxs("div",{className:"glass-card rounded-3xl p-4 md:p-6 shadow-glass border border-white/20 transition-all duration-300 hover:glass-card-hover",children:[u.jsxs("div",{className:"flex items-center justify-between mb-3",children:[u.jsxs("div",{className:"flex items-center space-x-2",children:[u.jsx("div",{className:"w-3 h-3 bg-gradient-primary rounded-full animate-pulse-slow"}),u.jsx("h2",{className:"text-lg font-semibold gradient-text",children:"Current Meal"})]}),u.jsx("div",{className:`px-2 py-1 rounded-full text-xs font-medium ${he(f)?"bg-red-500/20 text-red-300 border border-red-500/30":"bg-green-500/20 text-green-300 border border-green-500/30"}`,children:he(f)?"Sample Data":"Live Data"})]}),u.jsx("p",{className:"text-white/70 text-sm mb-4",children:"The meal currently being served."}),u.jsxs("div",{className:"glass-card rounded-2xl p-4 border border-white/10",children:[u.jsx("h3",{className:"gradient-text font-semibold text-lg mb-2",children:v.type}),u.jsx("ul",{className:"space-y-1",children:v.items.map(($,j)=>u.jsxs("li",{className:"flex items-center text-white/90",children:[u.jsx("div",{className:"w-1.5 h-1.5 bg-gradient-primary rounded-full mr-2"}),$]},j))})]})]}):y?u.jsxs("div",{className:"glass-card rounded-3xl p-4 md:p-6 shadow-glass border border-white/20 transition-all duration-300 hover:glass-card-hover",children:[u.jsxs("div",{className:"flex items-center justify-between mb-3",children:[u.jsxs("div",{className:"flex items-center space-x-2",children:[u.jsx("div",{className:"w-3 h-3 bg-gradient-primary rounded-full animate-pulse-slow"}),u.jsx("h2",{className:"text-lg font-semibold gradient-text",children:"Next Meal"})]}),u.jsx("div",{className:`px-2 py-1 rounded-full text-xs font-medium ${he(f)?"bg-red-500/20 text-red-300 border border-red-500/30":"bg-green-500/20 text-green-300 border border-green-500/30"}`,children:he(f)?"Sample Data":"Live Data"})]}),u.jsx("p",{className:"text-white/70 text-sm mb-4",children:"Your upcoming meal in the mess. Plan ahead and enjoy!"}),u.jsxs("div",{className:"glass-card rounded-2xl p-4 border border-white/10",children:[u.jsx("h3",{className:"gradient-text font-semibold text-lg mb-2",children:y.type}),u.jsx("ul",{className:"space-y-1",children:y.items.map(($,j)=>u.jsxs("li",{className:"flex items-center text-white/90",children:[u.jsx("div",{className:"w-1.5 h-1.5 bg-gradient-primary rounded-full mr-2"}),$]},j))})]})]}):null,u.jsx(Qu,{menu:f,user:t,isToday:i.toDateString()===new Date().toDateString(),currentTime:a})]})]})})]}),C()]})};function ry(t){const e=t.startsWith("S-")?"summer":"winter",n=t.includes("BH"),r=n?"BH":"LH",s=n?12:4,i=Array.from({length:s},(o,a)=>`${r}${a+1}`);return{season:e,hostels:i}}const sy=({user:t,onLogout:e})=>{const[n,r]=R.useState([]),[s,i]=R.useState(!1),[o,a]=R.useState(window.location.hostname==="localhost"),[l,c]=R.useState(!1),[d,f]=R.useState(null),m=v=>r(k=>[...k,v]);R.useEffect(()=>{(async()=>{try{const{data:k,error:g}=await ne.from("admins").select("id, email, name").eq("id",t.id).single();if(g){console.error("Admin verification error:",g),f(`Admin verification failed: ${g.message}`),c(!1);return}k?(c(!0),m(`✅ Verified admin access for: ${k.email||t.email}`)):(f("User not found in admins table"),c(!1))}catch(k){console.error("Admin verification exception:",k),f(`Error: ${k.message||String(k)}`),c(!1)}})()},[t.id,t.email]);const y=async v=>{const k=new FormData;Array.from(v).forEach(g=>k.append("files",g));try{const g=await fetch("http://localhost:5050/run-upload",{method:"POST",body:k});if(!g.ok){const h=await g.text();m(`❌ Local Python server error (${g.status}): ${h}`);return}const p=await g.json();m(`📦 Saved files: ${Array.isArray(p.saved)?p.saved.join(", "):"unknown"}`),m(`🐍 Python exit code: ${p.code}`),p.logs&&m(p.logs)}catch(g){m(`❌ Failed calling local Python server: ${g.message||g}`)}},x=async v=>{var k;if(!(!v||v.length===0)){i(!0),r([]);try{if(o)m("⚙️ Using local Python uploader..."),await y(v);else for(const g of Array.from(v)){const p=await g.text(),h=JSON.parse(p),{season:w,hostels:_}=ry(g.name);m(`Processing ${g.name} => season=${w}, hostels=${_.length}`);const{data:S}=await ne.auth.getUser(),b=(k=S==null?void 0:S.user)==null?void 0:k.id;for(const C of _){const $=C.startsWith("BH")?"BH":"LH",j=parseInt(C.replace(/[^0-9]/g,""))||0;let{error:O}=await ne.from("weekly_menus").delete().match({hostel_code:$,hostel_number:j,season:w});if(O&&(m(`⚠️ Delete by code/number failed for ${C} (${w}): ${O.message} — trying legacy key`),O=(await ne.from("weekly_menus").delete().match({hostel:C,season:w})).error||void 0),m(O?`⚠️ Delete failed for ${C} (${w}): ${O.message}`:`🗑️ Cleared existing for ${C} (${w})`),!Array.isArray(h.weeks)){m(`❌ Invalid JSON format in ${g.name}: missing weeks[]`);continue}for(const F of h.weeks){const te={hostel:C,hostel_code:$,hostel_number:j,season:w,week:F.week,days_data:F.days,campus:$==="BH"?"boys":"girls",created_by:b||null},{error:me}=await ne.from("weekly_menus").insert(te);m(me?`✗ Failed ${C} wk ${F.week}: ${me.message}`:`✓ Uploaded ${C} (${w}) week ${F.week}`)}}}m("✅ Done!")}catch(g){m(`❌ Error: ${g.message||g}`)}finally{i(!1)}}};return u.jsx("div",{className:"min-h-screen p-6 md:p-10 text-white",children:u.jsxs("div",{className:"max-w-3xl mx-auto",children:[u.jsxs("div",{className:"flex items-center justify-between mb-6",children:[u.jsx("h1",{className:"text-2xl font-bold",children:"Admin Panel"}),u.jsx("button",{className:"px-4 py-2 rounded-xl bg-red-600/80 hover:bg-red-600",onClick:e,children:"Sign out"})]}),!l&&d&&u.jsxs("div",{className:"glass-card rounded-2xl p-6 mb-6 border border-red-500/50 bg-red-900/20",children:[u.jsx("h2",{className:"text-lg font-semibold text-red-400 mb-2",children:"Admin Verification Failed"}),u.jsx("p",{className:"text-white/90 mb-4",children:d}),u.jsxs("p",{className:"text-white/70 text-sm",children:["Make sure your account (id: ",t.id,") is registered in the admins table. Run this SQL in Supabase SQL Editor:"]}),u.jsx("pre",{className:"bg-black/30 p-3 rounded-lg mt-2 text-xs overflow-auto",children:`INSERT INTO admins (id, email, name) VALUES ('${t.id}', '${t.email}', '${t.name||"Admin User"}');`})]}),u.jsxs("div",{className:"glass-card rounded-2xl p-6 mb-6",children:[u.jsxs("div",{className:"flex items-center justify-between mb-3",children:[u.jsx("p",{className:"text-white/80",children:'Upload menu JSON files (e.g., "S-BH 1-12.json", "W-LH 1-4.json"). You must be an admin to modify menus.'}),u.jsxs("div",{className:"bg-white/10 rounded-xl p-1 inline-flex ml-4",children:[u.jsx("button",{className:`px-3 py-1 rounded-xl text-sm ${o?"text-white/80":"bg-primary-500 text-white"}`,onClick:()=>a(!1),disabled:s,children:"Browser upload"}),u.jsx("button",{className:`px-3 py-1 rounded-xl text-sm ${o?"bg-primary-500 text-white":"text-white/80"}`,onClick:()=>a(!0),disabled:s,title:"Requires local helper server: npm run dev:admin-uploader",children:"Python (local)"})]})]}),u.jsx("input",{type:"file",multiple:!0,accept:".json",onChange:v=>x(v.target.files),disabled:s}),s&&u.jsx("p",{className:"mt-3 text-white/70",children:o?"Running Python script...":"Uploading..."}),o&&u.jsx("p",{className:"mt-2 text-white/60 text-sm",children:"Hint: Make sure the helper server is running at http://localhost:5050. Start it with: npm run dev:admin-uploader"})]}),u.jsxs("div",{className:"glass-card rounded-2xl p-4",children:[u.jsx("h2",{className:"font-semibold mb-2",children:"Logs"}),u.jsx("div",{className:"h-64 overflow-auto text-sm whitespace-pre-wrap bg-black/20 rounded-xl p-3",children:n.length===0?u.jsx("p",{className:"text-white/50",children:"No logs yet"}):n.map((v,k)=>u.jsx("div",{children:v},k))})]}),u.jsx("div",{className:"text-white/60 text-sm mt-6",children:u.jsx("p",{children:"Tip: For bulk/automated uploads, use the Python script with SUPABASE_SERVICE_KEY. RLS allows only admins to write."})})]})})};function iy(){const[t,e]=R.useState(null),[n,r]=R.useState(!0);R.useEffect(()=>{var l;const a=localStorage.getItem("ccodeUser");if(a)try{const c=JSON.parse(a);e(c),(l=c.preferences)!=null&&l.notifications&&Pr(c.preferences.notifications)}catch(c){console.error("Error parsing saved user:",c),localStorage.removeItem("ccodeUser")}r(!1)},[]);const s=async a=>{var l;e(a),localStorage.setItem("ccodeUser",JSON.stringify(a)),(l=a.preferences)!=null&&l.notifications&&await Pr(a.preferences.notifications)},i=()=>{e(null),localStorage.removeItem("ccodeUser")},o=async a=>{var l;e(a),localStorage.setItem("ccodeUser",JSON.stringify(a)),(l=a.preferences)!=null&&l.notifications&&await Pr(a.preferences.notifications)};return n?u.jsx("div",{className:"min-h-screen bg-gradient-to-br from-dark-950 via-dark-900 to-dark-800 flex items-center justify-center",children:u.jsxs("div",{className:"text-center",children:[u.jsx("div",{className:"w-16 h-16 border-4 border-primary-500 border-t-transparent rounded-full animate-spin mx-auto mb-4"}),u.jsx("p",{className:"text-white/80 font-manrope text-lg",children:"Loading..."})]})}):u.jsxs("div",{className:"min-h-screen bg-gradient-to-br from-dark-950 via-dark-900 to-dark-800 font-manrope relative",children:[u.jsxs("div",{className:"fixed inset-0 overflow-hidden pointer-events-none",children:[u.jsx("div",{className:"absolute top-1/4 right-1/4 w-96 h-96 bg-gradient-primary opacity-10 rounded-full blur-3xl animate-float"}),u.jsx("div",{className:"absolute bottom-1/4 left-1/4 w-96 h-96 bg-gradient-secondary opacity-10 rounded-full blur-3xl animate-float",style:{animationDelay:"1s"}}),u.jsx("div",{className:"absolute top-1/2 left-1/2 w-64 h-64 bg-gradient-accent opacity-5 rounded-full blur-3xl animate-float",style:{animationDelay:"2s"}})]}),u.jsx("div",{className:"relative z-10 min-h-screen",children:t?t.role==="admin"?u.jsx(sy,{user:t,onLogout:i}):u.jsx(ny,{user:t,onLogout:i,onUpdateUser:o}):u.jsx("div",{className:"min-h-screen flex items-center justify-center container-responsive",children:u.jsx("div",{className:"w-full max-w-md",children:u.jsx(Bv,{onLogin:s})})})})]})}fo.createRoot(document.getElementById("root")).render(u.jsx(nf.StrictMode,{children:u.jsx(iy,{})}));
